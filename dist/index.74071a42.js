!function(){function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=i.parcelRequiref51f;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in r){let e=r[t];delete r[t];let i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}).register=function(t,e){r[t]=e},i.parcelRequiref51f=o),o.register("3OOJ5",(function(e,i){var n,r;t(e.exports,"register",(()=>n),(t=>n=t)),t(e.exports,"resolve",(()=>r),(t=>r=t));var o={};n=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)o[e[i]]=t[e[i]]},r=function(t){var e=o[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),o("3OOJ5").register(JSON.parse('{"3FB7m":"index.74071a42.js","4c6VI":"hi1.d2cf5c8e.png","3GCfi":"kristijan-arsov-woman-400.839b20ff.png","9waZR":"alexander-krivitskiy-2wOEPBkaH7o-unsplash.c5f8387d.png","595dK":"index.45781f91.css"}'));var s={};!function(t){var e=/^\s+/,i=/\s+$/,n=0,r=t.round,o=t.min,a=t.max,h=t.random;function c(s,h){if(h=h||{},(s=s||"")instanceof c)return s;if(!(this instanceof c))return new c(s,h);var l=function(n){var r={r:0,g:0,b:0},s=1,h=null,c=null,l=null,d=!1,f=!1;"string"==typeof n&&(n=function(t){t=t.replace(e,"").replace(i,"").toLowerCase();var n,r=!1;if(E[t])t=E[t],r=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(n=B.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=B.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=B.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=B.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=B.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=B.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=B.hex8.exec(t))?{r:T(n[1]),g:T(n[2]),b:T(n[3]),a:L(n[4]),format:r?"name":"hex8"}:(n=B.hex6.exec(t))?{r:T(n[1]),g:T(n[2]),b:T(n[3]),format:r?"name":"hex"}:(n=B.hex4.exec(t))?{r:T(n[1]+""+n[1]),g:T(n[2]+""+n[2]),b:T(n[3]+""+n[3]),a:L(n[4]+""+n[4]),format:r?"name":"hex8"}:!!(n=B.hex3.exec(t))&&{r:T(n[1]+""+n[1]),g:T(n[2]+""+n[2]),b:T(n[3]+""+n[3]),format:r?"name":"hex"}}(n));"object"==typeof n&&(W(n.r)&&W(n.g)&&W(n.b)?(u=n.r,g=n.g,b=n.b,r={r:255*C(u,255),g:255*C(g,255),b:255*C(b,255)},d=!0,f="%"===String(n.r).substr(-1)?"prgb":"rgb"):W(n.h)&&W(n.s)&&W(n.v)?(h=D(n.s),c=D(n.v),r=function(e,i,n){e=6*C(e,360),i=C(i,100),n=C(n,100);var r=t.floor(e),o=e-r,s=n*(1-i),a=n*(1-o*i),h=n*(1-(1-o)*i),c=r%6;return{r:255*[n,a,s,s,h,n][c],g:255*[h,n,n,a,s,s][c],b:255*[s,s,h,n,n,a][c]}}(n.h,h,c),d=!0,f="hsv"):W(n.h)&&W(n.s)&&W(n.l)&&(h=D(n.s),l=D(n.l),r=function(t,e,i){var n,r,o;function s(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}if(t=C(t,360),e=C(e,100),i=C(i,100),0===e)n=r=o=i;else{var a=i<.5?i*(1+e):i+e-i*e,h=2*i-a;n=s(h,a,t+1/3),r=s(h,a,t),o=s(h,a,t-1/3)}return{r:255*n,g:255*r,b:255*o}}(n.h,h,l),d=!0,f="hsl"),n.hasOwnProperty("a")&&(s=n.a));var u,g,b;return s=A(s),{ok:d,format:n.format||f,r:o(255,a(r.r,0)),g:o(255,a(r.g,0)),b:o(255,a(r.b,0)),a:s}}(s);this._originalInput=s,this._r=l.r,this._g=l.g,this._b=l.b,this._a=l.a,this._roundA=r(100*this._a)/100,this._format=h.format||l.format,this._gradientType=h.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=l.ok,this._tc_id=n++}function l(t,e,i){t=C(t,255),e=C(e,255),i=C(i,255);var n,r,s=a(t,e,i),h=o(t,e,i),c=(s+h)/2;if(s==h)n=r=0;else{var l=s-h;switch(r=c>.5?l/(2-s-h):l/(s+h),s){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,l:c}}function d(t,e,i){t=C(t,255),e=C(e,255),i=C(i,255);var n,r,s=a(t,e,i),h=o(t,e,i),c=s,l=s-h;if(r=0===s?0:l/s,s==h)n=0;else{switch(s){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:n,s:r,v:c}}function f(t,e,i,n){var o=[I(r(t).toString(16)),I(r(e).toString(16)),I(r(i).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function u(t,e,i,n){return[I(H(n)),I(r(t).toString(16)),I(r(e).toString(16)),I(r(i).toString(16))].join("")}function g(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.s-=e/100,i.s=_(i.s),c(i)}function b(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.s+=e/100,i.s=_(i.s),c(i)}function p(t){return c(t).desaturate(100)}function x(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.l+=e/100,i.l=_(i.l),c(i)}function y(t,e){e=0===e?0:e||10;var i=c(t).toRgb();return i.r=a(0,o(255,i.r-r(-e/100*255))),i.g=a(0,o(255,i.g-r(-e/100*255))),i.b=a(0,o(255,i.b-r(-e/100*255))),c(i)}function m(t,e){e=0===e?0:e||10;var i=c(t).toHsl();return i.l-=e/100,i.l=_(i.l),c(i)}function w(t,e){var i=c(t).toHsl(),n=(i.h+e)%360;return i.h=n<0?360+n:n,c(i)}function v(t){var e=c(t).toHsl();return e.h=(e.h+180)%360,c(e)}function M(t){var e=c(t).toHsl(),i=e.h;return[c(t),c({h:(i+120)%360,s:e.s,l:e.l}),c({h:(i+240)%360,s:e.s,l:e.l})]}function k(t){var e=c(t).toHsl(),i=e.h;return[c(t),c({h:(i+90)%360,s:e.s,l:e.l}),c({h:(i+180)%360,s:e.s,l:e.l}),c({h:(i+270)%360,s:e.s,l:e.l})]}function S(t){var e=c(t).toHsl(),i=e.h;return[c(t),c({h:(i+72)%360,s:e.s,l:e.l}),c({h:(i+216)%360,s:e.s,l:e.l})]}function P(t,e,i){e=e||6,i=i||30;var n=c(t).toHsl(),r=360/i,o=[c(t)];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,o.push(c(n));return o}function R(t,e){e=e||6;for(var i=c(t).toHsv(),n=i.h,r=i.s,o=i.v,s=[],a=1/e;e--;)s.push(c({h:n,s:r,v:o})),o=(o+a)%1;return s}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,i,n,r=this.toRgb();return e=r.r/255,i=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:t.pow((i+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=A(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=r(360*t.h),i=r(100*t.s),n=r(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+n+"%)":"hsva("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=l(this._r,this._g,this._b),e=r(360*t.h),i=r(100*t.s),n=r(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+n+"%)":"hsla("+e+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(t){return f(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,i,n,o){var s=[I(r(t).toString(16)),I(r(e).toString(16)),I(r(i).toString(16)),I(H(n))];return o&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*C(this._r,255))+"%",g:r(100*C(this._g,255))+"%",b:r(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*C(this._r,255))+"%, "+r(100*C(this._g,255))+"%, "+r(100*C(this._b,255))+"%)":"rgba("+r(100*C(this._r,255))+"%, "+r(100*C(this._g,255))+"%, "+r(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(F[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+u(this._r,this._g,this._b,this._a),i=e,n=this._gradientType?"GradientType = 1, ":"";if(t){var r=c(t);i="#"+u(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+i+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&this._a>=0;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),"hsv"===t&&(i=this.toHsvString()),i||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(t,e){var i=t.apply(null,[this].concat([].slice.call(e)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(m,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(v,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},c.fromRatio=function(t,e){if("object"==typeof t){var i={};for(var n in t)t.hasOwnProperty(n)&&(i[n]="a"===n?t[n]:D(t[n]));t=i}return c(t,e)},c.equals=function(t,e){return!(!t||!e)&&c(t).toRgbString()==c(e).toRgbString()},c.random=function(){return c.fromRatio({r:h(),g:h(),b:h()})},c.mix=function(t,e,i){i=0===i?0:i||50;var n=c(t).toRgb(),r=c(e).toRgb(),o=i/100;return c({r:(r.r-n.r)*o+n.r,g:(r.g-n.g)*o+n.g,b:(r.b-n.b)*o+n.b,a:(r.a-n.a)*o+n.a})},c.readability=function(e,i){var n=c(e),r=c(i);return(t.max(n.getLuminance(),r.getLuminance())+.05)/(t.min(n.getLuminance(),r.getLuminance())+.05)},c.isReadable=function(t,e,i){var n,r,o=c.readability(t,e);switch(r=!1,(n=function(t){var e,i;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),i=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==i&&"large"!==i&&(i="small");return{level:e,size:i}}(i)).level+n.size){case"AAsmall":case"AAAlarge":r=o>=4.5;break;case"AAlarge":r=o>=3;break;case"AAAsmall":r=o>=7}return r},c.mostReadable=function(t,e,i){var n,r,o,s,a=null,h=0;r=(i=i||{}).includeFallbackColors,o=i.level,s=i.size;for(var l=0;l<e.length;l++)(n=c.readability(t,e[l]))>h&&(h=n,a=c(e[l]));return c.isReadable(t,a,{level:o,size:s})||!r?a:(i.includeFallbackColors=!1,c.mostReadable(t,["#fff","#000"],i))};var E=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=c.hexNames=function(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[t[i]]=i);return e}(E);function A(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function C(e,i){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=o(i,a(0,parseFloat(e))),n&&(e=parseInt(e*i,10)/100),t.abs(e-i)<1e-6?1:e%i/parseFloat(i)}function _(t){return o(1,a(0,t))}function T(t){return parseInt(t,16)}function I(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function H(e){return t.round(255*parseFloat(e)).toString(16)}function L(t){return T(t)/255}var z,q,O,B=(q="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",O="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+O),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+O),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+O),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(t){return!!B.CSS_UNIT.exec(t)}s?s=c:"function"==typeof define&&define.amd?define((function(){return c})):window.tinycolor=c}(Math);class a{constructor(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}toString(){return`${this.x}, ${this.y}`}negative(){return new a(-this.x,-this.y,-this.z)}add(t){return t instanceof a?new a(this.x+t.x,this.y+t.y,this.z+t.z):new a(this.x+t,this.y+t,this.z+t)}sub(t){return t instanceof a?new a(this.x-t.x,this.y-t.y,this.z-t.z):new a(this.x-t,this.y-t,this.z-t)}mult(t){return t instanceof a?new a(this.x*t.x,this.y*t.y,this.z*t.z):new a(this.x*t,this.y*t,this.z*t)}mix(t,e){return((t,e,i)=>e.sub(t).mult(i).add(t))(this,t,e)}div(t){return t instanceof a?new a(this.x/t.x,this.y/t.y,this.z/t.z):new a(this.x/t,this.y/t,this.z/t)}equals(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}cross(t){return new a(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}length(){return Math.sqrt(this.dot(this))}mag(){return this.length()}magSq(){const t=this.length();return t*t}setMag(t){const e=t/this.mag();return this.mult(e)}normalize(){let t=this.mag();return t=t||1,this.div(t)}unit(){return this.div(this.length())}min(){return Math.min(Math.min(this.x,this.y),this.z)}max(){return Math.max(Math.max(this.x,this.y),this.z)}limit(t){return this.mag()>t?this.setMag(t):this}angle(){return Math.atan2(this.y,this.x)}toAngles(){return{theta:Math.atan2(this.z,this.x),phi:Math.asin(this.y/this.length())}}angleTo(t){return Math.acos(this.dot(t)/(this.length()*t.length()))}toArray(t){return[this.x,this.y,this.z].slice(0,t||3)}clone(){return new a(this.x,this.y,this.z)}ceil(){return new a(Math.ceil(this.x),Math.ceil(this.y),Math.ceil(this.z))}floor(){return new a(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))}round(){return new a(Math.round(this.x),Math.round(this.y),Math.round(this.z))}}Math.PI;const{PI:h}=Math,c=2*Math.PI,{abs:l}=Math,{sin:d}=Math,{cos:f}=Math,{tan:u}=Math,{pow:g}=Math,{round:b}=Math,{floor:p}=Math,x=(t=0,e=1,i)=>Math.min(e,Math.max(t,i)),y=(t,e)=>Math.floor(e/t)*t,m=(t,e)=>Math.round(e*(t/100)),w=(t,e)=>(Math.round(e*(t/Math.PI))+t)%t,v=t=>Math.round(100*(t+Number.EPSILON))/100,M=(t,e)=>Math.round(e/t)*t,k=(t,e,i)=>1-((t,e,i)=>(i-t)/(e-t))(t,e,i),S=(t,e,i)=>t*(1-i)+e*i,P=(t,e,i,n,r)=>S(i,n,((t,e,i)=>x(0,1,(i-t)/(e-t)))(t,e,r)),R=t=>new a(Math.cos(t),Math.sin(t)),E=t=>t*Math.PI/180;var F,A={},C=256,_=[],T=void 0===i?window:i,I=Math.pow(C,6),D=Math.pow(2,52),H=2*D,L=255,z=Math.random;function q(t){var e,i=t.length,n=this,r=0,o=n.i=n.j=0,s=n.S=[];for(i||(t=[i++]);r<C;)s[r]=r++;for(r=0;r<C;r++)s[r]=s[o=L&o+t[r%i]+(e=s[r])],s[o]=e;(n.g=function(t){for(var e,i=0,r=n.i,o=n.j,s=n.S;t--;)e=s[r=L&r+1],i=i*C+s[L&(s[r]=s[o=L&o+e])+(s[o]=e)];return n.i=r,n.j=o,i})(C)}function O(t,e){var i,n=[],r=(typeof t)[0];if(e&&"o"==r)for(i in t)try{n.push(O(t[i],e-1))}catch(t){}return n.length?n:"s"==r?t:t+"\0"}function B(t,e){for(var i,n=t+"",r=0;r<n.length;)e[L&r]=L&(i^=19*e[L&r])+n.charCodeAt(r++);return X(e)}function W(t){try{return T.crypto.getRandomValues(t=new Uint8Array(C)),X(t)}catch(t){return[+new Date,T,T.navigator&&T.navigator.plugins,T.screen,X(_)]}}function X(t){return String.fromCharCode.apply(0,t)}(A=function(t,e){if(e&&!0===e.global)return e.global=!1,Math.random=A(t,e),e.global=!0,Math.random;var i=e&&e.entropy||!1,n=[],r=(B(O(i?[t,X(_)]:0 in arguments?t:W(),3),n),new q(n));return B(X(r.S),_),function(){for(var t=r.g(6),e=I,i=0;t<D;)t=(t+i)*C,e*=C,i=r.g(1);for(;t>=H;)t/=2,e/=2,i>>>=1;return(t+i)/e}}).resetGlobal=function(){Math.random=z},B(Math.random(),_);var V={};!function(){var t=.5*(Math.sqrt(3)-1),e=(3-Math.sqrt(3))/6,i=1/6,n=(Math.sqrt(5)-1)/4,r=(5-Math.sqrt(5))/20;function o(t){var e;e="function"==typeof t?t:t?function(){var t=0,e=0,i=0,n=1,r=a();t=r(" "),e=r(" "),i=r(" ");for(var o=0;o<arguments.length;o++)(t-=r(arguments[o]))<0&&(t+=1),(e-=r(arguments[o]))<0&&(e+=1),(i-=r(arguments[o]))<0&&(i+=1);return r=null,function(){var r=2091639*t+2.3283064365386963e-10*n;return t=e,e=i,i=r-(n=0|r)}}(t):Math.random,this.p=s(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var i=0;i<512;i++)this.perm[i]=this.p[255&i],this.permMod12[i]=this.perm[i]%12}function s(t){var e,i=new Uint8Array(256);for(e=0;e<256;e++)i[e]=e;for(e=0;e<255;e++){var n=e+~~(t()*(256-e)),r=i[e];i[e]=i[n],i[n]=r}return i}function a(){var t=4022871197;return function(e){e=e.toString();for(var i=0;i<e.length;i++){var n=.02519603282416938*(t+=e.charCodeAt(i));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}o.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(i,n){var r,o,s=this.permMod12,a=this.perm,h=this.grad3,c=0,l=0,d=0,f=(i+n)*t,u=Math.floor(i+f),g=Math.floor(n+f),b=(u+g)*e,p=i-(u-b),x=n-(g-b);p>x?(r=1,o=0):(r=0,o=1);var y=p-r+e,m=x-o+e,w=p-1+2*e,v=x-1+2*e,M=255&u,k=255&g,S=.5-p*p-x*x;if(S>=0){var P=3*s[M+a[k]];c=(S*=S)*S*(h[P]*p+h[P+1]*x)}var R=.5-y*y-m*m;if(R>=0){var E=3*s[M+r+a[k+o]];l=(R*=R)*R*(h[E]*y+h[E+1]*m)}var F=.5-w*w-v*v;if(F>=0){var A=3*s[M+1+a[k+1]];d=(F*=F)*F*(h[A]*w+h[A+1]*v)}return 70*(c+l+d)},noise3D:function(t,e,n){var r,o,s,a,h,c,l,d,f,u,g=this.permMod12,b=this.perm,p=this.grad3,x=.3333333333333333*(t+e+n),y=Math.floor(t+x),m=Math.floor(e+x),w=Math.floor(n+x),v=(y+m+w)*i,M=t-(y-v),k=e-(m-v),S=n-(w-v);M>=k?k>=S?(h=1,c=0,l=0,d=1,f=1,u=0):M>=S?(h=1,c=0,l=0,d=1,f=0,u=1):(h=0,c=0,l=1,d=1,f=0,u=1):k<S?(h=0,c=0,l=1,d=0,f=1,u=1):M<S?(h=0,c=1,l=0,d=0,f=1,u=1):(h=0,c=1,l=0,d=1,f=1,u=0);var P=M-h+i,R=k-c+i,E=S-l+i,F=M-d+2*i,A=k-f+2*i,C=S-u+2*i,_=M-1+.5,T=k-1+.5,I=S-1+.5,D=255&y,H=255&m,L=255&w,z=.6-M*M-k*k-S*S;if(z<0)r=0;else{var q=3*g[D+b[H+b[L]]];r=(z*=z)*z*(p[q]*M+p[q+1]*k+p[q+2]*S)}var O=.6-P*P-R*R-E*E;if(O<0)o=0;else{var B=3*g[D+h+b[H+c+b[L+l]]];o=(O*=O)*O*(p[B]*P+p[B+1]*R+p[B+2]*E)}var W=.6-F*F-A*A-C*C;if(W<0)s=0;else{var X=3*g[D+d+b[H+f+b[L+u]]];s=(W*=W)*W*(p[X]*F+p[X+1]*A+p[X+2]*C)}var V=.6-_*_-T*T-I*I;if(V<0)a=0;else{var Y=3*g[D+1+b[H+1+b[L+1]]];a=(V*=V)*V*(p[Y]*_+p[Y+1]*T+p[Y+2]*I)}return 32*(r+o+s+a)},noise4D:function(t,e,i,o){var s,a,h,c,l,d,f,u,g,b,p,x,y,m,w,v,M,k=this.perm,S=this.grad4,P=(t+e+i+o)*n,R=Math.floor(t+P),E=Math.floor(e+P),F=Math.floor(i+P),A=Math.floor(o+P),C=(R+E+F+A)*r,_=t-(R-C),T=e-(E-C),I=i-(F-C),D=o-(A-C),H=0,L=0,z=0,q=0;_>T?H++:L++,_>I?H++:z++,_>D?H++:q++,T>I?L++:z++,T>D?L++:q++,I>D?z++:q++;var O=_-(d=H>=3?1:0)+r,B=T-(f=L>=3?1:0)+r,W=I-(u=z>=3?1:0)+r,X=D-(g=q>=3?1:0)+r,V=_-(b=H>=2?1:0)+2*r,Y=T-(p=L>=2?1:0)+2*r,N=I-(x=z>=2?1:0)+2*r,j=D-(y=q>=2?1:0)+2*r,$=_-(m=H>=1?1:0)+3*r,U=T-(w=L>=1?1:0)+3*r,G=I-(v=z>=1?1:0)+3*r,J=D-(M=q>=1?1:0)+3*r,Z=_-1+4*r,Q=T-1+4*r,K=I-1+4*r,tt=D-1+4*r,et=255&R,it=255&E,nt=255&F,rt=255&A,ot=.6-_*_-T*T-I*I-D*D;if(ot<0)s=0;else{var st=k[et+k[it+k[nt+k[rt]]]]%32*4;s=(ot*=ot)*ot*(S[st]*_+S[st+1]*T+S[st+2]*I+S[st+3]*D)}var at=.6-O*O-B*B-W*W-X*X;if(at<0)a=0;else{var ht=k[et+d+k[it+f+k[nt+u+k[rt+g]]]]%32*4;a=(at*=at)*at*(S[ht]*O+S[ht+1]*B+S[ht+2]*W+S[ht+3]*X)}var ct=.6-V*V-Y*Y-N*N-j*j;if(ct<0)h=0;else{var lt=k[et+b+k[it+p+k[nt+x+k[rt+y]]]]%32*4;h=(ct*=ct)*ct*(S[lt]*V+S[lt+1]*Y+S[lt+2]*N+S[lt+3]*j)}var dt=.6-$*$-U*U-G*G-J*J;if(dt<0)c=0;else{var ft=k[et+m+k[it+w+k[nt+v+k[rt+M]]]]%32*4;c=(dt*=dt)*dt*(S[ft]*$+S[ft+1]*U+S[ft+2]*G+S[ft+3]*J)}var ut=.6-Z*Z-Q*Q-K*K-tt*tt;if(ut<0)l=0;else{var gt=k[et+1+k[it+1+k[nt+1+k[rt+1]]]]%32*4;l=(ut*=ut)*ut*(S[gt]*Z+S[gt+1]*Q+S[gt+2]*K+S[gt+3]*tt)}return 27*(s+a+h+c+l)}},o._buildPermutationTable=s,"undefined"!=typeof define&&define.amd&&define((function(){return o})),void 0!==V?V.SimplexNoise=o:"undefined"!=typeof window&&(window.SimplexNoise=o),V=o}();var Y;Y=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},e(F=function t(e){e=Y(e,null);var i,n,r,o=Math.random,s=null,a=!1;function h(t,e){"number"==typeof t||"string"==typeof t?n=A(i=t,e):(i=void 0,n=o),r=l(),s=null,a=!1}function c(){return n()}function l(){return new V(n)}function d(){return c()>.5}function f(t,e){if(void 0===e&&(e=t,t=0),"number"!=typeof t||"number"!=typeof e)throw new TypeError("Expected all arguments to be numbers");return c()*(e-t)+t}function u(t,e){if(void 0===e&&(e=t,t=0),"number"!=typeof t||"number"!=typeof e)throw new TypeError("Expected all arguments to be numbers");return Math.floor(f(t,e))}function g(t,e){t=Y(t,1),e=e||[];var i=2*c()*Math.PI;return e[0]=t*Math.cos(i),e[1]=t*Math.sin(i),e}function b(t){return 0===(t=t||[]).length?-1:p(t.map((function(t){return t.weight})))}function p(t){if(0===(t=t||[]).length)return-1;var e,i=0;for(e=0;e<t.length;e++)i+=t[e];if(i<=0)throw new Error("Weights must sum to > 0");var n=c()*i;for(e=0;e<t.length;e++){if(n<t[e])return e;n-=t[e]}return 0}return h(e),{value:c,createRandom:function(e){return t(e)},setSeed:h,getSeed:function(){return i},getRandomSeed:function(){return String(Math.floor(1e6*Math.random()))},valueNonZero:function(){for(var t=0;0===t;)t=c();return t},permuteNoise:function(){r=l()},noise1D:function(t,e,i){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");return e=Y(e,1),(i=Y(i,1))*r.noise2D(t*e,0)},noise2D:function(t,e,i,n){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");return i=Y(i,1),(n=Y(n,1))*r.noise2D(t*i,e*i)},noise3D:function(t,e,i,n,o){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");if(!isFinite(i))throw new TypeError("z component for noise() must be finite");return n=Y(n,1),(o=Y(o,1))*r.noise3D(t*n,e*n,i*n)},noise4D:function(t,e,i,n,o,s){if(!isFinite(t))throw new TypeError("x component for noise() must be finite");if(!isFinite(e))throw new TypeError("y component for noise() must be finite");if(!isFinite(i))throw new TypeError("z component for noise() must be finite");if(!isFinite(n))throw new TypeError("w component for noise() must be finite");return o=Y(o,1),(s=Y(s,1))*r.noise4D(t*o,e*o,i*o,n*o)},sign:function(){return d()?1:-1},boolean:d,chance:function(t){if("number"!=typeof(t=Y(t,.5)))throw new TypeError("expected n to be a number");return c()<t},range:f,rangeFloor:u,pick:function(t){if(0!==t.length)return t[u(0,t.length)]},shuffle:function(t){if(!Array.isArray(t))throw new TypeError("Expected Array, got "+typeof t);for(var e,i,n=t.length,r=t.slice();n;)e=Math.floor(c()*n--),i=r[n],r[n]=r[e],r[e]=i;return r},onCircle:g,insideCircle:function(t,e){t=Y(t,1),g(1,e=e||[]);var i=t*Math.sqrt(c());return e[0]*=i,e[1]*=i,e},onSphere:function(t,e){t=Y(t,1),e=e||[];var i=c()*Math.PI*2,n=2*c()-1,r=i,o=Math.acos(n);return e[0]=t*Math.sin(o)*Math.cos(r),e[1]=t*Math.sin(o)*Math.sin(r),e[2]=t*Math.cos(o),e},insideSphere:function(t,e){t=Y(t,1),e=e||[];var i=c()*Math.PI*2,n=2*c()-1,r=c(),o=i,s=Math.acos(n),a=t*Math.cbrt(r);return e[0]=a*Math.sin(s)*Math.cos(o),e[1]=a*Math.sin(s)*Math.sin(o),e[2]=a*Math.cos(s),e},quaternion:function(t){t=t||[];var e=c(),i=c(),n=c(),r=Math.sqrt(1-e),o=Math.sqrt(e),s=2*Math.PI*i,a=2*Math.PI*n,h=Math.sin(s)*r,l=Math.cos(s)*r,d=Math.sin(a)*o,f=Math.cos(a)*o;return t[0]=h,t[1]=l,t[2]=d,t[3]=f,t},weighted:p,weightedSet:function(t){return 0===(t=t||[]).length?null:t[b(t)].value},weightedSetIndex:b,gaussian:function(t,e){if(t=Y(t,0),e=Y(e,1),a){a=!1;var i=s;return s=null,t+e*i}var n=0,r=0,o=0;do{o=(n=2*c()-1)*n+(r=2*c()-1)*r}while(o>=1||0===o);var h=Math.sqrt(-2*Math.log(o)/o);return s=r*h,a=!0,t+e*(n*h)}}}()).setSeed(e(F).getRandomSeed()),console.log(`Using seed ${e(F).getSeed()}`);const N=()=>{let t=0,i=0;for(;0===t;)t=e(F).value();for(;0===i;)i=e(F).value();let n=Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*i);return n=n/10+.5,n>1||n<0?N():n},j=(t,e)=>Math.round(N()*(e-t)+t),$=(t,i)=>e(F).valueNonZero()*(i-t)+t,U=(t,i)=>Math.floor(e(F).value()*(i-t)+t),G=()=>1===Math.round(e(F).value())?1:-1,J=()=>1===Math.round(e(F).value()),Z=t=>t[U(0,t.length-1)],Q=(t,e,i)=>Array.from(new Array(t)).map((()=>$(e,i))),K=(t,e)=>({x:t,y:e}),tt=t=>t.map((t=>(t=>new a(t[0],t[1]))(t))),et=t=>t.map((t=>{return[(e=t).x,e.y];var e})),it=(t,e)=>{const i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},nt=(t,e=2)=>t.reduce(((i,n,r)=>((0===r||r===t.length-1||r%e==0)&&i.push(n),i)),[]),rt=t=>(t=>{const e=[];for(let i=0;i<t.length;i+=2)e.push([t[i],t[i+1]]);return e})(((t,e,i,n)=>{let r;e="number"==typeof e?e:.5,i=i||25;let o=1,s=t.length,a=0;const h=(s-2)*i+2+(n?2*i:0);if(h<0)return[];const c=new Float32Array(h),l=new Float32Array(4*(i+2));let d=4;for(r=t.slice(0),n?(r.unshift(t[s-1]),r.unshift(t[s-2]),r.push(t[0],t[1])):(r.unshift(t[1]),r.unshift(t[0]),r.push(t[s-2],t[s-1])),l[0]=1;o<i;o++){const t=o/i,e=t*t,n=e*t,r=2*n,s=3*e;l[d++]=r-s+1,l[d++]=s-r,l[d++]=n-2*e+t,l[d++]=n-e}function f(t,n,r){for(var o,s=2;s<r;s+=2){const r=t[s],h=t[s+1],l=t[s+2],d=t[s+3],f=(l-t[s-2])*e,u=(d-t[s-1])*e,g=(t[s+4]-r)*e,b=(t[s+5]-h)*e;for(o=0;o<i;o++){const t=o<<2,e=n[t],i=n[t+1],s=n[t+2],p=n[t+3];c[a++]=e*r+i*l+s*f+p*g,c[a++]=e*h+i*d+s*u+p*b}}}return l[++d]=1,f(r,l,s),n&&(r=[],r.push(t[s-4],t[s-3],t[s-2],t[s-1]),r.push(t[0],t[1],t[2],t[3]),f(r,l,4)),s=n?0:t.length-2,c[a++]=t[s],c[a]=t[s+1],c})(t.reduce(((t,e)=>(e&&(t.push(e[0]),t.push(e[1])),t)),[])));class ot{#x;#y;#color;constructor({index:t,x:i,y:n,velocityX:r,velocityY:o,accelerationX:a,accelerationY:h,radius:c,mass:l,color:d,alpha:f,rotation:u,drawFn:g,updateFn:b,colorFn:p,...x}){this.props=x,this.index=t||0,this.#x=i||0,this.#y=n||0,this.xHistory=[i],this.yHistory=[n],this.oX=i||this.oX,this.oY=n||this.oY,this.velocityX=r||0,this.velocityY=o||0,this.accelerationX=a||0,this.accelerationY=h||0,this.mass=l||1,this.radius=c||1,this.#color=e(s)(d||{r:255,g:255,b:255}),this.rotation=u||0,this.colorFn=p}get color(){return this.colorFn?e(s)(this.colorFn(this)):this.#color}set color(t){this.#color=e(s)(t)}get colorStr(){if(this.colorFn){const t=this.colorFn(this);return"string"!=typeof t?(console.warn("Particle color fn must return a string!"),"#ff0000"):t}return this.#color.toRgbString()}get x(){return this.#x}set x(t){this.#x=t,this.xHistory.unshift(t),this.xHistory.length>30&&(this.xHistory=this.xHistory.slice(0,30))}get y(){return this.#y}set y(t){this.#y=t,this.yHistory.unshift(t),this.yHistory.length>30&&(this.yHistory=this.yHistory.slice(0,30))}get velocity(){return new a(this.velocityX,this.velocityY,0)}set velocity({x:t,y:e}){this.velocityX=t,this.velocityY=e}get acceleration(){return new a(this.accelerationX,this.accelerationY,0)}set acceleration({x:t,y:e}){this.accelerationX=t,this.accelerationY=e}get heading(){return(({velocityX:t,velocityY:e})=>Math.atan2(e,t))(this)}reverseVelocityX(){this.velocityX*=-1}reverseVelocityY(){this.velocityY*=-1}updatePosWithVelocity(){this.x+=this.velocity.x,this.y+=this.velocity.y}applyForce(t){const e=t.div(this.mass),i=this.acceleration.add(e),n=this.velocity.add(i);this.acceleration=i,this.velocity=n}friction(t=.1){const e=this.mass,i=this.velocity.normalize().mult(-1).setMag(t*e);this.applyForce(i)}drag(t=.1){const e=this.velocity.normalize().mult(-1),i=1*this.velocity.magSq()*t,n=e.setMag(i);this.applyForce(n)}attract({x:t,y:e,mass:i,g:n},r=1,o=1e3){if(it({x:t,y:e},{x:this.x,y:this.y})<o){n=n||1;const o=new a(t,e).sub(new a(this.x,this.y)),s=x(50,5e3,o.magSq()),h=r*(n*(i*this.mass))/s,c=o.setMag(h);this.applyForce(c)}}}const st=({width:t,height:e})=>({radius:$(5,10),x:$(0,t),y:$(0,e),mass:$(1,10),velocityX:$(-2,2),velocityY:$(-2,2),accelerationX:0,accelerationY:0,rotation:$(-180,180),color:{r:$(100,255),g:$(100,255),b:$(100,255)}}),at=({width:t,height:e},i)=>{i.x+i.radius>t&&(i.reverseVelocityX(),i.x=t-i.radius),i.x-i.radius<0&&(i.reverseVelocityX(),i.x=i.radius),i.y+i.radius>e&&(i.reverseVelocityY(),i.y=e-i.radius),i.y-i.radius<0&&(i.reverseVelocityY(),i.y=i.radius)},ht=({width:t,height:e},i)=>{i.x+i.radius>t?i.x=0+i.radius:i.x-i.radius<0&&(i.x=t-i.radius),i.y+i.radius>e?i.y=0+i.radius:i.y-i.radius<0&&(i.y=e-i.radius)};var ct={};t(ct,"blendMode",(()=>Mt)),t(ct,"background",(()=>At)),t(ct,"filter",(()=>kt)),t(ct,"sharpLines",(()=>vt)),t(ct,"fillColor",(()=>Et)),t(ct,"resetContext",(()=>yt)),t(ct,"squareLines",(()=>wt)),t(ct,"setContext",(()=>xt)),t(ct,"strokeDash",(()=>Rt)),t(ct,"currentContextScale",(()=>gt)),t(ct,"clear",(()=>Ft)),t(ct,"strokeWeight",(()=>St)),t(ct,"roundLines",(()=>mt)),t(ct,"resizeCanvas",(()=>bt)),t(ct,"strokeColor",(()=>Pt)),t(ct,"isHiDPICanvas",(()=>ut));let lt=!1,dt=1;const ft=[],ut=t=>lt,gt=t=>dt,bt=(t,e,i,n,r)=>{dt=r||window.devicePixelRatio,t.style.width=`${i}px`,t.style.height=`${n}px`,t.width=Math.floor(i*dt),t.height=Math.floor(n*dt),2===dt?(lt=!0,e.scale(1,1)):e.scale(dt,dt)},pt={strokeStyle:"#000",fillStyle:"#000",globalAlpha:1,lineWidth:1,lineCap:"butt",lineJoin:"miter",textAlign:"left",textBaseline:"top",globalCompositeOperation:"source-over"},xt=t=>e=>{ft.push(e),Object.keys(e).forEach((i=>{t[i]=e[i]}))},yt=t=>{xt(t)(pt),t.setLineDash([])},mt=t=>(i,n)=>{xt(t)({lineWidth:i||t.lineWidth,strokeStyle:n?e(s)(n).toRgbString():t.strokeStyle,lineCap:"round",lineJoin:"round"})},wt=t=>(i,n)=>xt(t)({lineWidth:i||t.lineWidth,strokeStyle:n?e(s)(n).toRgbString():t.strokeStyle,lineCap:"butt",lineJoin:"miter"}),vt=t=>t.translate(.5,.5),Mt=t=>(e="source-over")=>xt(t)({globalCompositeOperation:e}),kt=t=>(e="")=>xt(t)({filter:e}),St=t=>(e=1)=>xt(t)({lineWidth:e}),Pt=t=>(i="#000")=>xt(t)({strokeStyle:e(s)(i).toRgbString()}),Rt=t=>(e=[])=>t.setLineDash(e),Et=t=>(i="#000")=>xt(t)({fillStyle:e(s)(i).toRgbString()}),Ft=({width:t,height:e},i)=>n=>i.clearRect(0,0,t,e),At=({width:t,height:i},n)=>(r="black")=>{n.fillStyle=e(s)(r).toRgbString(),n.fillRect(0,0,t,i)};var Ct={};t(Ct,"line",(()=>Tt)),t(Ct,"rectFilled",(()=>qt)),t(Ct,"circleFilled",(()=>Lt)),t(Ct,"squareFilled",(()=>Ot)),t(Ct,"rect",(()=>zt)),t(Ct,"drawTriangleFilled",(()=>Bt)),t(Ct,"lineAtAngle",(()=>It)),t(Ct,"pointPathPO",(()=>Nt)),t(Ct,"pointPathPA",(()=>Yt)),t(Ct,"arcQuarter",(()=>jt)),t(Ct,"circleOld",(()=>Dt)),t(Ct,"roundRectFilled",(()=>Xt)),t(Ct,"pixel",(()=>_t)),t(Ct,"quadRectFilled",(()=>Wt)),t(Ct,"pixelAtPoints",(()=>Vt)),t(Ct,"circle",(()=>Ht));const _t=t=>(i,n,r="black",o="square",a)=>{a=a||gt(),t.beginPath(),t.fillStyle=e(s)(r).toRgbString(),"circleOld"===o?(t.beginPath(),t.arc(i,n,a,0,2*Math.PI,!1),t.fill()):t.fillRect(i,n,a,a),t.closePath()},Tt=t=>(e,i,n,r,o,s)=>{t.beginPath(),o&&(t.lineWidth=o),s&&(t.lineCap=s),t.moveTo(e,i),t.lineTo(n,r),t.stroke(),t.closePath()},It=t=>(e,i,n,r,o,s)=>{const a=Math.PI*n/180,h=e+r*Math.cos(a),c=i+r*Math.sin(a);Tt(t)(e,i,h,c,o,s)},Dt=t=>(i,n,r,o,a)=>{t.beginPath(),a&&(t.strokeStyle=e(s)(a).toRgbString()),t.lineWidth=i,t.arc(n,r,o,0,2*Math.PI,!1),t.stroke(),t.closePath()},Ht=t=>(i,n,r,o)=>{t.beginPath(),o&&(t.strokeStyle=e(s)(o).toRgbString()),t.arc(i,n,r,0,2*Math.PI,!1),t.stroke(),t.closePath()},Lt=t=>(i,n,r,o)=>{t.beginPath(),t.arc(i,n,r,0,2*Math.PI,!1),t.fillStyle=e(s)(o).toRgbString(),t.fill(),t.closePath()},zt=t=>(i,n,r,o,a=1,h)=>{t.beginPath(),h&&(t.strokeStyle=e(s)(h).toRgbString()),t.lineWidth=a,t.rect(i,n,r,o),t.stroke(),t.closePath()},qt=t=>(i,n,r,o,a="white")=>{t.beginPath(),t.fillStyle=e(s)(a).toRgbString(),t.fillRect(i,n,r,o),t.closePath()},Ot=t=>(e,i,n,r)=>{qt(t)(e,i,n,n,r)},Bt=t=>(e,i,n,r)=>{const o=n/2;t.beginPath(),t.moveTo(e-o,i-o),t.lineTo(e+o,i),t.lineTo(e-o,i+o),t.fillStyle=r.toRgbString(),t.fill(),t.closePath()},Wt=t=>(i,n,r,o,a)=>{const h=i+r/2,c=n+o/2;t.beginPath(),t.fillStyle=e(s)(a).toRgbString(),t.moveTo(i,c),t.quadraticCurveTo(i,n,h,n),t.quadraticCurveTo(i+r,n,i+r,c),t.quadraticCurveTo(i+r,n+o,h,n+o),t.quadraticCurveTo(i,n+o,i,c),t.fill(),t.closePath()},Xt=t=>(i,n,r,o,a,h)=>{(r<a||o<a)&&(a=Math.min(r,o));const c=i+r,l=n+o;t.beginPath(),t.fillStyle=e(s)(h).toRgbString(),t.moveTo(i+a,n),t.lineTo(c-a,n),t.quadraticCurveTo(c,n,c,n+a),t.lineTo(c,n+o-a),t.quadraticCurveTo(c,l,c-a,l),t.lineTo(i+a,l),t.quadraticCurveTo(i,l,i,l-a),t.lineTo(i,n+a),t.quadraticCurveTo(i,n,i+a,n),t.fill(),t.closePath()},Vt=t=>(e,i="black",n=1)=>{e.forEach(((e,r)=>{_t(t)(e[0],e[1],i,"circleOld",n)}))},Yt=t=>(i,n="black",r=1,o=!1,a=!1)=>{t.beginPath(),t.strokeStyle=e(s)(n).clone().toRgbString(),t.lineWidth=r,t.lineCap="round",t.lineJoin="round",i.forEach(((e,i)=>{0===i?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1]),a&&Lt(t)(e[0],e[1],1,"red")})),o&&t.lineTo(i[0][0],i[0][1]),t.stroke(),t.closePath()},Nt=t=>(i,n="black",r=1,o=!1,a=!1)=>{t.beginPath(),t.strokeStyle=e(s)(n).clone().toRgbString(),t.lineWidth=r,t.lineCap="round",t.lineJoin="round",i.forEach(((e,i)=>{0===i?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y),a&&Lt(t)(e.x,e.y,1,"red")})),o&&t.lineTo(i[0].x,i[0].y),t.stroke(),t.closePath()},jt=t=>(e,i,n,r,o=!1)=>{const s=y(Math.PI/2,r),a=s+Math.PI/2;t.beginPath(),t.arc(e,i,n,s,a,o),t.stroke(),t.closePath()},$t=t=>({x:e,y:i,radius:n,color:r})=>{t.beginPath(),t.arc(e,i,n,0,2*Math.PI,!1),t.fillStyle=r.toRgbString(),t.fill()},Ut=t=>(e,i,n=!0)=>{const r=e.length;for(let o=0;o<r;o++)for(let s=o;s<r;s++){const r=e[o],a=e[s],h=it(r,a);if(h<i){const e=r.color;n&&e.setAlpha(k(0,i,h)),t.strokeStyle=e.toHslString(),Tt(t)(r.x,r.y,a.x,a.y,.5)}}yt(t)},Gt=(t,e,i=1)=>{((t=.2,e=1)=>(i,n,r,o)=>{const s=it({x:i,y:n},o);if(s<r){const a=(i-o.x)/s,h=(n-o.y)/s,c=k(0,r,s)*e*t,l=a*c*o.radius*2,d=h*c*o.radius*2;o.x+=l,o.y+=d}})(1,i*=-1)(t.x,t.y,t.radius,e)};var Jt;o.register("31oBo",(function(e,i){var n;t(e.exports,"getBundleURL",(()=>n),(t=>n=t));var r=null;function o(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(){return r||(r=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return o(t[0])}return"/"}()),r}})),o.register("3XRD4",(function(t,e){"use strict";var i=o("3OOJ5").resolve;function n(t){if(""===t)return".";var e="/"===t[t.length-1]?t.slice(0,t.length-1):t,i=e.lastIndexOf("/");return-1===i?".":e.slice(0,i)}function r(t,e){if(t===e)return"";var i=t.split("/");"."===i[0]&&i.shift();var n,r,o=e.split("/");for("."===o[0]&&o.shift(),n=0;(n<o.length||n<i.length)&&null==r;n++)i[n]!==o[n]&&(r=n);var s=[];for(n=0;n<i.length-r;n++)s.push("..");return o.length>r&&s.push.apply(s,o.slice(r)),s.join("/")}t.exports=function(t,e){return r(n(i(t)),i(e))},t.exports._dirname=n,t.exports._relative=r})),Jt=o("31oBo").getBundleURL()+o("3XRD4")("3FB7m","4c6VI");const Zt=(t,e,i)=>({r:t.data[4*i*t.width+4*e],g:t.data[4*i*t.width+4*e+1],b:t.data[4*i*t.width+4*e+2],a:t.data[4*i*t.width+4*e+3]});var Qt,Kt,te={};Qt=te,Kt=function(){var t=function(){function e(t){return r.appendChild(t.dom),t}function i(t){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===t?"block":"none";n=t}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(t){t.preventDefault(),i(++n%r.children.length)}),!1);var o=(performance||Date).now(),s=o,a=0,h=e(new t.Panel("FPS","#0ff","#002")),c=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new t.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:r,addPanel:e,showPanel:i,begin:function(){o=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(c.update(t-o,200),t>s+1e3&&(h.update(1e3*a/(t-s),100),s=t,a=0,l)){var e=performance.memory;l.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:r,setMode:i}};return t.Panel=function(t,e,i){var n=1/0,r=0,o=Math.round,s=o(window.devicePixelRatio||1),a=80*s,h=48*s,c=3*s,l=2*s,d=3*s,f=15*s,u=74*s,g=30*s,b=document.createElement("canvas");b.width=a,b.height=h,b.style.cssText="width:80px;height:48px";var p=b.getContext("2d");return p.font="bold "+9*s+"px Helvetica,Arial,sans-serif",p.textBaseline="top",p.fillStyle=i,p.fillRect(0,0,a,h),p.fillStyle=e,p.fillText(t,c,l),p.fillRect(d,f,u,g),p.fillStyle=i,p.globalAlpha=.9,p.fillRect(d,f,u,g),{dom:b,update:function(h,x){n=Math.min(n,h),r=Math.max(r,h),p.fillStyle=i,p.globalAlpha=1,p.fillRect(0,0,a,f),p.fillStyle=e,p.fillText(o(h)+" "+t+" ("+o(n)+"-"+o(r)+")",c,l),p.drawImage(b,d+s,f,u-s,g,d,f,u-s,g),p.fillRect(d+u-s,f,s,g),p.fillStyle=i,p.globalAlpha=.9,p.fillRect(d+u-s,f,s,o((1-h/x)*g))}}},t},"object"==typeof te?te=Kt():"function"==typeof define&&define.amd?define(Kt):Qt.Stats=Kt();var ee={};t(ee,"defaultValue",(()=>ie)),t(ee,"getQueryVariable",(()=>ue)),t(ee,"highest",(()=>fe)),t(ee,"getArrayValuesFromStart",(()=>ae)),t(ee,"limitArrayLen",(()=>se)),t(ee,"getArrayValuesFromEnd",(()=>he)),t(ee,"first",(()=>ne)),t(ee,"sumArray",(()=>ce)),t(ee,"averageNumArray",(()=>le)),t(ee,"lowest",(()=>de)),t(ee,"middle",(()=>re)),t(ee,"last",(()=>oe));const ie=(t,e,i)=>t.hasOwnProperty(e)?t[e]:i,ne=t=>t[0],re=t=>t.slice(1,t.length-2),oe=t=>t[t.length-1],se=(t,e)=>{const i=e.length;return i>t&&e.splice(0,i-t),e},ae=(t,e,i)=>{const n=[];let r=e;for(let e=0;e<i;e++)n.push(t[r--]),r<0&&(r=t.length-1);return n},he=(t,e,i)=>{const n=[];let r=e;for(let e=0;e<i;e++)n.push(t[r++]),r===t.length&&(r=0);return n},ce=t=>t.reduce(((t,e)=>t+e)),le=t=>t.reduce(((t,e)=>t+e))/t.length,de=t=>t.reduce(((t,e)=>(e<t&&(t=e),t)),0),fe=t=>t.reduce(((t,e)=>(e>t&&(t=e),t)),0),ue=t=>{const e=window.location.search.substring(1).split("&");for(let i=0;i<e.length;i++){const n=e[i].split("=");if(n[0]===t)return n[1]}return!1},ge=8e6;function be(t,e,i){this.start=function(){const t=["video/webm","video/webm,codecs=vp9","video/vp8","video/webm;codecs=vp8","video/webm;codecs=daala","video/webm;codecs=h264","video/mpeg"];for(const e in t)if(MediaRecorder.isTypeSupported(t[e])){r=t[e];break}null==r&&console.log("No supported type found for MediaRecorder");const e={mimeType:r,videoBitsPerSecond:a};n=[];try{o=new MediaRecorder(h,e)}catch(t){return console.error("MediaRecorder is not supported by this browser."),void console.error("Exception while creating MediaRecorder:",t)}o.onstop=d,o.ondataavailable=l,o.start(100),console.log(`MediaRecorder started at ${a/1e3}kbps, ${s}fps`)},this.stop=function(){o.stop(),c.controls=!0},this.save=function(t){const e=t||"recording.webm",i=new Blob(n,{type:r}),o=window.URL.createObjectURL(i),s=document.createElement("a");s.style.display="none",s.href=o,s.download=e,document.body.appendChild(s),s.click(),setTimeout((()=>{document.body.removeChild(s),window.URL.revokeObjectURL(o)}),100)};let n=[],r=null,o=null;const s=e||30,a=i||ge,h=(t.width,t.height,screen.colorDepth,t.captureStream(s));if(!h)return;const c=document.createElement("video");function l(t){t.data&&t.data.size>0&&n.push(t.data)}function d(t){const e=new Blob(n,{type:r});c.src=window.URL.createObjectURL(e)}c.style.display="none"}const pe=0,xe=1,ye={a4:.773,a3:11/17,a3plus:13/19,archd:24/36,golden:.6180339887498949,square:-1,auto:1},me=1,we=2,ve=1,Me=2,ke={ratio:ye.square,scale:me},Se=t=>(e,i,n,r=!1,o=1)=>{const s=e[0][0],a=e[0][1],h=(i[0][0],i[0][1],n.clone()),c=t.createLinearGradient(0,e.reduce(((t,e)=>(e[1]<t&&(t=e[1]),t)),0),0,(t=>t.reduce(((t,e)=>(e[1]>t&&(t=e[1]),t)),0))(i)+o);c.addColorStop(.5,h.toRgbString()),c.addColorStop(1,h.clone().darken(5).saturate(10).toRgbString()),t.beginPath(),t.moveTo(s,a),e.forEach((e=>{t.lineTo(e[0],e[1])})),i.forEach((e=>{t.lineTo(e[0],e[1]+o)})),t.lineTo(s,a),r&&t.stroke(),t.fillStyle=c,t.fill(),t.closePath()},Pe=(t,i,n=5e-4)=>((t,i,n=1,r=.5)=>e(F).noise2D(t*r,i*r)*n)(t,i,1,n)*c,Re=(t,i,n,r=.002)=>((t,i,n,r=1,o=.5)=>e(F).noise3D(t*o,i*o,n*o)*r)(t,i,n,1,r)*c,Ee=$(-2,2),Fe=$(-2,2),Ae=$(-2,2),Ce=$(-2,2),_e=(t,e,i,n,r)=>{i=(i-t/2)*(r=r||.01),n=(n-e/2)*r;const o=Math.sin(Ee*n)+Ae*Math.cos(Ee*i),s=Math.sin(Fe*i)+Ce*Math.cos(Fe*n);return Math.atan2(s-n,o-i)},Te=(t,e,i,n,r)=>{i=(i-t/2)*(r=r||.01),n=(n-e/2)*r;const o=Math.sin(Ee*n)-Math.cos(Fe*i),s=Math.sin(Ae*i)-Math.cos(Ce*n);return Math.atan2(s-n,o-i)};var Ie={};t(Ie,"nicePalette",(()=>je)),t(Ie,"arrayToTinyColor",(()=>He)),t(Ie,"warmGreyDark",(()=>Ye)),t(Ie,"warmPink",(()=>Xe)),t(Ie,"get2Tone",(()=>Ue)),t(Ie,"palettes",(()=>Ne)),t(Ie,"darkest",(()=>qe)),t(Ie,"warmWhite",(()=>We)),t(Ie,"Palette",(()=>Ge)),t(Ie,"hslFromRange",(()=>Le)),t(Ie,"palette",(()=>$e)),t(Ie,"brightest",(()=>ze)),t(Ie,"bicPenBlue",(()=>Oe)),t(Ie,"coolGreyDark",(()=>Ve)),t(Ie,"paperWhite",(()=>Be));var De;De=JSON.parse('[["#69d2e7","#a7dbd8","#e0e4cc","#f38630","#fa6900"],["#fe4365","#fc9d9a","#f9cdad","#c8c8a9","#83af9b"],["#ecd078","#d95b43","#c02942","#542437","#53777a"],["#556270","#4ecdc4","#c7f464","#ff6b6b","#c44d58"],["#774f38","#e08e79","#f1d4af","#ece5ce","#c5e0dc"],["#e8ddcb","#cdb380","#036564","#033649","#031634"],["#490a3d","#bd1550","#e97f02","#f8ca00","#8a9b0f"],["#594f4f","#547980","#45ada8","#9de0ad","#e5fcc2"],["#00a0b0","#6a4a3c","#cc333f","#eb6841","#edc951"],["#e94e77","#d68189","#c6a49a","#c6e5d9","#f4ead5"],["#3fb8af","#7fc7af","#dad8a7","#ff9e9d","#ff3d7f"],["#d9ceb2","#948c75","#d5ded9","#7a6a53","#99b2b7"],["#ffffff","#cbe86b","#f2e9e1","#1c140d","#cbe86b"],["#efffcd","#dce9be","#555152","#2e2633","#99173c"],["#343838","#005f6b","#008c9e","#00b4cc","#00dffc"],["#413e4a","#73626e","#b38184","#f0b49e","#f7e4be"],["#ff4e50","#fc913a","#f9d423","#ede574","#e1f5c4"],["#99b898","#fecea8","#ff847c","#e84a5f","#2a363b"],["#655643","#80bca3","#f6f7bd","#e6ac27","#bf4d28"],["#00a8c6","#40c0cb","#f9f2e7","#aee239","#8fbe00"],["#351330","#424254","#64908a","#e8caa4","#cc2a41"],["#554236","#f77825","#d3ce3d","#f1efa5","#60b99a"],["#5d4157","#838689","#a8caba","#cad7b2","#ebe3aa"],["#8c2318","#5e8c6a","#88a65e","#bfb35a","#f2c45a"],["#fad089","#ff9c5b","#f5634a","#ed303c","#3b8183"],["#ff4242","#f4fad2","#d4ee5e","#e1edb9","#f0f2eb"],["#f8b195","#f67280","#c06c84","#6c5b7b","#355c7d"],["#d1e751","#ffffff","#000000","#4dbce9","#26ade4"],["#1b676b","#519548","#88c425","#bef202","#eafde6"],["#5e412f","#fcebb6","#78c0a8","#f07818","#f0a830"],["#bcbdac","#cfbe27","#f27435","#f02475","#3b2d38"],["#452632","#91204d","#e4844a","#e8bf56","#e2f7ce"],["#eee6ab","#c5bc8e","#696758","#45484b","#36393b"],["#f0d8a8","#3d1c00","#86b8b1","#f2d694","#fa2a00"],["#2a044a","#0b2e59","#0d6759","#7ab317","#a0c55f"],["#f04155","#ff823a","#f2f26f","#fff7bd","#95cfb7"],["#b9d7d9","#668284","#2a2829","#493736","#7b3b3b"],["#bbbb88","#ccc68d","#eedd99","#eec290","#eeaa88"],["#b3cc57","#ecf081","#ffbe40","#ef746f","#ab3e5b"],["#a3a948","#edb92e","#f85931","#ce1836","#009989"],["#300030","#480048","#601848","#c04848","#f07241"],["#67917a","#170409","#b8af03","#ccbf82","#e33258"],["#aab3ab","#c4cbb7","#ebefc9","#eee0b7","#e8caaf"],["#e8d5b7","#0e2430","#fc3a51","#f5b349","#e8d5b9"],["#ab526b","#bca297","#c5ceae","#f0e2a4","#f4ebc3"],["#607848","#789048","#c0d860","#f0f0d8","#604848"],["#b6d8c0","#c8d9bf","#dadabd","#ecdbbc","#fedcba"],["#a8e6ce","#dcedc2","#ffd3b5","#ffaaa6","#ff8c94"],["#3e4147","#fffedf","#dfba69","#5a2e2e","#2a2c31"],["#fc354c","#29221f","#13747d","#0abfbc","#fcf7c5"],["#cc0c39","#e6781e","#c8cf02","#f8fcc1","#1693a7"],["#1c2130","#028f76","#b3e099","#ffeaad","#d14334"],["#a7c5bd","#e5ddcb","#eb7b59","#cf4647","#524656"],["#dad6ca","#1bb0ce","#4f8699","#6a5e72","#563444"],["#5c323e","#a82743","#e15e32","#c0d23e","#e5f04c"],["#edebe6","#d6e1c7","#94c7b6","#403b33","#d3643b"],["#fdf1cc","#c6d6b8","#987f69","#e3ad40","#fcd036"],["#230f2b","#f21d41","#ebebbc","#bce3c5","#82b3ae"],["#b9d3b0","#81bda4","#b28774","#f88f79","#f6aa93"],["#3a111c","#574951","#83988e","#bcdea5","#e6f9bc"],["#5e3929","#cd8c52","#b7d1a3","#dee8be","#fcf7d3"],["#1c0113","#6b0103","#a30006","#c21a01","#f03c02"],["#000000","#9f111b","#b11623","#292c37","#cccccc"],["#382f32","#ffeaf2","#fcd9e5","#fbc5d8","#f1396d"],["#e3dfba","#c8d6bf","#93ccc6","#6cbdb5","#1a1f1e"],["#f6f6f6","#e8e8e8","#333333","#990100","#b90504"],["#1b325f","#9cc4e4","#e9f2f9","#3a89c9","#f26c4f"],["#a1dbb2","#fee5ad","#faca66","#f7a541","#f45d4c"],["#c1b398","#605951","#fbeec2","#61a6ab","#accec0"],["#5e9fa3","#dcd1b4","#fab87f","#f87e7b","#b05574"],["#951f2b","#f5f4d7","#e0dfb1","#a5a36c","#535233"],["#8dccad","#988864","#fea6a2","#f9d6ac","#ffe9af"],["#2d2d29","#215a6d","#3ca2a2","#92c7a3","#dfece6"],["#413d3d","#040004","#c8ff00","#fa023c","#4b000f"],["#eff3cd","#b2d5ba","#61ada0","#248f8d","#605063"],["#ffefd3","#fffee4","#d0ecea","#9fd6d2","#8b7a5e"],["#cfffdd","#b4dec1","#5c5863","#a85163","#ff1f4c"],["#9dc9ac","#fffec7","#f56218","#ff9d2e","#919167"],["#4e395d","#827085","#8ebe94","#ccfc8e","#dc5b3e"],["#a8a7a7","#cc527a","#e8175d","#474747","#363636"],["#f8edd1","#d88a8a","#474843","#9d9d93","#c5cfc6"],["#046d8b","#309292","#2fb8ac","#93a42a","#ecbe13"],["#f38a8a","#55443d","#a0cab5","#cde9ca","#f1edd0"],["#a70267","#f10c49","#fb6b41","#f6d86b","#339194"],["#ff003c","#ff8a00","#fabe28","#88c100","#00c176"],["#ffedbf","#f7803c","#f54828","#2e0d23","#f8e4c1"],["#4e4d4a","#353432","#94ba65","#2790b0","#2b4e72"],["#0ca5b0","#4e3f30","#fefeeb","#f8f4e4","#a5b3aa"],["#4d3b3b","#de6262","#ffb88c","#ffd0b3","#f5e0d3"],["#fffbb7","#a6f6af","#66b6ab","#5b7c8d","#4f2958"],["#edf6ee","#d1c089","#b3204d","#412e28","#151101"],["#9d7e79","#ccac95","#9a947c","#748b83","#5b756c"],["#fcfef5","#e9ffe1","#cdcfb7","#d6e6c3","#fafbe3"],["#9cddc8","#bfd8ad","#ddd9ab","#f7af63","#633d2e"],["#30261c","#403831","#36544f","#1f5f61","#0b8185"],["#aaff00","#ffaa00","#ff00aa","#aa00ff","#00aaff"],["#d1313d","#e5625c","#f9bf76","#8eb2c5","#615375"],["#ffe181","#eee9e5","#fad3b2","#ffba7f","#ff9c97"],["#73c8a9","#dee1b6","#e1b866","#bd5532","#373b44"],["#805841","#dcf7f3","#fffcdd","#ffd8d8","#f5a2a2"]]');const He=t=>t.map((t=>e(s)(t))),Le=(t,i,n,r)=>{const o=P(0,t,i,n,r);return e(s)(`hsl(${o},100%,50%)`)},ze=t=>{const e=He(t);return e.reduce(((t,e)=>(e.getBrightness()>t.getBrightness()&&(t=e),t)),e[0])},qe=t=>{const e=He(t);return e.reduce(((t,e)=>(e.getBrightness()<t.getBrightness()&&(t=e),t)),e[0])},Oe=e(s)("hsl(250,79,29)").clone(),Be=e(s)("hsl(53,3,100)").clone(),We=e(s)("hsl(42, 14%, 86%)").clone(),Xe=e(s)("hsl(29, 42%, 86%)").clone(),Ve=e(s)("#1f2933").clone(),Ye=e(s)("#27241d").clone(),Ne={greyWarm:["#faf97f","#e8e6e1","#d3cec4","#b8b2a7","#a39e93","#857f72","#625d52","#504a40","#423d33","#27241d"],greyCool:["#f5f7fa","#e4e7eb","#cbd2d9","#9aa5b1","#7b8794","#616e7c","#52606d","#3e4c59","#323f4b","#1f2933"],pop:["#ed3441","#ffd630","#329fe3","#154296","#303030"],"60s_psyc":["#ffeb00","#fc0019","#01ff4f","#ff01d7","#5600cc","#00edf5"],"70s":["#73BFA3","#F2DBAE","#F29829","#D9631E","#593C2C"],"80s_pastells":["#FF3F3F","#FF48C4","#F3EA5F","#C04DF9","#2BD1FC","#38CEF6"],"80s_pop":["#FF82E2","#70BAFF","#FED715","#0037B3","#FE0879"],"90s":["#42C8B0","#4575F3","#6933B0","#D36F88","#FC8D45"],retro_sunset:["#FFD319","#FF2975","#F222FF","#8C1EFF","#FF901F"],vapor_wave:["#F6A3EF","#50D8EC","#DD6DFB","#EECD69","#6FEAE6"],thought_provoking:["hsl(46, 75%, 70%)","hsl(10, 66%, 56%)","hsl(350, 65%, 46%)","hsl(336, 40%, 24%)","hsl(185, 19%, 40%)"]},je=t=>De[U(0,99)],$e=t=>Ne[Z(Object.keys(Ne))],Ue=(t=10,e=25)=>{const i=je(),n=ze(i).clone().lighten(t),r=qe(i).clone().darken(e),o=n.clone().darken(15).desaturate(20);return{palette:$e,light:n,dark:r,text:o}};class Ge{constructor(t){this.colors=He(t||je())}get brightest(){return ze(this.colors)}get darkest(){return qe(this.colors)}get length(){return this.colors.length}oneOf(){return Z(this.colors)}getAtIndex(t){const e=Math.abs(Math.round(t))%this.colors.length;return this.colors[e].clone()}get(t,e=0,i=1){const n=this.getAtIndex(t);var r,o;return e>0&&n.spin((r=-1*e,o=e,N()*(o-r)+r)),i<1&&n.setAlpha(i),n}}const Je=(t,e,i,n,r,o=!1)=>{let s=n.clone();e.forEach((e=>{const n=$(0,i);if(n<2){let i=$(1,2*r),o=3;n<.005?(i=$(25*r,50*r),o=1,s=s.clone().darken(10)):s=s.clone().lighten(5).saturate(10),(t=>(e,i,n,r,o=3,s=20)=>{for(let a=0;a<o;a++){const o=U(.25*r,3*r),a=U(0,s),h=$(0,c),l=a*Math.cos(h),d=a*Math.sin(h);Lt(t)(e+l,i+d,o,n)}})(t)(e[0],e[1],s.toRgbString(),i,o,35*r)}}))};var Ze={};t(Ze,"textStyles",(()=>ti)),t(Ze,"setTextAlignLeftTop",(()=>Qe)),t(Ze,"setTextAlignAllCenter",(()=>Ke)),t(Ze,"textFilled",(()=>ei));const Qe=t=>{t.textAlign="left",t.textBaseline="top"},Ke=t=>{t.textAlign="center",t.textBaseline="middle"},ti={size:t=>t*gt()+'px "Helvetica Neue",Helvetica,Arial,sans-serif',sansHelvetica:t=>t*gt()+'px "Helvetica Neue",Helvetica,Arial,sans-serif',monoCourier:t=>t*gt()+'px "Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace',monoLucidia:t=>t*gt()+'px "Lucida Sans Typewriter", "Lucida Console", monaco, "Bitstream Vera Sans Mono", monospace',serifGeorgia:t=>t*gt()+'px Georgia, Times, "Times New Roman", serif',default:'16px "Helvetica Neue",Helvetica,Arial,sans-serif',small:'12px "Helvetica Neue",Helvetica,Arial,sans-serif'},ei=t=>(i,n,r,o,a)=>(t.fillStyle=e(s)(o).toRgbString(),t.font=a||ti.sansHelvetica(16),t.fillText(i,n,r),t.measureText(i)),ii=(t,e,i,n,r=0,o=0)=>{const s=[],a=Math.ceil((t-2*r-o*(i-1))/i),h=Math.ceil((e-2*r-o*(n-1))/n);for(let t=0;t<n;t++){const e=r+t*h+o*t;for(let t=0;t<i;t++){const i=r+t*a+o*t;s.push([i,e])}}return{points:s,columnWidth:a,rowHeight:h}};class ni{constructor(t,e,i,n,r,o){this.x=t,this.y=e,this.originX=t,this.originY=e,this.radius=i,this.speed=r||1,this.angle=n||0,this.noise=o,this.xa=Z([U(1,5),v(this.noise)]),this.xb=Z([U(1,5),v(this.noise)]),this.ya=Z([U(1,5),v(this.noise)]),this.yb=Z([U(1,5),v(this.noise)])}get size(){return 2*this.radius}get centerX(){return this.originX+this.radius}get centerY(){return this.originY+this.radius}get distFromCenter(){return it({x:this.centerX,y:this.centerY},{x:this.x,y:this.y})}}const ri=2*Math.PI,oi=(t,i,n,r,o,a,h)=>{const c=y(Math.PI/2,h),l=c+Math.PI/2;t.strokeStyle=e(s)(a).toRgbString(),t.lineCap="round",t.lineWidth=o,t.beginPath(),t.arc(i+r,n+r,r,c,l,!0),t.stroke()},si=(t,i,n,r,o,a)=>{const h=ri,c=P(0,5,.2*r,.6*r,Math.abs(a));t.beginPath(),t.arc(i+r,n+r,c,0,h,!0),t.fillStyle=e(s)(o).toRgbString(),t.fill()},ai=(t,i,n,r,o,a,h)=>{const c=y(Math.PI/2,h)+Math.PI/2;t.strokeStyle=e(s)(a).toRgbString(),It(t)(i+r,n+r,c,2*r,o,"round")};class hi{constructor(t){this.scaleX=1,this.scaleY=1,this.image=new Image,this.image.src=t,this.imageData=void 0}get width(){return this.imageData.width}get height(){return this.imageData.height}get data(){return this.imageData}toCanvasX(t){return Math.round(t*this.scaleX)}toCanvasY(t){return Math.round(t*this.scaley)}init(t,e,i=!0){this.canvas=t,this.context=e,this.context.drawImage(this.image,0,0);const n=this.image.width||this.canvas.width,r=this.image.height||this.canvas.height;this.imageData=this.context.getImageData(0,0,n,r),this.scaleX=this.canvas.width/n,this.scaleY=this.canvas.height/r,i&&Ft(this.canvas,this.context)}pixelColorRaw(t,e){return t<0&&(t=0),e<0&&(e=0),t>=this.width&&(t=this.width-1),e>=this.height&&(e=this.height-1),{r:this.imageData.data[4*e*this.imageData.width+4*t],g:this.imageData.data[4*e*this.imageData.width+4*t+1],b:this.imageData.data[4*e*this.imageData.width+4*t+2],a:this.imageData.data[4*e*this.imageData.width+4*t+3]}}pixelColor(t,i){return e(s)(this.pixelColorRaw(t,i))}pixelAverageGrey(t,e){const i=this.pixelColorRaw(t,e);return Math.sqrt((i.r*i.r+i.g*i.g+i.b*i.b)/3)}pixelTheta(t,e){return this.pixelAverageGrey(t,e)/256}pixelColorFromCanvas(t,e){return this.pixelColor(Math.round(t/this.scaleX),Math.round(e/this.scaleY))}pixelAverageGreyFromCanvas(t,e){return this.pixelAverageGrey(Math.round(t/this.scaleX),Math.round(e/this.scaleY))}pixelThetaFromCanvas(t,e){return this.pixelTheta(Math.round(t/this.scaleX),Math.round(e/this.scaleY))}sizeFromPixelBrightness(t,e,i=5,n=0,r=255){const o=256-this.pixelColorFromCanvas(t,e).getBrightness();return P(n,r,0,i,o)}averageGreyFromCell(t,e,i,n,r=2){const o=[];for(let s=t;s<t+i;s+=r)for(let t=e;t<e+n;t+=r)o.push(this.pixelAverageGrey(Math.round(s/this.scaleX),Math.round(t/this.scaleY)));return le(o)}thresholdAsPoints(t,e=128){const i=[],{width:n,height:r}=this.canvas,o=n/t,s=r/t;for(let n=0;n<t;n++)for(let r=0;r<t;r++){const t=n*o,a=r*s;this.pixelAverageGreyFromCanvas(t,a)>e&&i.push(K(t,a))}return i}loadImageData(t,e=!0){this.image=new Image,this.image.onload=function(){console.log(this,this.context),this.context.drawImage(this.image,0,0),this.imageData=this.context.getImageData(0,0,this.image.width,this.image.width),this.scaleX=this.canvas.width/this.imageData.width,this.scaleY=this.canvas.height/this.imageData.height,e&&Ft(this.canvas,this.context)},this.image.src=t}}var ci;ci=o("31oBo").getBundleURL()+o("3XRD4")("3FB7m","3GCfi");const li=({width:t,height:i},n,r,o="black",a="50",h=10)=>{const c=Math.round(t/a),l=Math.round(i/a),d=c/2,f=l/2;for(let a=0;a<t;a+=c)for(let t=0;t<i;t+=l){const i=r(a,t),c=R(i).setMag(h||d),l=a+d,u=t+f,g=l+c.x,b=u+c.y;n.strokeStyle=e(s)(o),n.lineWidth=1,n.beginPath(),n.moveTo(l,u),n.lineTo(g,b),n.stroke()}},di=2*Math.PI,fi=(Math.PI,(t,e,i,n=0,r=0)=>{const o=e[0],s=e[1];t.lineTo(o+n,s+n)}),ui=(t,e,i,n=0,r=0)=>{const o=e[0],s=e[1];t.lineTo(o+n+0,s+n+0)},gi=t=>(i,n,r,o=!1,a=1)=>{const h=U(1,3),c=[];let l=i.length,d=0;for(let t=0;t<h;t++){const t=U(1,l/2);c.push({sideA:i.slice(d,d+t),sideB:n.slice(d,d+t).reverse()}),d+=t+1,l-=t+1}c.forEach((i=>{((t,i,n,r,o=!1,a=1)=>{const h=i[0][0],c=i[0][1],l=(n[0][0],n[0][1]+a),d=e(s)(r).clone(),f=t.createLinearGradient(0,c-a,0,l+a);f.addColorStop(0,d.toRgbString()),f.addColorStop(.5,d.toRgbString()),f.addColorStop(1,d.clone().darken(20).saturate(50).toRgbString()),t.beginPath(),t.moveTo(h,c),i.forEach(((e,i)=>{ui(t,e,0,0,.1*a)})),n.forEach(((e,i)=>{ui(t,e,0,a,.1*a)})),t.lineTo(h,c),o&&(t.strokeStyle=d.darken(70).toRgbString(),t.lineWidth=.75,t.stroke()),t.fillStyle=f,t.fill()})(t,i.sideA,i.sideB,r,o,a)}))},bi={top:0,right:0,bottom:0,left:0},pi=(t,e)=>0;let xi=0;class yi{constructor(t,e,i){this.x=t,this.y=e,this.z=i}get toArray(){return[this.x,this.y,this.z]}get toObject(){return{x:this.x,y:this.y,z:this.z}}clone(){return new yi(this.x,this.y,this.z)}}class mi{#backgroundColor;constructor(t,i=[]){this.name="box"+xi++,this.canvas=t.canvas,this.context=t.context,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.rotation=ie(t,"rotation",0),this.#backgroundColor=e(s)(ie(t,"backgroundColor","white")),this.padding=ie(t,"padding",bi),this.clip=ie(t,"clip",!0),this.flowField=ie(t,"flowField",pi),this.children=i}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get innerWidth(){return this.width-this.padding.left-this.padding.right}get innerHeight(){return this.height-this.padding.top-this.padding.bottom}get centerPoint(){return new yi(this.x+Math.round(this.width/2),this.y+Math.round(this.height/2))}get backgroundColor(){return this.#backgroundColor.clone()}set backgroundColor(t){this.#backgroundColor=e(s)(t)}fill(t){t=t||this.backgroundColor,qt(this.context)(this.x,this.y,this.width,this.height,t)}erase(){this.context.clearRect(this.x,this.y,this.width,this.height)}outline(t,i){this.context.strokeStyle=e(s)(i).toRgbString(),this.context.lineWidth=t,this.context.rect(this.x,this.y,this.width,this.height),this.context.stroke()}createClip(){this.context.save();const t=new Path2D;t.rect(this.x,this.y,this.width,this.height),this.context.clip(t)}removeClip(){this.context.restore()}translateX(t){return this.x+t}translateY(t){return this.y+t}translateInto(t){return new yi(this.translateX(t.x),this.translateY(t.y))}translateOut(t){return new yi(t.x-this.x,t.y-this.y)}randomPointInside(t="whole"){const e=10;let i=new yi(U(e,this.width-e),U(e,this.height-e));return"normal"===t&&(i=new yi(j(e,this.width-e),j(e,this.height-e))),i}isInside(t){return t.x>=this.x&&t.x<=this.x2&&t.y>=this.y&&t.y<=this.y2}isOutside(t){return!this.isInside(t)}clipPoint(t){const e=new yi(t.x,t.y);return t.x<this.x&&(e.x=this.x),t.x>this.x2&&(e.x=this.x2),t.y<this.y&&(e.y=this.y),t.y>this.y2&&(e.y=this.y2),e}wrapPoint(t){const e=new yi(t.x,t.y);return t.x<this.x&&(e.x=this.x2),t.x>this.x2&&(e.x=this.x),t.y<this.y&&(e.y=this.y2),t.y>this.y2&&(e.y=this.y),e}particleEdgeBounce=t=>{const e=t.radius;t.x+e>this.x2&&(t.x=this.x2-e,t.reverseVelocityX()),t.x-e<this.x&&(t.x=this.x+e,t.reverseVelocityX()),t.y+e>this.y2&&(t.y=this.y2-e,t.reverseVelocityY()),t.y-e<this.y&&(t.y=this.y+e,t.reverseVelocityY())};particleEdgeWrap=t=>{const e=t.radius;t.x+e>this.x2&&(t.x=this.x+e),t.x-e<this.x&&(t.x=this.x2-e),t.y+e>this.y2&&(t.y=this.y+e),t.y-e<this.y&&(t.y=this.y2-e)}}var wi={};t(wi,"textureRectZigZag",(()=>Fi)),t(wi,"setTextureClippingMaskEnabled",(()=>ki)),t(wi,"textureRectSprials",(()=>Ri)),t(wi,"textureRect",(()=>Pi)),t(wi,"textureRectStipple",(()=>Ei));const vi=((t,e,i)=>{const n=t,r=Math.log(e),o=(Math.log(i)-r)/(n-1),s=[];for(let e=1;e<t;e++)s.push(Math.exp(r+o*(e-1)));return s.push(i),s})(10,1,10);let Mi=!0;const ki=(t=!0)=>{Mi=t},Si=(t,e,i,n)=>({x1:t,y1:e,x2:t+i,y2:e+i*Math.sin(n)}),Pi=t=>(i,n,r,o,a="black",h=5,c="circles2",l=1)=>{if(h<=0)return;if(Mi){t.save();const e=new Path2D;e.rect(i,n,r,o),t.clip(e)}const d=r/4,f=e(s)(a).toRgbString(),u="xhatch"===c?100:25,g=vi[Math.round(h)-1]*P(1,10,1,u,h)*l,b=.7*Math.max(r,o);for(let e=0;e<g;e++){let e=U(i,i+r),s=U(n,n+o),a=U(d,r);if(t.strokeStyle=f,t.lineWidth=1,t.beginPath(),"circles"===c)t.arc(e,s,a,0,2*Math.PI,!1);else if("circles2"===c)e=j(i,i+r),s=j(n,n+o),a=U(1,b),t.arc(e,s,a,0,2*Math.PI,!1);else if("xhatch"===c){const i=e+a*G(),n=s+a*G();t.moveTo(e,s),t.lineTo(i,n)}t.stroke()}Mi&&t.restore()},Ri=t=>(i,n,r,o,a="black",h=5,l=1)=>{if(h<=0)return;const d=.7*Math.max(r,o),f=P(1,10,30,150,h)*l,u=d/f,g=c/50;if(Mi){t.save();const e=new Path2D;e.rect(i,n,r,o),t.clip(e)}const b=e(s)(a).toRgbString();t.strokeStyle=b,t.lineWidth=1;const p=vi[Math.round(h)-1]*P(1,10,1,15,h)*l;for(let e=0;e<p;e++){const e=j(i,i+r),s=j(n,n+o);let a=$(0,c),h=0;t.beginPath(),t.moveTo(e,s);for(let i=0;i<f;i++){h+=u,a+=g;const i=e+h*Math.cos(a),n=s+h*Math.sin(a);t.lineTo(i,n)}t.stroke()}Mi&&t.restore()},Ei=t=>(i,n,r,o,a="black",h=5,c)=>{if(h<=0)return;if(Mi){t.save();const e=new Path2D;e.rect(i,n,r,o),t.clip(e)}const l=e(s)(a).toRgbString(),d=r/P(1,10,3,r/3,h),f=o/P(1,10,3,o/3,h);t.strokeStyle=l,t.lineWidth=2,t.lineCap="round",c=void 0===c?Math.PI/3:c;for(let e=0;e<r;e+=d)for(let r=0;r<o;r+=f){const o=i+j(e,e+d),s=n+j(r,r+f),a=Si(o,s,3,c),h=a.x2,l=a.y2;t.beginPath(),t.moveTo(o,s),t.lineTo(h,l),t.stroke()}Mi&&t.restore()},Fi=t=>(i,n,r,o,a="black",h=5,c=0,l=1)=>{if(h<=0)return;if(Mi){t.save();const e=new Path2D;e.rect(i,n,r,o),t.clip(e)}const d=[],f=e(s)(a).toRgbString(),u=o/h/2;let g=0;const b=o/u,p=u/2-r*Math.sin(c)/2;let x=1,y={x1:i,y1:n,x2:i,y2:n},m={x1:i,y1:Math.min(n,n+p),x2:i,y2:Math.min(n,n+p)};for(let t=0;t<b;t++)y=Si(i,p+n+g,r,c),0===g&&(y.y1>n&&d.push([y.x1,n]),d.push([y.x1,y.y1])),1===x?(d.push([y.x2,y.y2]),d.push([y.x2,y.y2+u])):(d.push([y.x1,y.y1]),d.push([y.x1,y.y1+u])),g+=u,x*=-1,m=y;oe(d)[1]<n+o&&(oe(d)[1]=n+o),(t=>(i,n="black",r=1)=>{t.beginPath(),t.strokeStyle=e(s)(n).toRgbString(),t.lineWidth=r,t.lineCap="butt",t.lineJoin="miter",i.forEach(((e,i)=>{0===i?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])})),t.stroke()})(t)(d,f,1),Mi&&t.restore()};var Ai;Ai=o("31oBo").getBundleURL()+o("3XRD4")("3FB7m","9waZR");const Ci=(t,e=1)=>{if(0===e)return t;const i=[];for(let e=0;e<t.length-1;e++){const n=t[e],r=t[e+1],o=n[0],s=n[1],a=r[0],h=r[1],c=[.75*o+.25*a,.75*s+.25*h],l=[.25*o+.75*a,.25*s+.75*h];i.push(c),i.push(l)}return 1===e?i:Ci(i,e-1)},_i=(t,e,i,n,r,o,s,a)=>{const h=(i-t)*(a-o)-(s-r)*(n-e);if(0===h)return!1;const c=((a-o)*(s-t)+(r-s)*(a-e))/h,l=((e-n)*(s-t)+(i-t)*(a-e))/h;return c>0&&c<1&&l>0&&l<1};class Ti{constructor(t,e){this.startingPoints=t,this.pointVectors=tt(t),this.oxbows=[],this.handleOxbows=ie(e,"handleOxbows",!0),this.wrapEnd=ie(e,"wrapEnd",!1),this.fixedEndPoints=ie(e,"fixedEndPoints",1),this.measureCurveAdjacent=ie(e,"measureCurveAdjacent",30),this.segCurveMultiplier=ie(e,"segCurveMultiplier",1),this.mixTangentRatio=ie(e,"mixTangentRatio",.5),this.mixMagnitude=ie(e,"mixMagnitude",0),this.influenceLimit=ie(e,"influenceLimit",0),this.pushFlowVectorFn=ie(e,"pushFlowVectorFn",void 0),this.curveSize=ie(e,"curveSize",2),this.insertionFactor=ie(e,"insertionFactor",1),this.pointRemoveProx=ie(e,"pointRemoveProx",.8*this.curveSize),this.oxbowProx=ie(e,"oxbowProx",this.curveSize),this.oxbowPointIndexProx=Math.ceil(1.5*this.measureCurveAdjacent),this.noiseMode=ie(e,"noiseMode","mix"),this.noiseFn=ie(e,"noiseFn",void 0),this.noiseStrengthAffect=ie(e,"noiseStrengthAffect",3),this.mixNoiseRatio=ie(e,"mixNoiseRatio",.1),this.steps=0,this.maxHistory=ie(e,"maxHistory",10),this.storeHistoryEvery=ie(e,"storeHistoryEvery",2),this.history=[],this.running=!0}get points(){return et(this.pointVectors)}addToHistory(t,e){this.steps%this.storeHistoryEvery==0&&(this.history.unshift({oxbows:t,channel:e}),this.history.length>this.maxHistory&&(this.history=this.history.slice(0,this.maxHistory)))}averageMCurvature(t){const e=t.reduce(((e,i,n)=>{const r=n-1,o=n+1;var s,a,h,c,l,d;return r>=0&&o<t.length&&(e+=(s=t[r],a=i,h=t[o],2*(c=s,d=h,((l=a).x-c.x)*(d.y-c.y)-(l.y-c.y)*(d.x-c.x))/(it(s,a)*it(a,h)*it(h,s)))),e}),0);return E(e/t.length)}getPointsToMeasure(t,e){const i=this.measureCurveAdjacent;let n=0,r=e.length;return n=t<i?0:t-i,r=t>e.length-i?e.length:t+i,e.slice(n,r)}curvatureInfluence(t,e,i){const n=this.averageMCurvature(this.getPointsToMeasure(e,i))*this.segCurveMultiplier,r=n<0?1:-1;let o=i[e+1];!o&&this.wrapEnd&&(o=i[0]);const s=o.sub(t),h=s.angle()+1.5708*r,c=R(h).setMag(Math.abs(n)),l=s.normalize(),d=c.normalize();let f=l.mix(d,this.mixTangentRatio);if(this.noiseFn){const e=this.noiseFn(t.x,t.y);if("mix"===this.noiseMode&&Math.abs(e)>this.noiseStrengthAffect){const t=R(e);f=f.mix(t,this.mixNoiseRatio)}else if("flowInTo"===this.noiseMode)if(e<0){const t=R(e);f=f.mix(t,this.mixNoiseRatio)}else f=new a(0,0);else if("scaleMag"===this.noiseMode){const t=P(0,this.noiseStrengthAffect,5,1,3,Math.abs(e));f=f.setMag(t)}}return this.mixMagnitude&&(f=f.setMag(this.mixMagnitude)),this.influenceLimit>0&&(f=f.limit(this.influenceLimit)),f}meanderLinear(t){const e=1===this.fixedEndPoints?1:Math.max(m(t.length,this.fixedEndPoints),1),i=e,n=t.slice(0,i),r=t.length-e,o=t.slice(r,t.length),s=t.slice(i,r).map(((e,n)=>{const r=this.curvatureInfluence(e,n+i,t);let o=e.add(r);if(this.pushFlowVectorFn){const t=this.pushFlowVectorFn(e,r);o=o.add(t)}return o}));return n.concat(s).concat(o)}meanderWrapped(t){let e=[];return t.length>3?e=t.map(((e,i)=>{const n=this.curvatureInfluence(e,i,t);let r=e.add(n);if(this.pushFlowVectorFn){const t=this.pushFlowVectorFn(e,n);r=r.add(t)}return r})):(this.running=!1,console.log("Meander crossed, stopping")),e}canRemovePoint(t,e){this.wrapEnd;const i=this.fixedEndPoints||1;return t>i&&t<e.length-i}adjustPointsSpacing(t){return t.reduce(((e,i,n)=>{if(0===n||n===t.length-1&&!this.wrapEnd)return e.push(i),e;let r=t[n+1];this.wrapEnd&&!r&&(r=t[0]);const o=it(i,r);if(o>this.curveSize){const t=Math.round(o/this.curveSize*this.insertionFactor)+1;for(let n=0;n<t;n++){const o=1/t*n,s=S(i.x,r.x,o),h=S(i.y,r.y,o);e.push(new a(s,h))}}else this.canRemovePoint(n,t)&&o<this.pointRemoveProx||e.push(i);return e}),[])}checkForOxbows(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];e.push(n);for(let r=i;r<t.length;r++){if(this.wrapEnd&&0===i||0===r||i===t.length-1||r===t.length-1)continue;const o=t[r];if(it(n,o)<this.oxbowProx&&Math.abs(i-r)>this.oxbowPointIndexProx){e.push(o);let n=et(t.slice(i,r));n=Ci(nt(n,3),3),this.oxbows.push({points:n,startLength:n.length}),i=r}}}return e}shrinkOxbows(t){return t.reduce(((t,e)=>{const i=e.points;if(i.length>1){const n=1;e.points=i.reduce(((t,r,o)=>(this.pointVectors.reduce(((t,e,n)=>{if(!t){const s=this.pointVectors[n+1],a=i[o+1];s&&a&&(t=_i(e.x,e.y,s.x,s.y,r[0],r[1],a[0],a[1]))}return t}),!1)||o>n&&o<e.points.length-n&&t.push(r),t)),[]),t.push(e)}return t}),[])}step(){if(this.running){let t=this.wrapEnd?this.meanderWrapped(this.pointVectors):this.meanderLinear(this.pointVectors);t=this.adjustPointsSpacing(t),this.handleOxbows&&(t=this.checkForOxbows(t)),this.pointVectors=t,this.handleOxbows&&(this.oxbows=this.shrinkOxbows(this.oxbows)),this.addToHistory(this.oxbows,et(this.pointVectors)),this.steps++}else this.handleOxbows&&(this.oxbows=this.shrinkOxbows(this.oxbows))}}const Ii=(t,e)=>(i,n)=>{const r=Math.abs(e-i.y);let o=P(0,e/2,0,t,r);return i.y>e&&(o*=-1),new a(1,o)},Di=(t,e)=>({x:t,y:e}),Hi=(t,e)=>Math.round((e-t)/2)+t,Li=(t,e)=>(1-(t+1))/(e+1-(t+1));class zi{constructor(t,e,i,n,r){this.x=t,this.y=e,this.w=i,this.h=n,this.x2=t+i,this.y2=e+n,this.mx=Hi(this.x,this.x2),this.my=Hi(this.y,this.y2),this.corners=r||[0,0,0,0],this.children=[],this.phase=1,this.depth=0}get cornerState(){return t=Math.ceil(this.corners[0]),e=Math.ceil(this.corners[1]),i=Math.ceil(this.corners[2]),n=Math.ceil(this.corners[3]),8*t+4*e+2*i+1*n;var t,e,i,n}get cornerAverage(){return this.average=(this.corners[0]+this.corners[2]+this.corners[2]+this.corners[3])/4}get center(){return Di(this.mx,this.my)}get midTop(){return Di(this.mx,this.y)}get midRight(){return Di(this.x2,this.my)}get midBottom(){return Di(this.mx,this.y2)}get midLeft(){return Di(this.x,this.my)}get lerpTop(){return Di(S(this.x,this.x2,Li(this.corners[0],this.corners[1])),this.y)}get lerpRight(){return Di(this.x2,S(this.y,this.y2,Li(this.corners[1],this.corners[2])))}get lerpBottom(){return Di(S(this.x,this.x2,Li(this.corners[3],this.corners[2])),this.y2)}get lerpLeft(){return Di(this.x,S(this.y,this.y2,Li(this.corners[0],this.corners[3])))}get cornerAPx(){return Di(this.x,this.y)}get cornerBPx(){return Di(this.x2,this.y)}get cornerCPx(){return Di(this.x2,this.y2)}get cornerDPx(){return Di(this.x,this.y2)}getSides(t){return{top:t?this.lerpTop:this.midTop,right:t?this.lerpRight:this.midRight,bottom:t?this.lerpBottom:this.midBottom,left:t?this.lerpLeft:this.midLeft}}randomPointInside(){const t=j(0,this.w)+this.x,e=j(0,this.h)+this.y;return Di(t,e)}contains(t){return t.x>=this.x&&t.x<this.x+this.w&&t.y>=this.y&&t.y<this.y+this.h}intersects(t){return!(t.x-t.w>this.x+this.w||t.x+t.w<this.x-this.w||t.y-t.h>this.y+this.h||t.y+t.h<this.y-this.h)}subdivide(){const t=this.w/2,e=this.h/2;this.children.push(new zi(this.x,this.y,t,e)),this.children.push(new zi(this.x+t,this.y,t,e)),this.children.push(new zi(this.x,this.y+e,t,e)),this.children.push(new zi(this.x+t,this.y+e,t,e)),this.children.forEach((t=>{t.phase*=-1,t.parent=this,t.depth=this.depth+1}))}}const qi=(t,e,i,n,r=2,o=2,s=0,a=0)=>{const h=[],c=Math.round((i-(r-1)*s)/r),l=Math.round((n-(o-1)*a)/o);for(let i=0;i<r;i++)for(let n=0;n<o;n++){const r=i*(c+s)+t,o=n*(l+a)+e;h.push(new zi(r,o,c,l))}return h},Oi=(t,{width:e,height:i},n,r=0,o=50,s=!0,a)=>{const h=qi(r,r,e-2*r,i-2*r,o,o);a=a||[{nmin:-7,nmax:7,omin:-1,omax:1}],h.forEach((e=>{a.forEach((i=>{e.corners=[e.cornerAPx,e.cornerBPx,e.cornerCPx,e.cornerDPx].map((t=>{const e=n(t.x,t.y);return P(i.nmin,i.nmax,i.omin,i.omax,e)})),i.color&&Pt(t)(i.color),((t,e,i=!1)=>{const n=(e,i)=>Tt(t)(e.x,e.y,i.x,i.y),r=e.getSides(i);switch(e.cornerState){case 1:case 14:n(r.left,r.bottom);break;case 2:case 13:n(r.bottom,r.right);break;case 3:case 12:n(r.left,r.right);break;case 4:n(r.top,r.right);break;case 5:n(r.left,r.top),n(r.bottom,r.right);break;case 6:case 9:n(r.top,r.bottom);break;case 7:case 8:n(r.left,r.top);break;case 10:n(r.left,r.bottom),n(r.top,r.right);break;case 11:n(r.top,r.right)}})(t,e,s)}))}))},Bi=["\\","/","-","|","+","+.","x.","fnw","fne","fsw","fse","tn","ts","te","tw"],Wi=1.25,Xi=t=>(i,n,r,o,a,h=5,c=0,l="black",d="white")=>{t.save();const f=new Path2D;f.rect(i,n,r,o),t.clip(f),n+=c;const u=i+r,g=(o-=2*c)/h;t.strokeStyle=e(s)(l).toRgbString(),qt(t)(i,n,r,o,d);for(let e=0;e<h+1;e++){let r=n+e*g;0===e||e===h?(t.lineWidth=a*Wi,0===e?r+=a*Wi:r-=a*Wi):t.lineWidth=a,Tt(t)(i,r,u,r)}t.restore()},Vi=t=>(i,n,r,o,a,h=5,c=0,l="black",d="white")=>{c&&Xi(i),t.save();const f=new Path2D;f.rect(i,n,r,o),t.clip(f),i+=c;const u=n+o,g=(r-=2*c)/h;t.strokeStyle=e(s)(l).toRgbString(),qt(t)(i,n,r,o,d);for(let e=0;e<h+1;e++){let r=i+e*g;0===e||e===h?(t.lineWidth=a*Wi,0===e?r+=a*Wi:r-=a*Wi):t.lineWidth=a,Tt(t)(r,n,r,u)}t.restore()},Yi=t=>(i,n,r,o,a=5,h=0,c="black",l="white")=>{const d=(r-=2*h)/a;t.strokeStyle=e(s)(c).toRgbString(),l&&Lt(t)(i,n,r+h,l);for(let e=0;e<a+1;e++){let r=e*d+h;0===e||e===a?(t.lineWidth=o*Wi,0===e?r+=o*Wi:r-=o*Wi):t.lineWidth=o,Ht(t)(i,n,r,c)}},Ni=t=>(i,n,r,o,a=0,h=5,c=0,l="black",d="white")=>{t.save();const f=new Path2D;f.rect(i,n,r,r),t.clip(f),t.strokeStyle=e(s)(l).toRgbString(),qt(t)(i,n,r,r,d);const u=i+r,g=n+r;0===a?(Yi(t)(u,g,r,o,h,c,l,null),Yi(t)(i,n,r,o,h,c,l,d)):1===a||2===a?(Yi(t)(i,g,r,o,h,c,l,null),Yi(t)(u,n,r,o,h,c,l,d)):(Yi(t)(i,n,r,o,h,c,l,null),Yi(t)(u,g,r,o,h,c,l,d)),t.restore()},ji=["-","|","fnw","fne","fsw","fse"];class $i{constructor(t,e=4,i=0,n=0){this.boundary=t,this.capacity=e,this.points=[],this.divided=!1,this.maxDepth=n,this.margin=i,this.phase=1,this.depth=0,this.northwest=void 0,this.northeast=void 0,this.southwest=void 0,this.southeast=void 0}get subdivisions(){return this.divided?[this.northwest,this.northeast,this.southeast,this.southwest]:[]}subdivide(){const{x:t,y:e,w:i,h:n}=this.boundary,r=i/2+this.margin,o=n/2+this.margin,s=i/2-this.margin,a=n/2-this.margin,h=new zi(t,e,s,a),c=new zi(t+r,e,s,a),l=new zi(t,e+o,s,a),d=new zi(t+r,e+o,s,a);this.northwest=new $i(h,this.capacity,this.margin,this.maxDepth),this.northeast=new $i(c,this.capacity,this.margin,this.maxDepth),this.southwest=new $i(l,this.capacity,this.margin,this.maxDepth),this.southeast=new $i(d,this.capacity,this.margin,this.maxDepth),this.divided=!0,this.subdivisions.forEach((t=>{t.phase=-1*this.phase,t.depth=this.depth+1}))}insert(t){return!!this.boundary.contains(t)&&(this.points.length<this.capacity?(this.points.push(t),!0):(this.divided||this.subdivide(),this.northwest.insert(t)||this.northeast.insert(t)||this.southwest.insert(t)||this.southeast.insert(t)))}query(t,e=[]){if(this.boundary.intersects(t))return this.points.forEach((i=>{t.contains(i)&&e.push(i)})),this.divided&&this.subdivisions.forEach((i=>{i.query(t,e)})),e}flatten(t=[]){return this.divided?this.subdivisions.forEach((e=>{e.flatten(t)})):t.push(this),t}}const Ui={5:{note:"Like spider webs",sketch:()=>{const t={numParticles:50},e=[],i=[];return{config:t,setup:({canvas:n,context:r})=>{for(let i=0;i<t.numParticles;i++){const t=st(n);t.x=n.width/2,t.y=n.height/2,t.color={r:0,g:0,b:0},t.radius=.5,e.push(new ot(t))}const o=n.width/2,s=n.height/2,a=n.height/4;for(let t=0;t<360;t+=30){const e=t*(Math.PI/180),n=Math.cos(e)*a+o,r=Math.sin(e)*a+s;i.push([n,r,$(20,100)])}At(n,r)("white")},draw:({canvas:n,context:r,mouse:o})=>{for(let o=0;o<t.numParticles;o++){e[o].updatePosWithVelocity(),at(n,e[o]);for(let t=0;t<i.length;t++)Gt({radius:i[t][2],x:i[t][0],y:i[t][1]},e[o],4);$t(r)(e[o])}Ut(r)(e,50)}}}},8:{note:"One attractor in the center, two on the sides.",sketch:()=>{let t;const e=[];let i=[];let n,r,o,s,a,h,c;return{config:{},setup:({canvas:l,context:d})=>{a=l.width/2,h=l.height/2,c=l.height/4,n=l.width/.7,r={x:0,y:l.height/2,mass:10,g:3},o={x:l.width/2,y:l.height/2,mass:50,g:10},s={x:l.width,y:l.height/2,mass:10,g:3},i=((t,e,i,n,r,o)=>{const s=[],a=Math.round((t-2*i)/(r-1)),h=Math.round((e-2*n)/(o-1));for(let t=0;t<r;t++){const e=i+t*a;for(let t=0;t<o;t++){const i=n+t*h;s.push([e,i])}}return{points:s,columnWidth:a,rowHeight:h}})(l.width,l.height,100,100,l.width/50,l.height/50).points,t=i.length;for(let n=0;n<t;n++){const t=st(l);t.x=i[n][0],t.y=i[n][1],t.velocityX=0,t.velocityY=0,t.mass=1,t.radius=1,t.spikes=Q(20,0,360);const r=P(0,l.width,0,90,t.x),o=100,s=50;t.color=`hsla(${r},${o}%,${s}%,0.1)`,e.push(new ot(t))}At(l,d)("white")},draw:({canvas:i,context:a,mouse:h})=>{for(let i=0;i<t;i++)e[i].attract(r,-1,n),e[i].attract(o,1,n),e[i].attract(s,-1,n),e[i].velocity=e[i].velocity.limit(10),e[i].updatePosWithVelocity(),$t(a)(e[i]);Ut(a)(e,50,!1)}}}},9:{note:"Say Hi",sketch:t=>{let i;const n=new Image;let r;n.src=e(Jt);const o=[],s={r:252,g:3,b:152};return{config:{width:600,height:600},setup:({canvas:t,context:e})=>{r=(t=>e=>(t.drawImage(e,0,0),t.getImageData(0,0,e.width,e.width)))(e)(n),Ft(t,e)(),i=t.width/r.width;for(let e=0;e<500;e++){const i=st(t);i.radius=$(1,5),i.color=s,i.x=e%2?0:t.width,o.push(new ot(i))}At(t,e)({r:255,g:255,b:0})},draw:({canvas:t,context:e,mouse:n})=>{At(t,e)({r:255,g:255,b:0,a:.004});for(let n=0;n<500;n++){o[n].updatePosWithVelocity(),ht(t,o[n]);Zt(r,Math.round(o[n].x/i),Math.round(o[n].y/i)).r>250?(o[n].drag(.001),o[n].color={r:3,g:227,b:252}):o[n].color=s,$t(e)(o[n])}}}}},11:{note:"Inspired by Churn, Kenny Vaden https://www.reddit.com/r/generative/comments/lq8r11/churn_r_code/",sketch:()=>{const t={name:"waves01b",orientation:xe,ratio:ye.square,scale:me};let i,n,r;const o=t.scale,a=[];let h;const c=o;let l;let d,f,u=0,g=0;const b=(t,e,i,n)=>{const r=[];for(let o=0;o<h;o++){const s=Re(o,e,t,i)*n;r.push(s)}return r},p=t=>{g+=1;const e=l/2,i=Math.abs(e-t),n=P(0,e,1.25,.5,i+$(-5,5))*(.001*$(9,12)),r=P(0,e,10,20,i*$(0,2));return{top:b(t,i,n,r),bottom:b(t,i,n,r)}};return{config:t,setup:({canvas:t,context:o})=>{i=t.width,n=t.height,d=t.width,h=t.width/5,r=t.height/2,l=n/c;const g=n/7;u=g,f=n-1.25*g;for(let t=0;t<l;t++)a.push(p(t+1));At(t,o)(e(s)("hsl(46, 75%, 70%)").lighten(20))},draw:({canvas:t,context:i})=>{let r=u;const c=Math.ceil((d-0)/h)+1,g=(f-u)/l,b=n/3*2,p=.75*b,x=40*o;je();for(let t=0;t<a.length;t++){const n=e(s).mix("hsl(185, 100%, 18%)","hsl(182, 100%, 29%)",P(u,f,0,100,r)).brighten(15).spin($(-10,10)),l=Math.abs(b-r);n.spin(P(0,p,20,-20,l)),n.brighten(P(0,p,50,0,l+$(0,100))),n.darken(P(0,b,0,15,l+$(0,50)));const d=P(u,f,x,3,r),y=[],m=[];let w=0;for(let e=0;e<h;e++)y.push([w,r+a[t].top[e]]),m.push([w,r+a[t].bottom[e]+d]),w+=c;i.strokeStyle=n.clone().darken(60).toRgbString(),i.lineWidth=o,Se(i)(y,m.reverse(),n,!0,0),Je(i,y,r,n,o,!1),r+=g}return-1}}}},12:{note:"Experimenting with rose shapes. Refresh for new randomized set.",sketch:()=>{const t={name:"lissajous01",ratio:ye.square,scale:we},i=[];let n,r,o;let s;const a=je(),h=ze(a).clone().lighten(10),c=qe(a).clone().darken(25),l=h.clone().darken(15).desaturate(20);let d;const f=(t,e=1,i=1,n=1)=>t.radius*Math.cos(e*t.angle*i)*Math.cos(t.angle*n),u=(t,e=1,i=1,n=1)=>t.radius*Math.cos(e*t.angle*i)*Math.sin(t.angle*n);return{config:t,setup:({canvas:t,context:a})=>{n=t.width/2,r=t.height/2,o=t.height/4,s=50*gt(),d=ii(t.width,t.width,3,3,s,s/2),d.points.forEach((t=>{const n=t[0],r=t[1];i.push(new ni(n,r,d.columnWidth/2,0,.05,((t,i,n=1,r=.5)=>Math.abs(e(F).noise2D(t*r,i*r))*n)(n,r)))})),At(t,a)(h)},draw:({context:t})=>{d.points.forEach((e=>{zt(t)(e[0],e[1],d.columnWidth,d.rowHeight,1,l)}));for(let e=0;e<10;e++){for(let e=0;e<i.length;e++){const n=i[e],r=v(2*(e+1)/9),{xa:o}=n,{xb:s}=n,{ya:a}=n,{yb:h}=n;n.x=f(n,r,o,s),n.y=u(n,r,a,h),n.angle+=n.speed,_t(t)(n.x+n.centerX,n.y+n.centerY,c),Qe(t),ei(t)(`k=${r}, ${o}, ${s}, ${a}, ${h}`,n.originX,n.originY+n.size+10,l,ti.size(10))}0}}}}},13:{note:"Particles and fibers flowing with 3d simplex noise.",sketch:()=>{const t=[];let e=0;const i=t=>{const e=st(t);return e.x=U(0,t.width),e.y=U(0,t.height),e.velocityX=0,e.velocityY=0,new ot(e)},n=(t,e,i,n,r,o=1)=>{n.applyForce(i),n.velocity=n.velocity.limit(1),n.updatePosWithVelocity(),ht(t,n);const s=r||n.color,a=y(6,n.x),h=y(6,n.y);return Lt(e)(a,h,o,s),!0};return{config:{name:"flowFieldParticles",ratio:ye.square,scale:me},setup:({canvas:e,context:n})=>{for(let n=0;n<400;n++)t.push(i(e));At(e,n)("rgba(50,50,50,1)")},draw:({canvas:r,context:o})=>{(({canvas:t,context:r})=>{const o=i(t);for(let i=0;i<200;i++){const i=Re(o.x,o.y,e,.002),s=R(i);n(t,r,s,o,"rgba(0,0,0,.05)",1),o.acceleration=new a(0,0)}})({canvas:r,context:o}),(({canvas:i,context:r})=>{for(let o=0;o<400;o++){const s=t[o],h=Re(s.x,s.y,e,.002),c=w(3,h),l=R(c),d=Le(5,270,360,Math.abs(c)).setAlpha(.25),f=P(0,5,1,3,Math.abs(c));n(i,r,l,s,d,f),s.acceleration=new a(0,0)}})({canvas:r,context:o}),e+=.01}}}},14:{note:"Arcs flowing with 3d simplex noise.",sketch:()=>{const t={name:"flowFieldArcs",ratio:ye.square,scale:me};let i=0;je();const n=e(s)("rgba(50,50,50,1)");return{config:t,setup:({canvas:t,context:e})=>{At(t,e)(n)},draw:({canvas:t,context:e})=>{At(t,e)(n.setAlpha(.1));(({width:t,height:e},i,n,r)=>{const o=r/2;for(let s=0;s<t;s+=r)for(let t=0;t<e;t+=r){const e=n(s,t),r=Le(5,270,360,Math.abs(e)),a=Le(5,180,270,Math.abs(e)).darken(10);ai(i,s,t,o,.5*o,a,e),si(i,s,t,o,a,e),oi(i,s,t,o,.5*o,r,e),oi(i,s,t,o,.1*o,"yellow",e)}})(t,e,((t,e)=>Re(t,e,i,.001)),Math.round(t.width/20)),i+=.25}}}},15:{note:"Rendering an image with flow fields. Photo by Francesca Zama https://unsplash.com/photos/OFjnQOf1pPA",sketch:()=>{const t={name:"flowFieldImage",ratio:ye.square,scale:me};let i=0;const n=We,r=new hi(e(ci)),o=(t,e)=>r.pixelThetaFromCanvas(t,e)*di,h=({canvas:t,context:n},h)=>{const c=o(h.x,h.y),l=R(c);h.applyForce(l),h.velocity=h.velocity.limit(3),h.updatePosWithVelocity();const d=it(h,{x:t.width/2,y:t.height/2}),f=r.pixelColorFromCanvas(h.x,h.y),u=256-f.getBrightness(),g=Le(t.width,90,270,h.x).spin(i),b=e(s).mix(g,f,90);b.desaturate(P(t.width/3,t.width/2,0,10,d));((t,e,i,n,r=1)=>{const o=n||i.color,{x:s}=i,{y:a}=i;Lt(e)(s,a,r,o)})(0,n,h,b,P(0,255,0,5,u)*P(t.width/3,t.width/2,1,5,d)),Math.abs(c)>=5.7&&(t=>(e,i,n,r,o=3,s=20)=>{for(let a=0;a<o;a++){const o=U(.25*r,3*r),a=U(0,s),h=$(0,di),c=a*Math.cos(h),l=a*Math.sin(h);Lt(t)(e+c,i+l,o,n)}})(n)(h.x,h.y,b.brighten(10),1,3,100),h.acceleration=new a(0,0)},c=({canvas:t,context:e})=>{const i=(t=>{const e=st(t);return e.x=U(0,t.width),e.y=U(0,t.height),e.velocityX=0,e.velocityY=0,new ot(e)})(t),n=U(50,1e3);for(let r=0;r<n;r++)h({canvas:t,context:e},i)};return{config:t,setup:({canvas:t,context:e})=>{r.init(t,e),At(t,e)(n),li(t,e,o,"rgba(0,0,0,.15)",50,10)},draw:({canvas:t,context:e})=>{c({canvas:t,context:e}),i+=.05}}}},16:{note:"Simplex noise going around ...",sketch:()=>{const t={name:"radialNoise",ratio:ye.square,scale:me};let i,n,r,o,a,h,l=360,d=0,f=0;const u={},g=je(),b=ze(g).clone().lighten(10),p=qe(g).clone(),x=(t,i,n,r,o,a,h=1)=>{t.strokeStyle=e(s)(a).toRgbString(),t.lineWidth=h,t.beginPath(),t.moveTo(i,n),t.lineTo(r,o),t.stroke()},y=(t,e,i=1)=>t*Math.cos(e*i),m=(t,e,i=1)=>t*Math.sin(e*i);return{config:t,setup:({canvas:t,context:e})=>{i=t.width/2,n=t.height/2,r=.4*t.width,o=l/r,a=i,h=n,At(t,e)(b)},draw:({canvas:t,context:e})=>{for(let t=0;t<l;t++){let i,n;u.hasOwnProperty(t)&&(i=u[t].x,n=u[t].y);const r=t/o,s=1,c=1,l=E(f)-Math.PI/8;let g=a+y(r,l,s),b=h+m(r,l,c);const w=Re(g,b,d,.02);g+=w,b+=w;const v=p.clone().spin(.1*d);void 0!==i&&void 0!==n&&x(e,i,n,g,b,v,.5),u[t]={x:g,y:b},d+=.01}if(f+=3,f>360){f=0,l=U(100,360),o=1;const s=((t=20)=>{const e=U(0,t),i=$(0,c);return{x:e*Math.cos(i),y:e*Math.sin(i)}})(.75*(t.width-r));a=i+s.x,h=n+s.y,At(t,e)(b.setAlpha(.25))}}}}},17:{note:"Ribbons attracted to an attractor",sketch:()=>{const t={name:"flowFieldRibbons",ratio:ye.square,scale:me};let i,n,r,o;const h=Ne.pop,c=e(s)("white");let l=0;const d=(t,e,i,n,r=1)=>{const o=new ot({x:e,y:i,velocityX:0,velocityY:0,mass:1}),s=[];for(let e=0;e<n;e++){const e=t(o.x,o.y),i=R(e);o.applyForce(i),o.velocity=o.velocity.limit(r),o.updatePosWithVelocity(),s.push([o.x,o.y]),o.acceleration=new a(0,0)}return s},f=J()?(t,e)=>_e(i,n,t,e):(t,e)=>Te(i,n,t,e);let u;U(50,1e3);const g=U(3,30);return{config:t,setup:({canvas:t,context:e})=>{i=t.width,n=t.height,r=t.width/2,o=t.height/2,u=.4*t.width,At(t,e)(c),li(t,e,f,"rgba(0,0,0,.15)",t.width/10,5)},draw:({canvas:t,context:i})=>{const n=Z(h),a=2*u,c=e(F).onCircle(u),b=c[0]+r,p=c[1]+o,x=b+2,y=p,m=d(f,b,p,a,1),w=d(f,x,y,a,1).reverse();(t=>(i,n,r,o=!1,a=1)=>{const h=i[0][0],c=i[0][1],l=(n[0][0],n[0][1]+a),d=e(s)(r).clone(),f=t.createLinearGradient(0,c-a,0,l+a);f.addColorStop(0,d.toRgbString()),f.addColorStop(1,d.clone().darken(20).toRgbString()),t.beginPath(),t.moveTo(h,c),i.forEach(((e,i)=>{fi(t,e,0,0,.1*a)})),n.forEach(((e,i)=>{fi(t,e,0,a,.1*a)})),t.lineTo(h,c),o&&(t.strokeStyle=d.darken(70).toRgbString(),t.lineWidth=.75,t.stroke()),t.fillStyle=f,t.fill()})(i)(m,w,n,!1,g),l+=.01}}}},18:{note:"Ribbons attracted to an attractor",sketch:()=>{const t={name:"flowFieldRibbons",ratio:ye.square,scale:me};let i,n;const r=Ne["80s_pop"],o=e(s)("white");let h=0;const c=(t,e,i,n,r=1)=>{const o=new ot({x:e,y:i,velocityX:0,velocityY:0,mass:1}),s=[];for(let e=0;e<n;e++){const e=t(o.x,o.y),i=R(e);o.applyForce(i),o.velocity=o.velocity.limit(r),o.updatePosWithVelocity(),s.push([o.x,o.y]),o.acceleration=new a(0,0)}return s},l=J()?(t,e)=>_e(canvas.width,canvas.height,t,e):(t,e)=>Te(canvas.width,canvas.height,t,e);let d;const f=U(200,500),u=U(100,300),g=U(10,30);let b=0;return{config:t,setup:({canvas:t,context:e})=>{i=t.width/2,n=t.height/2,d=.4*t.width,At(t,e)(o)},draw:({canvas:t,context:e})=>{const i=Z(r),n=f,o=[U(0,t.width),U(0,t.height)],s=o[0],a=o[1],d=s+2,p=a,x=c(l,s,a,n,1),y=c(l,d,p,n,1);if(gi(e)(x,y,i,!1,u),h+=.01,++b>g)return-1}}}},19:{note:"Shaded boxes with flow field particles.",sketch:()=>{const t={name:"shadedBoxes",ratio:ye.square,scale:me};let e,i,n,r;const o=[];Ne.pop;let s=0;return{config:t,setup:({canvas:t,context:s})=>{e=t.width/2,i=t.height/2,n=t.height/4,At(t,s)(Be);Be.clone().darken(10).saturate(10);const a=Math.round(t.width/10),h=Math.round(a/4);r=ii(t.width,t.height,1,10,a,h),r.points.forEach(((e,i)=>{o.push(new mi({canvas:t,context:s,x:e[0],y:e[1],width:r.columnWidth,height:r.rowHeight}))}));let c=1e-4;return o.forEach(((e,i)=>{const n=[];e.backgroundColor=Oe.clone(),e.flowField=(t,e,i)=>Re(t,e,i,c),c+=5e-4;for(let r=0;r<30;r++){const r=st(t),o=e.translateInto(e.randomPointInside("normal"));r.x=o.x,r.y=o.y,r.velocityX=0,r.velocityY=0,r.radius=1,r.color=i<=4?Oe.clone():Be.clone(),n.push(new ot(r))}e.children=n,Ei(s)(e.x,e.y,e.width,e.height,e.backgroundColor,i+1)})),-1},draw:({canvas:t,context:e})=>{o.forEach((t=>{t.createClip(),t.children.forEach((i=>{const n=t.flowField(i.x,i.y,s),r=R(n);i.applyForce(r),i.velocity=i.velocity.limit(1),i.updatePosWithVelocity(),i.acceleration=new a(0,0),t.particleEdgeWrap(i),_t(e)(i.x,i.y,i.color,"circle",.5)})),t.removeClip()})),s+=.1}}}},20:{note:"Render an image in the wavy art style of Larry Carlson",sketch:()=>{const t={name:"larrycarlson2",ratio:ye.square,scale:me};let i,n,r,o,a,h,c,l,d,f,u,g;const b=50,p=Be.clone(),x=new hi(e(Ai)),y=e(s)("#ffeb00"),m=e(s)("#01ff4f"),w=e(s)("#ff01d7"),v=e(s)("#5600cc"),M=(t,e)=>{const n=t[0],r=t[1],o=x.sizeFromPixelBrightness(n,r,8,128,255)+.75;let s=0;e&&(s=-1*o),i.lineTo(n+s,r)},k=t=>{t.forEach((t=>{t.length&&((t,n,r=!1)=>{const o=e(s)(n).clone(),a=i.createLinearGradient(0,u,0,g);a.addColorStop(0,w.toRgbString()),a.addColorStop(1,v.toRgbString()),i.beginPath(),i.moveTo(t[0],t[0]),t.forEach((t=>{M(t,!1)})),t.reverse().forEach((t=>{M(t,!0)})),i.closePath(),r&&(i.strokeStyle=o.darken(70).toRgbString(),i.lineWidth=.75,i.stroke()),i.fillStyle=a,i.fill()})(t,"red",!1)}))},S=(t,e)=>{let i=0;const r=Math.PI/3,o=[];for(let s=0;s<n;s++){const n=s;i=15*Math.sin((i*r+n)/40)+s*r;const a=s+t,h=i+e;a>d&&a<f&&h>u&&h<g&&o.push([a,h])}return o};return{config:t,setup:({canvas:t,context:e})=>{x.init(t,e),i=e,n=t.width,r=t.height,o=t.width/2,a=t.height/2,h=t.height/4,c=t.width-100,l=t.height-100,d=b,f=t.width-b,u=b,g=t.height-b,At(t,e)(p)},draw:({canvas:t,context:n})=>{const r=[];(()=>{const t=-25;for(let n=d+t;n<f-t;n+=5)for(let r=u+t;r<g-t;r+=5){const t=x.pixelColorFromCanvas(n,r).getBrightness(),o=P(128,255,0,50,t),a=e(s).mix(y,m,P(u,g,0,100,r)),h=5;t>128&&a.brighten(o),t>=70&&t<=100&&a.spin(30),_t(i)(n,r,a,"circle",h)}})();for(let t=-1*(c+100);t<2*c;t+=10)r.push(S(t,0));return k(r),-1}}}},21:{note:'Based on "Meander" by Robert Hodgin and an implementation by Eric on Reddit',sketch:()=>{const t={name:"meandering-river-02",ratio:ye.a3plus,scale:we,orientation:pe};let i,n,r;const o=t.scale,a=[];let h=0;const c=We,l=(t,e)=>Pe(t,e,.002);return{config:t,setup:({canvas:t,context:e})=>{i=e,n=t.width/2,r=t.height/2,At(t,e)(c);const o=rt((({width:t,height:e},i,n,r=20)=>{const o=[],s=Math.round(t/r),a=t/2;for(let e=i;e<t;e+=s){const t=Math.round(a-Math.abs(e-a)),i=j(n-t,n+t);o.push([e,i])}return o.push([t,n]),o})(t,0,r,40)),s=rt((({width:t,height:e},i,n,r=20)=>{const o=[],s=Math.round(e/r),a=e/2;for(let t=n;t<e;t+=s){const e=Math.round(a-Math.abs(t-a)),n=j(i-e,i+e);o.push([n,t])}return o.push([i,e]),o})(t,n,0,40)),h=((t,e,i,n,r=!1)=>{const o=[];for(let r=270;r<630;r+=n){const n=r*(Math.PI/180),s=Math.cos(n)*i+t,a=Math.sin(n)*i+e;o.push([s,a])}if(r){const n=630-Math.PI/180*1,r=Math.cos(n)*i+t,s=Math.sin(n)*i+e;o.push([r,s])}return o})(n,r,n/2,4*Math.PI,!1),d=.45,f=1.25,u=4,g=5,b=5,p=2.5,x=new Ti(h,{maxHistory:10,storeHistoryEvery:25,fixedEndPoints:1,influenceLimit:0,wrapEnd:!0,handleOxbows:!0,mixTangentRatio:d,mixMagnitude:f,oxbowProx:p,oxbowPointIndexProx:u,measureCurveAdjacent:u,curveSize:g,pointRemoveProx:b,noiseFn:l,noiseMode:"mix",noiseStrengthAffect:0,mixNoiseRatio:.3}),y=(new Ti(s,{maxHistory:10,storeHistoryEvery:25,fixedEndPoints:1,influenceLimit:0,wrapEnd:false,handleOxbows:!0,mixTangentRatio:d,mixMagnitude:f,oxbowProx:p,oxbowPointIndexProx:u,measureCurveAdjacent:u,curveSize:g,pointRemoveProx:b,noiseFn:l,noiseMode:"mix",noiseStrengthAffect:0,mixNoiseRatio:.3}),new Ti(o,{maxHistory:10,storeHistoryEvery:25,fixedEndPoints:1,influenceLimit:0,wrapEnd:false,handleOxbows:!0,mixTangentRatio:d,mixMagnitude:f,oxbowProx:p,oxbowPointIndexProx:u,measureCurveAdjacent:u,curveSize:g,pointRemoveProx:b,noiseFn:l,noiseMode:"mix",noiseStrengthAffect:0,mixNoiseRatio:.3}));a.push(x,y)},draw:({canvas:t,context:n})=>{const r=[Oe,e(s)("#fed049")],c=[!0,!1];a.forEach((t=>{for(let e=0;e<o;e++)t.step()})),a.forEach(((t,e)=>{const n=r[e].clone().setAlpha(.15),o=Ci(t.points,4);o.length&&Yt(i)(o,n,2,c[e])})),h+=.25}}}},22:{note:'Meandering river over landscape. Refresh for new terrain. Based on "Meander" by Robert Hodgin.',sketch:()=>{const t={name:"meandering-river-01",ratio:ye.a3plus,scale:we,orientation:xe};let i,n,r;const o=t.scale,a=[];let h=0;const c=We,l=We.clone().brighten(20),d=l.clone(),f=c.clone().darken(10).clone().darken(2),u=c.clone().brighten(10),g=e(s)("hsl(38, 38%, 64%)"),b=[e(s)("hsl(97, 9%, 73%)"),e(s)("hsl(51, 7%, 38%)"),e(s)("hsl(19, 39%, 47%)"),e(s)("hsl(166, 39%, 59%)"),e(s).mix("hsl(97, 9%, 73%)",g,25),e(s).mix("hsl(51, 7%, 38%)",g,25),e(s).mix("hsl(19, 39%, 47%)",g,25),e(s).mix("hsl(166, 39%, 59%)",g,25),e(s).mix("hsl(97, 9%, 73%)",g,55),e(s).mix("hsl(51, 7%, 38%)",g,55),e(s).mix("hsl(19, 39%, 47%)",g,55),e(s).mix("hsl(166, 39%, 59%)",g,55),e(s).mix("hsl(97, 9%, 73%)",g,75),e(s).mix("hsl(51, 7%, 38%)",g,75),e(s).mix("hsl(19, 39%, 47%)",g,75),e(s).mix("hsl(166, 39%, 59%)",g,75)].reverse();let p=.001/o;const x=(t,e)=>Pe(t,e,p),y=3*o,m=20*o;return{config:t,setup:({canvas:t,context:e})=>{i=e,n=t.width/2,r=t.height/2;const s=rt((({width:t,height:e},i,n,r=20)=>{const o=[],s=Math.round(t/r),a=t/2;for(let e=i;e<t;e+=s){const t=Math.round(a-Math.abs(e-a)),i=j(n-t,n+t);o.push([e,i])}return o.push([t,n]),o})(t,0,r,15)),h=1.25;p/=2.5;const l=new Ti(s,{maxHistory:15,storeHistoryEvery:15,fixedEndPoints:2,oxbowProx:3*o,oxbowPointIndexProx:4*o,mixTangentRatio:.7,mixMagnitude:1.875,measureCurveAdjacent:6*o*h,curveSize:4*o*h,pointRemoveProx:4*o*h,pushFlowVectorFn:Ii(.6,r),noiseFn:x,noiseMode:"flowInTo",noiseStrengthAffect:0,mixNoiseRatio:.3});a.push(l);for(let t=0;t<50;t++)a.forEach((t=>{t.step()}));At(t,e)(c);Oi(e,t,x,50*o,100*o,!0,[{nmin:-7,nmax:7,omin:-1,omax:1,color:u},{nmin:-6,nmax:-4,omin:-1,omax:1,color:f},{nmin:-4,nmax:-2,omin:-1,omax:1,color:f},{nmin:-2,nmax:0,omin:-1,omax:1,color:f},{nmin:0,nmax:2,omin:-1,omax:1,color:u},{nmin:2,nmax:4,omin:-1,omax:1,color:u},{nmin:4,nmax:6,omin:-1,omax:1,color:u}])},draw:({canvas:t,context:e})=>{a.forEach((t=>{for(let e=0;e<o;e++)t.step()}));const n=b[Math.round(.03*h)%b.length];return a.forEach(((t,e)=>{t.oxbows.forEach((t=>{const e=Math.abs(P(0,t.startLength,1,m,t.points.length));Yt(i)(t.points,n,e+y/2)}));const r=Ci(t.points,4);Yt(i)(r,n,m+y)})),a.forEach(((t,e)=>{t.oxbows.forEach((t=>{const e=Math.abs(P(0,t.startLength,m/2,m,t.points.length));Yt(i)(t.points,d,e)}));const n=Ci(t.points,4);Yt(i)(n,l,m,!1,!1)})),h++,1}}}},23:{note:"Multiscale Truchet Tiles",sketch:()=>{const t={name:"multiscale-truchet-tiles",ratio:ye.square,scale:we};let i,n,r,o=100;const a=Ue(5,15),h=new hi(e(Jt));return{config:t,setup:({canvas:t,context:e})=>{i=t.width,n=t.height,h.init(t,e),o=i/10;const s=new zi(o,o,i-2*o,n-2*o),a=h.thresholdAsPoints(150,128);r=((t,e,i,n=0,r=0)=>{const o=new $i(t,e,n,r);return i.forEach((t=>o.insert(t))),o})(s,1,a)},draw:({canvas:t,context:i})=>{At(t,i)(a.light);const n=U(0,15);var o;return(o=r,o.flatten().sort(((t,e)=>t.depth-e.depth))).forEach((t=>{t.boundary.motif=U(0,n),((t,i,n="black",r="white")=>{const o=i.w/2,a=i.w/3,h=2*a,c=i.w/6;let l=n,d=r;switch(i.phase<0&&(l=r,d=n),t.beginPath(),xt(t)({strokeStyle:e(s)(l).toRgbString(),fillStyle:e(s)(l).toRgbString(),lineCap:"butt",lineWidth:a,lineJoin:"round"}),qt(t)(i.x,i.y,i.w,i.w,d),Bi[i.motif]){case"\\":jt(t)(i.x2,i.y,o,Math.PI/2),jt(t)(i.x,i.y2,o,1.5*Math.PI);break;case"/":jt(t)(i.x,i.y,o,0),jt(t)(i.x2,i.y2,o,Math.PI);break;case"-":Tt(t)(i.x,i.my,i.x2,i.my);break;case"|":Tt(t)(i.mx,i.y,i.mx,i.y2);break;case"+":Tt(t)(i.x,i.my,i.x2,i.my),Tt(t)(i.mx,i.y,i.mx,i.y2);break;case"+.":break;case"x.":qt(t)(i.x,i.y,i.w,i.w,l);break;case"fnw":jt(t)(i.x,i.y,o,0);break;case"fne":jt(t)(i.x2,i.y,o,Math.PI/2);break;case"fsw":jt(t)(i.x,i.y2,o,1.5*Math.PI);break;case"fse":jt(t)(i.x2,i.y2,o,Math.PI);break;case"tn":qt(t)(i.x,i.y,i.w,h,l);break;case"ts":qt(t)(i.x,i.y+a,i.w,h,l);break;case"te":qt(t)(i.x+a,i.y,h,i.w,l);break;case"tw":qt(t)(i.x,i.y,h,i.w,l);break;case 15:default:qt(t)(i.x,i.y,i.w,i.w,l)}Lt(t)(i.x,i.y,a,d),Lt(t)(i.x2,i.y,a,d),Lt(t)(i.x2,i.y2,a,d),Lt(t)(i.x,i.y2,a,d),Lt(t)(i.mx,i.y,c,l),Lt(t)(i.x2,i.my,c,l),Lt(t)(i.mx,i.y2,c,l),Lt(t)(i.x,i.my,c,l),t.closePath()})(i,t.boundary,a.dark,a.light)})),-1}}}},24:{note:"Interlaced Truchet Tiles",sketch:()=>{const t={name:"interlaced-truchet-tiles",...ke};let i,n,r,o=100;const a=Ue(5,15),h=(U(5,30),U(2,8)),c=U(0,4);return{config:t,setup:({canvas:t,context:e})=>{i=t.width,n=t.height,o=Math.round(i/18);const s=2*U(10,30);r=qi(o,o,i-2*o,n-2*o,s,s)},draw:({canvas:t,context:i})=>(At(t,i)(a.light),r.forEach((t=>{t.motif=U(0,6),((t,i,n=3,r=1,o=0,a="black",h="white")=>{let c=a,l=h;switch(i.phase<0&&(c=h,l=a),t.beginPath(),xt(t)({strokeStyle:e(s)(c).toRgbString(),fillStyle:e(s)(c).toRgbString(),lineCap:"butt",lineWidth:r,lineJoin:"bevel"}),qt(t)(i.x,i.y,i.w,i.w,l),ji[i.motif]){case"-":Vi(t)(i.x,i.y,i.w,i.w,r,n,o,c,h),Xi(t)(i.x,i.y,i.w,i.w,r,n,o,c,h);break;case"|":Xi(t)(i.x,i.y,i.w,i.w,r,n,o,c,h),Vi(t)(i.x,i.y,i.w,i.w,r,n,o,c,h);break;case"fnw":Ni(t)(i.x,i.y,i.w,r,0,n,o,c,h);break;case"fne":Ni(t)(i.x,i.y,i.w,r,1,n,o,c,h);break;case"fsw":Ni(t)(i.x,i.y,i.w,r,2,n,o,c,h);break;case"fse":Ni(t)(i.x,i.y,i.w,r,3,n,o,c,h)}t.closePath()})(i,t,h,.5,c,a.dark,a.light)})),-1)}}},25:{note:"Chaotic meander",sketch:()=>{const t={name:"meandering-river-03",...ke};let e,i,n;const r=t.scale,o=4*r,s=3*r,a=10*r,h=[];let c=0;const l=Xe,d=Xe.clone().brighten(10),f=d,u=Oe.clone().setAlpha(.3);let g=.006/r;return{config:t,setup:({canvas:t,context:o})=>{e=o,i=t.width/2,n=t.height/2;const s=rt((({width:t,height:e},i,n,r=20)=>{const o=[],s=Math.round(t/r),a=t/2;for(let e=i;e<t;e+=s){const t=Math.round(a-Math.abs(e-a)),i=j(n-t,n+t);o.push([e,i])}return o.push([t,n]),o})(t,0,n,15));g/=4;const a=new Ti(s,{maxHistory:15,storeHistoryEvery:15,fixedEndPoints:2,oxbowProx:3*r,oxbowPointIndexProx:3*r,mixTangentRatio:.55,mixMagnitude:2,measureCurveAdjacent:4*r*2,curveSize:2*r*2,pointRemoveProx:3*r*2});h.push(a);for(let t=0;t<50;t++)h.forEach((t=>{t.step()}));At(t,o)(l)},draw:({canvas:t,context:i})=>(h.forEach((t=>{for(let e=0;e<o;e++)t.step()})),h.forEach(((t,i)=>{t.oxbows.forEach((t=>{const i=Math.abs(P(0,t.startLength,1,a,t.points.length));Yt(e)(t.points,u,i+s/2)}));const n=Ci(t.points,0);Yt(e)(n,u,a+s)})),h.forEach(((t,i)=>{t.oxbows.forEach((t=>{const i=Math.abs(P(0,t.startLength,a/2,a,t.points.length));Yt(e)(t.points,f,i)}));const n=Ci(t.points,0);Yt(e)(n,d,a,!1,!1)})),c+=.1,1)}}}};const Gi=((t,i=0,n)=>{const r={x:void 0,y:void 0,isDown:!1,radius:100},o=i,s=n;let a,h,c,l,d=null,f=!1,u=0,g=0,b=!1;let p=!1;const x=document.getElementById(t),y=x.getContext("2d"),m=t=>{r.isDown=!0},w=t=>{const e=ut()?2:1,i=x.getBoundingClientRect();r.x=(t.x-i.x)*e,r.y=(t.y-i.y)*e},v=t=>{r.isDown=!1},k=t=>{r.x=void 0,r.y=void 0,r.isDown=!1},S=(t,i)=>{a=t,h=a();const n=i;let b;!d&&s&&(d=new(e(te)),d.showPanel(0),document.body.appendChild(d.dom)),C(),g=0;let m,w=!0,v=1e3/u;if(y.clearRect(0,0,x.width,x.height),h.hasOwnProperty("config")){const{config:t}=h;((t,e)=>{if(o===ve)return;if(o===Me)return;const i=ie(t,"width",window.innerWidth),n=ie(t,"height",window.innerHeight);let r=i,s=n;const a=ie(t,"multiplier",e),h=ie(t,"orientation",xe),c=ie(t,"ratio",ye.auto),l=ie(t,"scale",me);if(c===ye.auto)r=i,s=n;else if(c===ye.square){const t=Math.min(i,n)*a;r=t,s=t}else if(h===xe){let t=i,e=Math.round(c*i);const o=e-n;o>0&&(t-=o,e-=o),r=t*a,s=e*a}else if(h===pe){let t=Math.round(c*n),e=n;const o=t-i;o>0&&(t-=o,e-=o),r=t*a,s=e*a}r=M(2,r),s=M(2,s),bt(x,y,r,s,l),console.log(`Canvas size ${r} x ${s} at ${window.devicePixelRatio}dpr`)})(t,.9),t.fps&&(u=t.fps,v=1e3/u),t.drawLimit>0&&(b=t.drawLimit)}else bt(x,y,window.innerWidth,window.innerHeight);const k=()=>{window.removeEventListener("load",k),f=!0,l=new be(x),h.setup({canvas:x,context:y,sketchInstance:n});const t=()=>{if(p)return 1;g++,d&&d.begin();const t=h.draw({canvas:x,context:y,mouse:r});return d&&d.end(),t},e=()=>{-1!==t()&&(!b||g<b)&&(c=requestAnimationFrame(e))},i=()=>{w&&(c=window.requestAnimationFrame(i));const e=Date.now(),n=e-m;if(n>v){m=e-n%v;(-1===t()||b&&g>=b)&&(w=!1)}};u?(m=Date.now(),c=window.requestAnimationFrame(i)):c=window.requestAnimationFrame(e)};f?k():window.addEventListener("load",k)},P=()=>{_(),window.cancelAnimationFrame(c)},R=t=>{c&&(P(),S(a))},E=t=>{p=!1},A=t=>{p=!0},C=t=>{window.addEventListener("mousedown",m),window.addEventListener("touchstart",m),window.addEventListener("mousemove",w),window.addEventListener("touchmove",w),window.addEventListener("mouseup",v),window.addEventListener("touchend",v),window.addEventListener("mouseout",k),window.addEventListener("touchcancel",k),window.addEventListener("resize",R),window.addEventListener("blur",A),window.addEventListener("focus",E)},_=t=>{window.removeEventListener("mousedown",m),window.removeEventListener("touchstart",m),window.removeEventListener("mousemove",w),window.removeEventListener("touchmove",w),window.removeEventListener("mouseup",v),window.removeEventListener("touchend",v),window.removeEventListener("mouseout",k),window.removeEventListener("touchcancel",k),window.removeEventListener("resize",R),window.removeEventListener("blur",A),window.removeEventListener("focus",E)},T=()=>{const t=e(F).getSeed();let i="untitled";return h&&h.hasOwnProperty("config")&&h.config.hasOwnProperty("name")&&(i=h.config.name),`sketch-${i}-${t}`},I=t=>{t.preventDefault()},D=t=>e=>{e.preventDefault(),e.stopPropagation();const i=e.dataTransfer.files[0];if(!i.type.match(/image.*/))return void console.error("The dropped file is not an image: ",i.type);const n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(i)};return{variationName:T,canvas:t=>x,context:t=>y,mouse:t=>r,run:S,stop:P,saveCanvasCapture:t=>{console.log("Saving capture",t);const e=x.toDataURL("image/png");return t.target.setAttribute("download",`${T()}.png`),t.target.href=e,t.stopPropagation(),!1},saveCanvasRecording:t=>l?(b?(b=!1,l.stop(),l.save(`${T()}.webm`),console.log("Stopping recording")):(b=!0,l.start(),console.log("Starting recording")),t.stopPropagation(),!1):(console.error("No canvas recorder defined!"),!1),enableDragUpload:t=>{console.log("enabling drag upload!"),x?(x.addEventListener("dragover",I,!0),x.addEventListener("drop",D(t),!0)):console.warn("You need to init with a canvas el first!")},disableDragUpload:t=>{x.removeEventListener("dragover",I),x.removeEventListener("drop",D(imageDataHandler))}}})("canvas",0,!0),Ji=t=>{var e;e=t.note,document.getElementById("note").innerText=e,Gi.run(t.sketch,Gi)},Zi=Object.keys(Ui),Qi=ee.getQueryVariable("variation")||Zi[Zi.length-1];Qi&&Ui.hasOwnProperty(Qi)?(console.log(Qi,Ui.hasOwnProperty(Qi)),Ji(Ui[Qi])):Ji(Ui[Zi[Zi.length-1]]),document.getElementById("download").addEventListener("click",Gi.saveCanvasCapture),document.getElementById("record").addEventListener("click",Gi.saveCanvasRecording)}();
//# sourceMappingURL=index.74071a42.js.map
