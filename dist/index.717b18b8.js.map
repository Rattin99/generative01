{"mappings":"2vBAEIA,EAAO,GAoBXC,WAlBkBC,WACZC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BL,EAAQG,EAAKE,IAAMH,EAAMC,EAAKE,KAelCE,WAXiBC,OACXC,EAAWT,EAAQQ,MAEP,MAAZC,EAAgB,MAAA,IACRC,MAAK,oCAAuCF,UAGjDC,MCnBTE,EAAA,SAAAC,SAAsCC,KAAKC,MAAK,oYCItCC,OAENC,EAAQ,OACRC,EAAS,OACTC,EAAc,EACdC,EAAYJ,EAAKK,MACjBC,EAAUN,EAAKO,IACfC,EAAUR,EAAKS,IACfC,EAAaV,EAAKW,gBAEbC,EAAWC,EAAOC,MAGvBA,EAAOA,GAAI,IADXD,EAASA,GAAc,cAIFD,EAAS,OACpBC,uBAGYD,GAAS,OAAA,IAChBA,EAAUC,EAAOC,OAG5BC,WAoRYF,OAEZE,EAAG,CAAKC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACvBC,EAAI,EACJC,EAAI,KACJC,EAAI,KACJC,EAAI,KACJC,GAAK,EACLC,GAAS,EAEG,iBAALX,IACPA,WAywBqBA,GAEzBA,EAAQA,EAAMY,QAAQxB,EAAQ,IAAKwB,QAAQvB,EAAS,IAAMwB,kBActDC,EAbAC,GAAQ,KACRC,EAAMhB,GACNA,EAAQgB,EAAMhB,GACde,GAAQ,UAEE,eAALf,EAAsB,MAAA,CAClBG,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGK,OAAM,eAQtCG,EAAQG,EAASf,IAAIgB,KAAKlB,IAAK,CACvBG,EAAGW,EAAM,GAAIV,EAAGU,EAAM,GAAIT,EAAGS,EAAM,KAE3CA,EAAQG,EAASE,KAAKD,KAAKlB,IAAK,CACxBG,EAAGW,EAAM,GAAIV,EAAGU,EAAM,GAAIT,EAAGS,EAAM,GAAIR,EAAGQ,EAAM,KAExDA,EAAQG,EAASG,IAAIF,KAAKlB,IAAK,CACvBqB,EAAGP,EAAM,GAAIP,EAAGO,EAAM,GAAIL,EAAGK,EAAM,KAE3CA,EAAQG,EAASK,KAAKJ,KAAKlB,IAAK,CACxBqB,EAAGP,EAAM,GAAIP,EAAGO,EAAM,GAAIL,EAAGK,EAAM,GAAIR,EAAGQ,EAAM,KAExDA,EAAQG,EAASM,IAAIL,KAAKlB,IAAK,CACvBqB,EAAGP,EAAM,GAAIP,EAAGO,EAAM,GAAIN,EAAGM,EAAM,KAE3CA,EAAQG,EAASO,KAAKN,KAAKlB,IAAK,CACxBqB,EAAGP,EAAM,GAAIP,EAAGO,EAAM,GAAIN,EAAGM,EAAM,GAAIR,EAAGQ,EAAM,KAExDA,EAAQG,EAASQ,KAAKP,KAAKlB,IAAK,CAE7BG,EAAGuB,EAAgBZ,EAAM,IACzBV,EAAGsB,EAAgBZ,EAAM,IACzBT,EAAGqB,EAAgBZ,EAAM,IACzBR,EAAGqB,EAAoBb,EAAM,IAC7BH,OAAQI,EAAK,OAAS,SAGzBD,EAAQG,EAASW,KAAKV,KAAKlB,IAAK,CAE7BG,EAAGuB,EAAgBZ,EAAM,IACzBV,EAAGsB,EAAgBZ,EAAM,IACzBT,EAAGqB,EAAgBZ,EAAM,IACzBH,OAAQI,EAAK,OAAS,QAGzBD,EAAQG,EAASY,KAAKX,KAAKlB,IAAK,CAE7BG,EAAGuB,EAAgBZ,EAAM,GAAC,GAASA,EAAM,IACzCV,EAAGsB,EAAgBZ,EAAM,GAAC,GAASA,EAAM,IACzCT,EAAGqB,EAAgBZ,EAAM,GAAC,GAASA,EAAM,IACzCR,EAAGqB,EAAoBb,EAAM,GAAC,GAASA,EAAM,IAC7CH,OAAQI,EAAK,OAAS,WAGzBD,EAAQG,EAASa,KAAKZ,KAAKlB,KAAK,CAE7BG,EAAGuB,EAAgBZ,EAAM,GAAC,GAASA,EAAM,IACzCV,EAAGsB,EAAgBZ,EAAM,GAAC,GAASA,EAAM,IACzCT,EAAGqB,EAAgBZ,EAAM,GAAC,GAASA,EAAM,IACzCH,OAAQI,EAAK,OAAS,OA30BlBgB,CAAoB/B,IAGhB,iBAALA,IACHgC,EAAehC,EAAMG,IAAM6B,EAAehC,EAAMI,IAAM4B,EAAehC,EAAMK,IAiDrEF,EAhDSH,EAAMG,EAgDZC,EAhDeJ,EAAMI,EAgDlBC,EAhDqBL,EAAMK,EAAvCH,GAkDJC,EAAqB,IAAlB8B,EAAQ9B,EAAG,KACdC,EAAqB,IAAlB6B,EAAQ7B,EAAG,KACdC,EAAqB,IAAlB4B,EAAQ5B,EAAG,MAnDVK,GAAK,EACLC,EAAkC,MAAzBuB,OAAOlC,EAAMG,GAAGgC,QAAO,GAAW,OAAS,OAE/CH,EAAehC,EAAMqB,IAAMW,EAAehC,EAAMO,IAAMyB,EAAehC,EAAMQ,IAChFD,EAAI6B,EAAoBpC,EAAMO,GAC9BC,EAAI4B,EAAoBpC,EAAMQ,GAC9BN,WAoJOmB,EAAGd,EAAGC,GAErBa,EAAsB,EAAlBY,EAAQZ,EAAG,KACfd,EAAI0B,EAAQ1B,EAAG,KACfC,EAAIyB,EAAQzB,EAAG,SAEX/B,EAAIU,EAAKkD,MAAMhB,GACfiB,EAAIjB,EAAI5C,EACR8D,EAAI/B,GAAK,EAAID,GACbiC,EAAIhC,GAAK,EAAI8B,EAAI/B,GACjBkC,EAAIjC,GAAK,GAAK,EAAI8B,GAAK/B,GACvBmC,EAAMjE,EAAI,SAKL0B,EAAO,IAJX,CAAIK,EAAGgC,EAAGD,EAAGA,EAAGE,EAAGjC,GAAGkC,GAINtC,EAAO,IAHvB,CAAIqC,EAAGjC,EAAGA,EAAGgC,EAAGD,EAAGA,GAAGG,GAGMrC,EAAO,IAFnC,CAAIkC,EAAGA,EAAGE,EAAGjC,EAAGA,EAAGgC,GAAGE,IAlKbC,CAAS3C,EAAMqB,EAAGd,EAAGC,GAC3BE,GAAK,EACLC,EAAM,OAEDqB,EAAehC,EAAMqB,IAAMW,EAAehC,EAAMO,IAAMyB,EAAehC,EAAMS,KAChFF,EAAI6B,EAAoBpC,EAAMO,GAC9BE,EAAI2B,EAAoBpC,EAAMS,GAC9BP,WA6EMmB,EAAGd,EAAGE,OAChBN,EAAGC,EAAGC,WAMDuC,EAAQL,EAAGC,EAAGC,UAChBA,EAAI,IAAGA,GAAK,GACZA,EAAI,IAAGA,GAAK,GACZA,EAAI,EAAE,EAAUF,EAAc,GAATC,EAAID,GAASE,EAClCA,EAAI,GAAYD,EAChBC,EAAI,EAAE,EAAUF,GAAKC,EAAID,IAAM,EAAE,EAAIE,GAAK,EACtCF,KAVXlB,EAAIY,EAAQZ,EAAG,KACfd,EAAI0B,EAAQ1B,EAAG,KACfE,EAAIwB,EAAQxB,EAAG,KAWN,IAANF,EACCJ,EAAIC,EAAIC,EAAII,WAGR+B,EAAI/B,EAAI,GAAMA,GAAK,EAAIF,GAAKE,EAAIF,EAAIE,EAAIF,EACxCgC,EAAI,EAAI9B,EAAI+B,EAChBrC,EAAIyC,EAAQL,EAAGC,EAAGnB,EAAI,EAAE,GACxBjB,EAAIwC,EAAQL,EAAGC,EAAGnB,GAClBhB,EAAIuC,EAAQL,EAAGC,EAAGnB,EAAI,EAAE,UAGnBlB,EAAO,IAAJA,EAASC,EAAO,IAAJA,EAASC,EAAO,IAAJA,GAxGtBwC,CAAS7C,EAAMqB,EAAGd,EAAGE,GAC3BC,GAAK,EACLC,EAAM,OAGNX,EAAM8C,eAAc,OACpBxC,EAAIN,EAAMM,QA4BJH,EAAGC,EAAGC,SAxBpBC,EAAIyC,EAAWzC,IAGXI,GAAIA,EACJC,OAAQX,EAAMW,QAAUA,EACxBR,EAAGV,EAAQ,IAAKE,EAAQO,EAAIC,EAAG,IAC/BC,EAAGX,EAAQ,IAAKE,EAAQO,EAAIE,EAAG,IAC/BC,EAAGZ,EAAQ,IAAKE,EAAQO,EAAIG,EAAG,IAC/BC,EAAGA,GApUG0C,CAAWhD,QAChBiD,eAAiBjD,EAAKkD,KACtBC,GAAKjD,EAAIC,EAAC+C,KACVE,GAAKlD,EAAIE,EAAC8C,KACVG,GAAKnD,EAAIG,EAAC6C,KACVI,GAAKpD,EAAII,EAAC4C,KACVK,QAAUhE,EAAU,IAAG2D,KAAMI,IAAM,IAAGJ,KACtCM,QAAUvD,EAAKU,QAAUT,EAAIS,YAC7B8C,cAAgBxD,EAAKyD,kBAMjBP,GAAK,IAACD,KAASC,GAAK5D,EAAS2D,KAAMC,UACnCC,GAAK,IAACF,KAASE,GAAK7D,EAAS2D,KAAME,UACnCC,GAAK,IAACH,KAASG,GAAK9D,EAAS2D,KAAMG,UAEvCM,IAAMzD,EAAIQ,QACVkD,OAAStE,aA6UTuE,EAAS1D,EAAGC,EAAGC,GAEpBF,EAAI8B,EAAQ9B,EAAG,KACfC,EAAI6B,EAAQ7B,EAAG,KACfC,EAAI4B,EAAQ5B,EAAG,SAGXgB,EAAGd,EADHX,EAAMD,EAAQQ,EAAGC,EAAGC,GAAIX,EAAMD,EAAQU,EAAGC,EAAGC,GACtCI,GAAKb,EAAMF,GAAO,KAEzBE,GAAOF,EACN2B,EAAId,EAAI,WAGJuD,EAAIlE,EAAMF,SACda,EAAIE,EAAI,GAAMqD,GAAK,EAAIlE,EAAMF,GAAOoE,GAAKlE,EAAMF,GACxCE,QACEO,EAAGkB,GAAKjB,EAAIC,GAAKyD,GAAK1D,EAAIC,EAAI,EAAI,cAClCD,EAAGiB,GAAKhB,EAAIF,GAAK2D,EAAI,aACrBzD,EAAGgB,GAAKlB,EAAIC,GAAK0D,EAAI,EAG9BzC,GAAK,SAGAA,EAAGA,EAAGd,EAAGA,EAAGE,EAAGA,YAyCnBsD,EAAS5D,EAAGC,EAAGC,GAEpBF,EAAI8B,EAAQ9B,EAAG,KACfC,EAAI6B,EAAQ7B,EAAG,KACfC,EAAI4B,EAAQ5B,EAAG,SAGXgB,EAAGd,EADHX,EAAMD,EAAQQ,EAAGC,EAAGC,GAAIX,EAAMD,EAAQU,EAAGC,EAAGC,GACtCG,EAAIZ,EAEVkE,EAAIlE,EAAMF,KACda,EAAY,IAARX,EAAY,EAAIkE,EAAIlE,EAErBA,GAAOF,EACN2B,EAAI,cAGGzB,QACEO,EAAGkB,GAAKjB,EAAIC,GAAKyD,GAAK1D,EAAIC,EAAI,EAAI,cAClCD,EAAGiB,GAAKhB,EAAIF,GAAK2D,EAAI,aACrBzD,EAAGgB,GAAKlB,EAAIC,GAAK0D,EAAI,EAE9BzC,GAAK,SAEAA,EAAGA,EAAGd,EAAGA,EAAGC,EAAGA,YA8BnBwD,EAAS7D,EAAGC,EAAGC,EAAG4D,OAEnBC,EAAG,CACHC,EAAK5E,EAAUY,GAAGiE,SAAS,KAC3BD,EAAK5E,EAAUa,GAAGgE,SAAS,KAC3BD,EAAK5E,EAAUc,GAAG+D,SAAS,aAI3BH,GAAcC,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,GACzHH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAGxDH,EAAII,KAAI,aA2BVC,EAAcpE,EAAGC,EAAGC,EAAGC,SAErB,CACH6D,EAAKK,EAAoBlE,IACzB6D,EAAK5E,EAAUY,GAAGiE,SAAS,KAC3BD,EAAK5E,EAAUa,GAAGgE,SAAS,KAC3BD,EAAK5E,EAAUc,GAAG+D,SAAS,MAGpBE,KAAI,aAwBVG,EAAWzE,EAAO0E,GACvBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,OACrCtD,EAAMrB,EAAUC,GAAO2E,eAC3BvD,EAAIb,GAAKmE,EAAS,IAClBtD,EAAIb,EAAIqE,EAAQxD,EAAIb,GACbR,EAAUqB,YAGZyD,EAAS7E,EAAO0E,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,OACrCtD,EAAMrB,EAAUC,GAAO2E,eAC3BvD,EAAIb,GAAKmE,EAAS,IAClBtD,EAAIb,EAAIqE,EAAQxD,EAAIb,GACbR,EAAUqB,YAGZ0D,EAAU9E,UACRD,EAAUC,GAAOyE,WAAW,cAG9BM,EAAS/E,EAAO0E,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,OACrCtD,EAAMrB,EAAUC,GAAO2E,eAC3BvD,EAAIX,GAAKiE,EAAS,IAClBtD,EAAIX,EAAImE,EAAQxD,EAAIX,GACbV,EAAUqB,YAGZ4D,EAAShF,EAAO0E,GACrBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,OACrCxE,EAAMH,EAAUC,GAAOiF,eAC3B/E,EAAIC,EAAIR,EAAQ,EAAGF,EAAQ,IAAKS,EAAIC,EAAIZ,GAAmBmF,EAAS,IAAlB,OAClDxE,EAAIE,EAAIT,EAAQ,EAAGF,EAAQ,IAAKS,EAAIE,EAAIb,GAAmBmF,EAAS,IAAlB,OAClDxE,EAAIG,EAAIV,EAAQ,EAAGF,EAAQ,IAAKS,EAAIG,EAAId,GAAmBmF,EAAS,IAAlB,OAC3C3E,EAAUG,YAGZgF,EAAQlF,EAAO0E,GACpBA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,OACrCtD,EAAMrB,EAAUC,GAAO2E,eAC3BvD,EAAIX,GAAKiE,EAAS,IAClBtD,EAAIX,EAAImE,EAAQxD,EAAIX,GACbV,EAAUqB,YAKZ+D,EAAKnF,EAAO0E,OACbtD,EAAMrB,EAAUC,GAAO2E,QACvBS,GAAOhE,EAAIC,EAAIqD,GAAU,WAC7BtD,EAAIC,EAAI+D,EAAM,EAAI,IAAMA,EAAMA,EACvBrF,EAAUqB,YAQZiE,EAAWrF,OACZoB,EAAMrB,EAAUC,GAAO2E,eAC3BvD,EAAIC,GAAKD,EAAIC,EAAI,KAAO,IACjBtB,EAAUqB,YAGZkE,EAAMtF,OACPoB,EAAMrB,EAAUC,GAAO2E,QACvBtD,EAAID,EAAIC,SAERtB,EAAUC,GACVD,EAAS,CAAGsB,GAAIA,EAAI,KAAO,IAAKd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,IACjDV,EAAS,CAAGsB,GAAIA,EAAI,KAAO,IAAKd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,cAIhD8E,EAAOvF,OACRoB,EAAMrB,EAAUC,GAAO2E,QACvBtD,EAAID,EAAIC,SAERtB,EAAUC,GACVD,EAAS,CAAGsB,GAAIA,EAAI,IAAM,IAAKd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,IAChDV,EAAS,CAAGsB,GAAIA,EAAI,KAAO,IAAKd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,IACjDV,EAAS,CAAGsB,GAAIA,EAAI,KAAO,IAAKd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,cAIhD+E,EAAgBxF,OACjBoB,EAAMrB,EAAUC,GAAO2E,QACvBtD,EAAID,EAAIC,SAERtB,EAAUC,GACVD,EAAS,CAAGsB,GAAIA,EAAI,IAAM,IAAKd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,IAChDV,EAAS,CAAGsB,GAAIA,EAAI,KAAO,IAAKd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,cAIhDgF,EAAUzF,EAAO0F,EAASC,GAC/BD,EAAUA,GAAW,EACrBC,EAASA,GAAU,OAEfvE,EAAMrB,EAAUC,GAAO2E,QACvBiB,EAAO,IAAMD,EACbE,EAAG,CAAI9F,EAAUC,QAEhBoB,EAAIC,GAAMD,EAAIC,GAAKuE,EAAOF,GAAW,GAAM,KAAO,MAAOA,GAC1DtE,EAAIC,GAAKD,EAAIC,EAAIuE,GAAQ,IACzBC,EAAIC,KAAK/F,EAAUqB,WAEhByE,WAGFE,EAAc/F,EAAO0F,GAC1BA,EAAUA,GAAW,UACjBnE,EAAMxB,EAAUC,GAAOgG,QACvB3E,EAAIE,EAAIF,EAAGd,EAAIgB,EAAIhB,EAAGC,EAAIe,EAAIf,EAC9BqF,EAAG,GACHI,EAAe,EAAIP,EAEhBA,KACHG,EAAIC,KAAK/F,EAAS,CAAGsB,EAAGA,EAAGd,EAAGA,EAAGC,EAAGA,KACpCA,GAAKA,EAAIyF,GAAgB,SAGtBJ,EApoBX9F,EAAUmG,UAAS,CACfC,OAAM,uBACUC,gBAAkB,KAElCC,QAAO,uBACUF,UAEjBG,QAAO,uBACS3C,KAEhB4C,iBAAgB,uBACFtD,gBAEduD,UAAS,uBACOhD,SAEhBiD,SAAQ,uBACQnD,IAEhB8C,cAAa,eAELlG,EAAGgD,KAAQ+B,eACC,IAAR/E,EAAIC,EAAkB,IAARD,EAAIE,EAAkB,IAARF,EAAIG,GAAW,KAEvDqG,aAAY,eAGJC,EAAOC,EAAOC,EADd3G,EAAGgD,KAAQ+B,eAEf0B,EAAQzG,EAAIC,EAAE,IACdyG,EAAQ1G,EAAIE,EAAE,IACdyG,EAAQ3G,EAAIG,EAAE,IAKN,OAHJsG,GAAS,OAAcA,EAAQ,MAAkBxH,EAAK2H,KAAMH,EAAQ,MAAS,MAAQ,MAGlE,OAFnBC,GAAS,OAAcA,EAAQ,MAAkBzH,EAAK2H,KAAMF,EAAQ,MAAS,MAAQ,MAEnD,OADlCC,GAAS,OAAcA,EAAQ,MAAkB1H,EAAK2H,KAAMD,EAAQ,MAAS,MAAQ,OAG7FE,SAAQ,SAAWC,eACV1D,GAAKP,EAAWiE,QAChBzD,QAAUhE,EAAU,IAAG2D,KAAMI,IAAM,UAG5C0C,MAAK,eACGzE,EAAMwC,EAAQb,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,WACjChC,EAAW,IAARE,EAAIF,EAASd,EAAGgB,EAAIhB,EAAGC,EAAGe,EAAIf,EAAGF,EAAC4C,KAAOI,KAEzD2D,YAAW,eACH1F,EAAMwC,EAAQb,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,IACtChC,EAAI9B,EAAkB,IAARgC,EAAIF,GAAUd,EAAIhB,EAAkB,IAARgC,EAAIhB,GAAUC,EAAIjB,EAAkB,IAARgC,EAAIf,UAC3D,QAAN8C,GAAO,OACRjC,EAAC,KAAUd,EAAC,MAAWC,EAAC,KAAO,QAC/Ba,EAAC,KAAUd,EAAC,MAAWC,EAAC,MAAQ0C,KAAOK,QAAO,KAE9DoB,MAAK,eACGvD,EAAMyC,EAAQX,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,WACjChC,EAAW,IAARD,EAAIC,EAASd,EAAGa,EAAIb,EAAGE,EAAGW,EAAIX,EAAGH,EAAC4C,KAAOI,KAEzD4D,YAAW,eACH9F,EAAMyC,EAAQX,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,IACtChC,EAAI9B,EAAkB,IAAR6B,EAAIC,GAAUd,EAAIhB,EAAkB,IAAR6B,EAAIb,GAAUE,EAAIlB,EAAkB,IAAR6B,EAAIX,UAC3D,QAAN6C,GAAO,OACRjC,EAAC,KAAUd,EAAC,MAAWE,EAAC,KAAO,QAC/BY,EAAC,KAAUd,EAAC,MAAWE,EAAC,MAAQyC,KAAOK,QAAO,KAE9D4D,MAAK,SAAWlD,UACLD,EAAQd,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,GAAIY,IAE/CmD,YAAW,SAAWnD,aACRf,KAAQiE,MAAMlD,IAE5BoD,OAAM,SAAWC,mBA8YFnH,EAAGC,EAAGC,EAAGC,EAAGgH,OAEvBpD,EAAG,CACHC,EAAK5E,EAAUY,GAAGiE,SAAS,KAC3BD,EAAK5E,EAAUa,GAAGgE,SAAS,KAC3BD,EAAK5E,EAAUc,GAAG+D,SAAS,KAC3BD,EAAKK,EAAoBlE,YAIzBgH,GAAcpD,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,IAAMH,EAAI,GAAGG,OAAO,GACjKH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAAKH,EAAI,GAAGG,OAAO,GAG3EH,EAAII,KAAI,IA3ZJiD,CAASrE,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,GAAEH,KAAOI,GAAIgE,IAEzDE,aAAY,SAAWF,aACTpE,KAAQmE,OAAOC,IAE7BrC,MAAK,kBACQ9E,EAAGZ,EAAS2D,KAAMC,IAAK/C,EAAGb,EAAS2D,KAAME,IAAK/C,EAAGd,EAAS2D,KAAMG,IAAK/C,EAAC4C,KAAOI,KAE1FmE,YAAW,kBACY,QAANnE,GAAO,OACR/D,EAAS2D,KAAMC,IAAE,KAAW5D,EAAS2D,KAAME,IAAE,KAAW7D,EAAS2D,KAAMG,IAAE,IAAO,QAChF9D,EAAS2D,KAAMC,IAAE,KAAW5D,EAAS2D,KAAME,IAAE,KAAW7D,EAAS2D,KAAMG,IAAE,KAAQH,KAAQK,QAAO,KAEhHmE,gBAAe,kBACFvH,EAAGZ,EAAkC,IAAxB0C,EAAOiB,KAAMC,GAAI,MAAU,IAAS/C,EAAGb,EAAkC,IAAxB0C,EAAOiB,KAAME,GAAI,MAAU,IAAS/C,EAAGd,EAAkC,IAAxB0C,EAAOiB,KAAMG,GAAI,MAAU,IAAS/C,EAAC4C,KAAOI,KAExKqE,sBAAqB,kBACE,QAANrE,GAAO,OACR/D,EAAkC,IAAxB0C,EAAOiB,KAAMC,GAAI,MAAU,MAAY5D,EAAkC,IAAxB0C,EAAOiB,KAAME,GAAI,MAAU,MAAY7D,EAAkC,IAAxB0C,EAAOiB,KAAMG,GAAI,MAAU,KAAQ,QAC/I9D,EAAkC,IAAxB0C,EAAOiB,KAAMC,GAAI,MAAU,MAAY5D,EAAkC,IAAxB0C,EAAOiB,KAAME,GAAI,MAAU,MAAY7D,EAAkC,IAAxB0C,EAAOiB,KAAMG,GAAI,MAAU,MAASH,KAAQK,QAAO,KAE/KqE,OAAM,kBACc,SAAPtE,GAAQ,qBAIRA,GAAK,KAIPuE,EAAS7D,EAAQd,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,IAAI,MAAU,IAElEyE,SAAQ,SAAWC,OACXC,EAAU,IAASzD,EAAarB,KAAMC,GAAED,KAAOE,GAAEF,KAAOG,GAAEH,KAAOI,IACjE2E,EAAmBD,EACnBtE,EAAYR,KAAQO,cAAa,qBAAuB,MAExDsE,EAAW,KACPxH,EAAIR,EAAUgI,GAClBE,EAAgB,IAAS1D,EAAchE,EAAE4C,GAAI5C,EAAE6C,GAAI7C,EAAE8C,GAAI9C,EAAE+C,wDAGVI,EAAY,iBAAkBsE,EAAU,gBAAiBC,EAAgB,KAElI7D,SAAQ,SAAWzD,OACXuH,IAAcvH,EAClBA,EAASA,GAAMuC,KAASM,YAEpB2E,GAAkB,EAClBC,EAAQlF,KAAQI,GAAK,GAACJ,KAASI,IAAM,SACjB4E,IAAaE,GAAmB,QAANzH,GAA0B,SAANA,GAA2B,SAANA,GAA2B,SAANA,GAA2B,SAANA,GAA2B,SAANA,GAUhJ,QAANA,IACAwH,EAAejF,KAAQuE,eAEjB,SAAN9G,IACAwH,EAAejF,KAAQyE,yBAEjB,QAANhH,GAA0B,SAANA,IACpBwH,EAAejF,KAAQkE,eAEjB,SAANzG,IACAwH,EAAejF,KAAQkE,aAAY,IAE7B,SAANzG,IACAwH,EAAejF,KAAQsE,cAAa,IAE9B,SAAN7G,IACAwH,EAAejF,KAAQsE,gBAEjB,SAAN7G,IACAwH,EAAejF,KAAQ0E,UAEjB,QAANjH,IACAwH,EAAejF,KAAQgE,eAEjB,QAANvG,IACAwH,EAAejF,KAAQ+D,eAGpBkB,GAAejF,KAASkE,eAjCjB,SAANzG,GAAiC,IAAhBuC,KAASI,GAAQJ,KACtB0E,cAEJH,eAgCpBY,MAAK,kBACMtI,EAASmD,KAAMkB,aAG1BkE,mBAAkB,SAAWC,EAAIC,OACzBxI,EAAQuI,EAAGE,MAAM,KAAI,OAASC,OAAM,GAAIC,MAAMC,KAAKJ,iBAClDrF,GAAKnD,EAAMmD,QACXC,GAAKpD,EAAMoD,QACXC,GAAKrD,EAAMqD,QACX0D,SAAS/G,EAAMsD,UAGxByB,QAAO,uBACSuD,mBAAmBvD,EAAS8D,YAE5C7D,SAAQ,uBACQsD,mBAAmBtD,EAAU6D,YAE7C3D,OAAM,uBACUoD,mBAAmBpD,EAAQ2D,YAE3CpE,WAAU,uBACM6D,mBAAmB7D,EAAYoE,YAE/ChE,SAAQ,uBACQyD,mBAAmBzD,EAAUgE,YAE7C/D,UAAS,uBACOwD,mBAAmBxD,EAAW+D,YAE9C1D,KAAI,uBACYmD,mBAAmBnD,EAAM0D,YAGzCC,kBAAiB,SAAWP,EAAIC,UACrBD,EAAGE,MAAM,KAAI,OAASC,OAAM,GAAIC,MAAMC,KAAKJ,MAEtD/C,UAAS,uBACOqD,kBAAkBrD,EAAWoD,YAE7CxD,WAAU,uBACMyD,kBAAkBzD,EAAYwD,YAE9C9C,cAAa,uBACG+C,kBAAkB/C,EAAe8C,YAEjDrD,gBAAe,uBACCsD,kBAAkBtD,EAAiBqD,YAEnDvD,MAAK,uBACWwD,kBAAkBxD,EAAOuD,YAEzCtD,OAAM,uBACUuD,kBAAkBvD,EAAQsD,aAM9C9I,EAAUgJ,UAAS,SAAY/I,EAAOC,MAClB,iBAALD,EAAiB,KACpBgJ,EAAQ,WACHvK,KAAKuB,EACNA,EAAM8C,eAAerE,KAEjBuK,EAASvK,GADR,MAADA,EACcuB,EAAMvB,GAGN2D,EAAoBpC,EAAMvB,KAIpDuB,EAAQgJ,SAGLjJ,EAAUC,EAAOC,IA0Q5BF,EAAUkJ,OAAM,SAAaC,EAAQC,YAC5BD,IAAWC,IACTpJ,EAAUmJ,GAAQzB,eAAiB1H,EAAUoJ,GAAQ1B,eAGhE1H,EAAUD,OAAM,kBACLC,EAAUgJ,UAAS,CACtB5I,EAAGN,IACHO,EAAGP,IACHQ,EAAGR,OA2IXE,EAAUqJ,IAAG,SAAYF,EAAQC,EAAQzE,GACrCA,EAAqB,IAAXA,EAAgB,EAAKA,GAAU,OAErC2E,EAAOtJ,EAAUmJ,GAAQjE,QACzBqE,EAAOvJ,EAAUoJ,GAAQlE,QAEzB1C,EAAImC,EAAS,WASV3E,EAPC,CACJI,GAAKmJ,EAAKnJ,EAAIkJ,EAAKlJ,GAAKoC,EAAK8G,EAAKlJ,EAClCC,GAAKkJ,EAAKlJ,EAAIiJ,EAAKjJ,GAAKmC,EAAK8G,EAAKjJ,EAClCC,GAAKiJ,EAAKjJ,EAAIgJ,EAAKhJ,GAAKkC,EAAK8G,EAAKhJ,EAClCC,GAAKgJ,EAAKhJ,EAAI+I,EAAK/I,GAAKiC,EAAK8G,EAAK/I,KAa1CP,EAAUwJ,YAAW,SAAYL,EAAQC,OACjCK,EAAKzJ,EAAUmJ,GACfO,EAAK1J,EAAUoJ,UACXhK,EAAKS,IAAI4J,EAAG9C,eAAe+C,EAAG/C,gBAAgB,MAASvH,EAAKO,IAAI8J,EAAG9C,eAAe+C,EAAG/C,gBAAgB,MAajH3G,EAAU2J,WAAU,SAAYR,EAAQC,EAAQQ,OAExCC,EAAYC,EADZN,EAAcxJ,EAAUwJ,YAAYL,EAAQC,UAGhDU,GAAM,GAEND,WAkawBE,OAGpBC,EAAOC,EAEXD,IADAD,EAAQA,GAAK,OAAY,UAAa,UACvBC,OAAK,MAAUE,cAC9BD,GAAQF,EAAME,MAAI,SAAanJ,cACtB,OAALkJ,GAAuB,QAALA,IAClBA,EAAK,MAED,UAAJC,GAAwB,UAAJA,IACpBA,EAAI,sBAEQD,OAAcC,GA/ajBE,CAAmBP,IACbI,MAAQH,EAAWI,mCAG9BH,EAAMN,GAAe,wBAGrBM,EAAMN,GAAe,uBAGrBM,EAAMN,GAAe,SAGtBM,GAaX9J,EAAUoK,aAAY,SAAYC,EAAWC,EAAW7B,OAGhDe,EACAe,EAAuBP,EAAOC,EAH9BO,EAAY,KACZC,EAAY,EAIhBF,GADA9B,EAAOA,GAAI,IACkB8B,sBAC7BP,EAAQvB,EAAKuB,MACbC,EAAOxB,EAAKwB,aAEHvL,EAAG,EAAGA,EAAI4L,EAAU3L,OAASD,KAClC8K,EAAcxJ,EAAUwJ,YAAYa,EAAWC,EAAU5L,KACvC+L,IACdA,EAAYjB,EACZgB,EAAYxK,EAAUsK,EAAU5L,YAIpCsB,EAAU2J,WAAWU,EAAWG,EAAS,OAAWR,OAAaC,MAAWM,EACrEC,GAGP/B,EAAK8B,uBAAsB,EACpBvK,EAAUoK,aAAaC,EAAS,gBAAkB5B,SAQ7DxH,EAAQjB,EAAUiB,MAAK,CACvByJ,UAAS,SACTC,aAAY,SACZC,KAAI,MACJC,WAAU,SACVC,MAAK,SACLC,MAAK,SACLC,OAAM,SACNC,MAAK,MACLC,eAAc,SACdC,KAAI,MACJC,WAAU,SACVC,MAAK,SACLC,UAAS,SACTC,YAAW,SACXC,UAAS,SACTC,WAAU,SACVC,UAAS,SACTC,MAAK,SACLC,eAAc,SACdC,SAAQ,SACRC,QAAO,SACPC,KAAI,MACJC,SAAQ,SACRC,SAAQ,SACRC,cAAa,SACbC,SAAQ,SACRC,UAAS,SACTC,SAAQ,SACRC,UAAS,SACTC,YAAW,SACXC,eAAc,SACdC,WAAU,SACVC,WAAU,SACVC,QAAO,SACPC,WAAU,SACVC,aAAY,SACZC,cAAa,SACbC,cAAa,SACbC,cAAa,SACbC,cAAa,SACbC,WAAU,SACVC,SAAQ,SACRC,YAAW,SACXC,QAAO,SACPC,QAAO,SACPC,WAAU,SACVC,UAAS,SACTC,YAAW,SACXC,YAAW,SACXC,QAAO,MACPC,UAAS,SACTC,WAAU,SACVC,KAAI,SACJC,UAAS,SACTC,KAAI,SACJC,MAAK,SACLC,YAAW,SACXC,KAAI,SACJC,SAAQ,SACRC,QAAO,SACPC,UAAS,SACTC,OAAM,SACNC,MAAK,SACLC,MAAK,SACLC,SAAQ,SACRC,cAAa,SACbC,UAAS,SACTC,aAAY,SACZC,UAAS,SACTC,WAAU,SACVC,UAAS,SACTC,qBAAoB,SACpBC,UAAS,SACTC,WAAU,SACVC,UAAS,SACTC,UAAS,SACTC,YAAW,SACXC,cAAa,SACbC,aAAY,SACZC,eAAc,MACdC,eAAc,MACdC,eAAc,SACdC,YAAW,SACXC,KAAI,MACJC,UAAS,SACTC,MAAK,SACLC,QAAO,MACPC,OAAM,SACNC,iBAAgB,SAChBC,WAAU,SACVC,aAAY,SACZC,aAAY,SACZC,eAAc,SACdC,gBAAe,SACfC,kBAAiB,SACjBC,gBAAe,SACfC,gBAAe,SACfC,aAAY,SACZC,UAAS,SACTC,UAAS,SACTC,SAAQ,SACRC,YAAW,SACXC,KAAI,SACJC,QAAO,SACPC,MAAK,SACLC,UAAS,SACTC,OAAM,SACNC,UAAS,SACTC,OAAM,SACNC,cAAa,SACbC,UAAS,SACTC,cAAa,SACbC,cAAa,SACbC,WAAU,SACVC,UAAS,SACTC,KAAI,SACJC,KAAI,SACJC,KAAI,SACJC,WAAU,SACVC,OAAM,SACNC,cAAa,SACbC,IAAG,MACHC,UAAS,SACTC,UAAS,SACTC,YAAW,SACXC,OAAM,SACNC,WAAU,SACVC,SAAQ,SACRC,SAAQ,SACRC,OAAM,SACNC,OAAM,SACNC,QAAO,SACPC,UAAS,SACTC,UAAS,SACTC,UAAS,SACTC,KAAI,SACJC,YAAW,SACXC,UAAS,SACTC,IAAG,SACHC,KAAI,SACJC,QAAO,SACPC,OAAM,SACNC,UAAS,SACTC,OAAM,SACNC,MAAK,SACLC,MAAK,MACLC,WAAU,SACVC,OAAM,MACNC,YAAW,UAIXhM,EAAW9H,EAAU8H,kBAOXiM,OACNC,EAAO,WACFtV,KAAKqV,EACNA,EAAEhR,eAAerE,KACjBsV,EAAQD,EAAErV,IAAMA,UAGjBsV,EAdyBC,CAAKhT,YAkBhC+B,EAAWzC,UAChBA,EAAI2T,WAAW3T,IAEX4T,MAAM5T,IAAMA,EAAI,GAAKA,EAAI,KACzBA,EAAI,GAGDA,WAIF2B,EAAQkS,EAAGvU,aAgCIuU,SACL,iBAADA,IAAmC,GAAlBA,EAAEC,QAAO,MAAiC,IAAlBH,WAAWE,IAhC9DE,CAAeF,KAAMA,EAAC,YAEtBG,WAkCcH,SACH,iBAADA,IAAoC,GAAlBA,EAAEC,QAAO,KAnCpBG,CAAaJ,UAClCA,EAAI1U,EAAQG,EAAKD,EAAQ,EAAGsU,WAAWE,KAGnCG,IACAH,EAAIK,SAASL,EAAIvU,EAAK,IAAM,KAI3BT,EAAKsV,IAAIN,EAAIvU,GAAO,KACd,EAIHuU,EAAIvU,EAAOqU,WAAWrU,YAIzBgF,EAAQ8P,UACNjV,EAAQ,EAAGE,EAAQ,EAAG+U,aAIxBhT,EAAgBgT,UACdF,SAASE,EAAK,aAehBvQ,EAAKwQ,UACS,GAAZA,EAAEjW,OAAW,IAASiW,EAAC,GAAQA,WAIjCvS,EAAoB+R,UACrBA,GAAK,IACLA,EAAS,IAAJA,EAAO,KAGTA,WAIF3P,EAAoBV,UAClB3E,EAAKK,MAAsB,IAAhByU,WAAWnQ,IAAUM,SAAS,aAG3CzC,EAAoBN,UACjBK,EAAgBL,GAAK,QAYzBuT,EAKAC,EACAC,EAfJ7T,GAcI4T,EAAiB,eALjBD,EAAQ,8CAKoC,aAAkBA,EAAQ,aAAkBA,EAAQ,YAChGE,EAAiB,cAAmBF,EAAQ,aAAkBA,EAAQ,aAAkBA,EAAQ,aAAkBA,EAAQ,aAG1HA,SAAQ,IAAMG,OAAOH,GACrB1U,IAAG,IAAM6U,OAAM,MAASF,GACxB1T,KAAI,IAAM4T,OAAM,OAAUD,GAC1B1T,IAAG,IAAM2T,OAAM,MAASF,GACxBvT,KAAI,IAAMyT,OAAM,OAAUD,GAC1BvT,IAAG,IAAMwT,OAAM,MAASF,GACxBrT,KAAI,IAAMuT,OAAM,OAAUD,GAC1BhT,KAAI,uDACJF,KAAI,uDACJC,KAAI,uEACJJ,KAAI,kFAOHO,EAAehC,WACXiB,EAAS2T,SAAS1T,KAAKlB,GAgGCgV,EACjCA,EAAiBjV,EAGC,mBAANkV,QAAyBA,OAAOC,IAC5CD,QAAM,kBAAqBlV,KAI3BoV,OAAOpV,UAAYA,GAGpBqV,YC5pCUC,cACGC,EAAGC,EAAGC,QACTF,EAAIA,GAAK,OACTC,EAAIA,GAAK,OACTC,EAAIA,GAAK,EAGlBC,yBACmBH,MAAIpS,KAAOqS,IAG9BE,sBACeJ,GAAMnS,KAAOoS,GAACpS,KAAQqS,GAACrS,KAAQsS,GAG9CC,IAAIjV,UACIA,aAAa6U,EAAM,IAAaA,EAAMnS,KAAMoS,EAAI9U,EAAE8U,EAACpS,KAAOqS,EAAI/U,EAAE+U,EAACrS,KAAOsS,EAAIhV,EAAEgV,OACvEH,EAAMnS,KAAMoS,EAAI9U,EAAC0C,KAAOqS,EAAI/U,EAAC0C,KAAOsS,EAAIhV,GAGvDiV,IAAIjV,UACIA,aAAa6U,EAAM,IAAaA,EAAMnS,KAAMoS,EAAI9U,EAAE8U,EAACpS,KAAOqS,EAAI/U,EAAE+U,EAACrS,KAAOsS,EAAIhV,EAAEgV,OACvEH,EAAMnS,KAAMoS,EAAI9U,EAAC0C,KAAOqS,EAAI/U,EAAC0C,KAAOsS,EAAIhV,GAGvDiV,KAAKjV,UACGA,aAAa6U,EAAM,IAAaA,EAAMnS,KAAMoS,EAAI9U,EAAE8U,EAACpS,KAAOqS,EAAI/U,EAAE+U,EAACrS,KAAOsS,EAAIhV,EAAEgV,OACvEH,EAAMnS,KAAMoS,EAAI9U,EAAC0C,KAAOqS,EAAI/U,EAAC0C,KAAOsS,EAAIhV,GAIvDiV,IAAIpV,EAAGqV,SAnCD,EAAIpV,EAAGD,EAAGqV,IAAarV,EAAEsV,IAAIrV,GAAGsV,KAAKF,GAAUG,IAAIvV,GAqC9CwV,CAAI5S,KAAO7C,EAAGqV,GAGzBD,IAAIjV,UACIA,aAAa6U,EAAM,IAAaA,EAAMnS,KAAMoS,EAAI9U,EAAE8U,EAACpS,KAAOqS,EAAI/U,EAAE+U,EAACrS,KAAOsS,EAAIhV,EAAEgV,OACvEH,EAAMnS,KAAMoS,EAAI9U,EAAC0C,KAAOqS,EAAI/U,EAAC0C,KAAOsS,EAAIhV,GAGvDiV,OAAOjV,eACS8U,IAAM9U,EAAE8U,GAACpS,KAASqS,IAAM/U,EAAE+U,GAACrS,KAASsS,IAAMhV,EAAEgV,EAG5DC,IAAIjV,eACY8U,EAAI9U,EAAE8U,EAACpS,KAAQqS,EAAI/U,EAAE+U,EAACrS,KAAQsS,EAAIhV,EAAEgV,EAGpDC,MAAMjV,cACS6U,EAAMnS,KAAMqS,EAAI/U,EAAEgV,EAACtS,KAAQsS,EAAIhV,EAAE+U,EAACrS,KAAOsS,EAAIhV,EAAE8U,EAACpS,KAAQoS,EAAI9U,EAAEgV,EAACtS,KAAOoS,EAAI9U,EAAE+U,EAACrS,KAAQqS,EAAI/U,EAAE8U,GAG1GG,gBACWL,KAAKW,KAAI7S,KAAM8S,IAAG9S,OAG7BuS,kBACgB/W,SAGhB+W,cACUQ,EAAC/S,KAAQxE,gBACRuX,EAAIA,EAGfR,OAAOQ,SAEG9V,EAAI8V,EADH/S,KAAQgT,kBAEHN,KAAKzV,GAGrBsV,gBACQS,EAAGhT,KAAQgT,aACfA,EAAMA,GAAO,OACDC,IAAID,GAGpBT,mBACgBU,IAAGjT,KAAMxE,UAGzB+W,aACWL,KAAK1V,IAAI0V,KAAK1V,IAAGwD,KAAMoS,EAACpS,KAAOqS,GAACrS,KAAQsS,GAGnDC,aACWL,KAAKxV,IAAIwV,KAAKxV,IAAGsD,KAAMoS,EAACpS,KAAOqS,GAACrS,KAAQsS,GAGnDC,MAAMjV,UACM0C,KAAQgT,MACP1V,EAAC0C,KACMkT,OAAO5V,QAK3BiV,eACWL,KAAKiB,MAAKnT,KAAMqS,EAACrS,KAAOoS,GAGnCG,kBAEQa,MAAOlB,KAAKiB,MAAKnT,KAAMsS,EAACtS,KAAOoS,GAC/BiB,IAAKnB,KAAKoB,KAAItT,KAAMqS,EAACrS,KAAQxE,WAIrC+W,QAAQnV,UACG8U,KAAKqB,KAAIvT,KAAM8S,IAAI1V,IAAC4C,KAAUxE,SAAW4B,EAAE5B,WAGtD+W,QAAQtB,eACSmB,OAAQC,OAAQC,GAAG7M,MAAM,EAAGwL,GAAK,GAGlDsB,mBACeJ,EAAMnS,KAAMoS,EAACpS,KAAOqS,EAACrS,KAAOsS,GAG3CC,kBACeJ,EAAOD,KAAKsB,KAAIxT,KAAMoS,GAAIF,KAAKsB,KAAIxT,KAAMqS,GAAIH,KAAKsB,KAAIxT,KAAMsS,IAG3EC,mBACeJ,EAAOD,KAAK/S,MAAKa,KAAMoS,GAAIF,KAAK/S,MAAKa,KAAMqS,GAAIH,KAAK/S,MAAKa,KAAMsS,IAG9EC,mBACeJ,EAAOD,KAAK5V,MAAK0D,KAAMoS,GAAIF,KAAK5V,MAAK0D,KAAMqS,GAAIH,KAAK5V,MAAK0D,KAAMsS,KCxIhEJ,KAAKuB,YACPC,GAAMxB,KACTyB,EAAgB,EAAVzB,KAAKuB,QACTG,GAAQ1B,UACR2B,GAAQ3B,UACR4B,GAAQ5B,UACR6B,GAAQ7B,UACR8B,GAAQ9B,YACR+B,GAAU/B,YACVgC,GAAUhC,KAyCZiC,EAAK,CAAI3X,EAAM,EAAGE,EAAM,EAAGU,IAAM8U,KAAK1V,IAAIE,EAAKwV,KAAKxV,IAAIF,EAAKY,IAE7DgX,EAAU,CAAIC,EAAMpD,IAAMiB,KAAK/S,MAAM8R,EAAIoD,GAAQA,EAEjDC,EAAU,CAAIC,EAAOC,IAAQtC,KAAK5V,MAAMkY,GAAOD,EAAQ,MAQvDE,EAAQ,CAAIC,EAAWtB,KAAWlB,KAAK5V,MAAM8W,GAASsB,EAAYxC,KAAKuB,KAAOiB,GAAaA,EAE3FC,EAAUH,GAAQtC,KAAK5V,MAA+B,KAAxBkY,EAAMI,OAAOC,UAAkB,IAE7DC,EAAc,CAAIC,EAAMP,IAAQtC,KAAK5V,MAAMkY,EAAMO,GAAQA,EAazDC,EAAgB,CAAIxY,EAAKE,EAAK8U,IAAQ,EAD7B,EAAIhV,EAAKE,EAAK8U,KAASA,EAAMhV,IAAQE,EAAMF,GACVyY,CAAUzY,EAAKE,EAAK8U,GAK9D0D,EAAI,CAAI9C,EAAGC,EAAGjV,IAAMgV,GAAK,EAAIhV,GAAKiV,EAAIjV,EAMtC+X,EAAQ,CAAIC,EAAIC,EAAIC,EAAIC,EAAInY,IAAM8X,EAAKI,EAAIC,EAHpC,EAAInD,EAAGC,EAAGjV,IAAM+W,EAAM,EAAG,GAAI/W,EAAIgV,IAAMC,EAAID,IAGHoD,CAAQJ,EAAIC,EAAIjY,IAuB/DqY,EAAerY,GAAC,IAAS+U,EAAOD,KAAKwD,IAAItY,GAAI8U,KAAKyD,IAAIvY,IAMtDwY,EAAoBC,GAASA,EAAM3D,KAAKuB,GAAM,eC7HvDqC,EAAQ,IAGRC,EAAI,GACJC,OAAsB,IAANC,EAAyBhE,OAASgE,EAKlDC,EAAahE,KAAKtO,IAAIkS,EARb,GASTK,EAAejE,KAAKtO,IAAI,EARf,IASTwS,EAA0B,EAAfD,EACXE,EAAOP,IAGPQ,EAAYpE,KAAKtV,OAgEF,SACV2Z,EAAKC,OACRjX,EAAGkX,EAASD,EAAIhb,OAChBkb,EAAE1W,KAASzE,EAAI,EAAGob,EAAID,EAAGnb,EAAImb,EAAGC,EAAI,EAAGtZ,EAAIqZ,EAAGE,EAAC,OAG9CH,IAAUD,EAAG,CAAIC,MAGflb,EAAIua,GACTzY,EAAE9B,GAAKA,QAEJA,EAAI,EAAGA,EAAIua,EAAOva,IACrB8B,EAAE9B,GAAK8B,EAAEsZ,EAAIN,EAAQM,EAAIH,EAAIjb,EAAIkb,IAAWlX,EAAIlC,EAAE9B,KAClD8B,EAAEsZ,GAAKpX,GAIRmX,EAAGxZ,EAAC,SAAY2Z,WAEXC,EAAG7Z,EAAI,EACP8Z,EAAIL,EAAGnb,EAAGyb,EAAIN,EAAGC,EAAGM,EAAIP,EAAGE,EACxBC,KACLC,EAAIG,EAAEF,EAAIV,EAAQU,EAAI,GACtB9Z,EAAIA,EAAI6Y,EAAQmB,EAAEZ,GAASY,EAAEF,GAAKE,EAAED,EAAIX,EAAQW,EAAIF,KAAQG,EAAED,GAAKF,WAErEJ,EAAGnb,EAAIwb,EAAGL,EAAGC,EAAIK,EACV/Z,IAGN6Y,YAOIoB,EAAQC,EAAKC,OACoBC,EAApCC,EAAM,GAAOC,UAAcJ,GAAK,MAChCC,GAAY,KAAHG,MACNF,KAAQF,EAAG,IACRG,EAAO1U,KAAKsU,EAAQC,EAAIE,GAAOD,EAAQ,UAAcI,WAGvDF,EAAO9b,OAAS8b,EAAY,KAAHC,EAAaJ,EAAMA,EAAG,cAQhDM,EAAOC,EAAMlB,WACQmB,EAAxBC,EAAaF,EAAI,GAAcf,EAAI,EAChCA,EAAIiB,EAAWpc,QACpBgb,EAAIH,EAAOM,GACTN,GAASsB,GAAyB,GAAhBnB,EAAIH,EAAOM,IAAWiB,EAAWC,WAAWlB,YAE3DmB,EAAStB,GAOc,SACvBuB,EAASL,cAEd1B,EAAOgC,OAAOC,gBAAgBP,EAAI,IAAOQ,WAAWpC,IAC7CgC,EAASJ,SACTF,eACMW,KAAMnC,EAAQA,EAAOoC,WAAapC,EAAOoC,UAAUC,QACxDrC,EAAOsC,OAAQR,EAAS/B,cAQ3B+B,EAAS1a,UACT4B,OAAOuZ,aAAahT,MAAM,EAAGnI,IA3ItCob,EAAc,SAAYd,EAAMe,MAC1BA,IAA8B,IAAnBA,EAAQC,cACrBD,EAAQC,QAAS,EACjBxG,KAAKtV,OAAS4b,EAAed,EAAMe,GACnCA,EAAQC,QAAS,EACVxG,KAAKtV,WAEV+b,EAAeF,GAAWA,EAAQG,UAAY,EAC9CpC,EAAG,GAQHqC,GALYpB,EAAOP,EACrByB,EAAW,CAAIjB,EAAMI,EAAS/B,IAC9B,KAAKpQ,UAAY+R,EAAOK,IAAY,GAAIvB,GAGlC,IAAOD,EAAKC,WAGpBiB,EAAOK,EAASe,EAAKjC,GAAIb,sBAQnB9E,EAAI4H,EAAK3b,EA/CJ,GAgDL0D,EAAIsV,EACJ9D,EAAI,EACDnB,EAAIkF,GACTlF,GAAKA,EAAImB,GAAK0D,EACdlV,GAAKkV,EACL1D,EAAIyG,EAAK3b,EAAE,QAEN+T,GAAKmF,GACVnF,GAAK,EACLrQ,GAAK,EACLwR,KAAO,SAEDnB,EAAImB,GAAKxR,KAINkY,YAAW,WACxB5G,KAAKtV,OAAS0Z,GAwGhBmB,EAAOvF,KAAKtV,SAAUmZ,aChJnB,eAIGgD,EAAK,IAAO7G,KAAKW,KAAK,GAAO,GAC7BmG,GAAM,EAAM9G,KAAKW,KAAK,IAAQ,EAE9BoG,EAAK,EAAM,EACXC,GAAMhH,KAAKW,KAAK,GAAO,GAAO,EAC9BsG,GAAM,EAAMjH,KAAKW,KAAK,IAAQ,YAEzBuG,EAAaC,OAChBzc,EAEFA,EADqB,mBAAZyc,EACAA,EAEFA,iBA+WLC,EAAK,EACLrC,EAAK,EACLsC,EAAK,EACL9H,EAAI,EAEJ+H,EAAOC,IACXH,EAAKE,EAAI,KACTvC,EAAKuC,EAAI,KACTD,EAAKC,EAAI,aAEAje,EAAI,EAAGA,EAAIoK,UAAUnK,OAAQD,KACpC+d,GAAME,EAAK7T,UAAUpK,KACZ,IACP+d,GAAM,IAERrC,GAAMuC,EAAK7T,UAAUpK,KACZ,IACP0b,GAAM,IAERsC,GAAMC,EAAK7T,UAAUpK,KACZ,IACPge,GAAM,UAGVC,EAAO,oBAEDja,EAAI,QAAU+Z,EAAS,uBAAJ7H,SACvB6H,EAAKrC,EACLA,EAAKsC,EACEA,EAAKha,GAAKkS,EAAQ,EAAJlS,IA3YZma,CAAKL,GAELnH,KAAKtV,YAEXyC,EAAIsa,EAAsB/c,QAC1Bgd,KAAI,IAAO1B,WAAW,UACtB2B,UAAS,IAAO3B,WAAW,aACvB3c,EAAI,EAAGA,EAAI,IAAKA,SAClBqe,KAAKre,GAACyE,KAASX,EAAM,IAAJ9D,QACjBse,UAAUte,GAACyE,KAAS4Z,KAAKre,GAAK,YAmV9Boe,EAAsB/c,OACzBrB,EACA8D,EAAC,IAAO6Y,WAAW,SAClB3c,EAAI,EAAGA,EAAI,IAAKA,IACnB8D,EAAE9D,GAAKA,MAEJA,EAAI,EAAGA,EAAI,IAAKA,IAAC,KAChB0B,EAAI1B,KAAOqB,KAAY,IAAMrB,IAC7Bue,EAAMza,EAAE9D,GACZ8D,EAAE9D,GAAK8D,EAAEpC,GACToC,EAAEpC,GAAK6c,SAEFza,WAsCAoa,QACHxI,EAAI,2BACQ8I,GACdA,EAAOA,EAAK7Y,mBACH3F,EAAI,EAAGA,EAAIwe,EAAKve,OAAQD,IAAC,KAE5B4C,EAAI,oBADR8S,GAAK8I,EAAKlC,WAAWtc,IAGrB4C,GADA8S,EAAI9S,IAAM,EAGV8S,GADA9S,GAAK8S,KACK,EAEVA,GAAS,YADT9S,GAAK8S,UAGY,wBAAXA,IAAM,IA/YlBmI,EAAapW,UAAS,CACpBgX,MAAK,IAAMC,aAAY,CAAE,EAAG,EAAG,GAC7B,EAAI,EAAG,EACP,GAAG,EAAI,GAEP,GAAI,EAAI,EACR,EAAG,EAAG,GACN,EAAI,EAAG,EAEP,EAAG,GAAG,GACN,EAAI,GAAG,EACP,EAAG,EAAG,EAEN,GAAG,EAAI,EACP,EAAG,GAAG,EACN,GAAG,GAAI,IACTC,MAAK,IAAMD,aAAY,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG,EAAI,EAAG,GAAG,EAAI,EAAG,EAAG,GAAG,GAAI,EACvE,GAAG,EAAI,EAAG,EAAG,GAAG,EAAI,GAAG,EAAI,GAAG,GAAI,EAAI,EAAG,GAAG,GAAI,GAAI,EACpD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG,EAAI,EAAG,GAAG,EAAI,EAAG,EAAG,GAAG,GAAI,GAChD,EAAI,EAAG,EAAG,GAAG,EAAI,EAAG,GAAG,GAAI,EAAI,GAAG,EAAI,GAAG,EAAI,GAAG,GAAI,EACpD,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG,EAAI,GAAG,EAAI,EAAG,EAAG,GAAG,EAAI,GAAG,GAChD,EAAI,EAAG,EAAG,GAAG,EAAI,EAAG,GAAG,GAAI,GAAI,EAAI,EAAG,GAAG,GAAI,EAAI,GAAG,EACpD,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG,EAAI,EAAG,GAAG,EAAI,EAAG,EAAG,GAAG,GAAI,EAAI,GACjD,EAAI,EAAG,EAAG,GAAG,EAAI,GAAG,EAAI,GAAG,GAAI,EAAI,EAAG,GAAG,GAAI,GAAI,EAAI,IACvDE,QAAO,SAAWC,EAAKC,OAkBjBtD,EAAIC,EAjBJ6C,EAAS7Z,KAAQ6Z,UACjBD,EAAI5Z,KAAQ4Z,KACZI,EAAKha,KAAQga,MACbM,EAAK,EACLC,EAAK,EACLC,EAAK,EAELnd,GAAK+c,EAAMC,GAAOtB,EAClBxd,EAAI2W,KAAK/S,MAAMib,EAAM/c,GACrBsZ,EAAIzE,KAAK/S,MAAMkb,EAAMhd,GACrBkC,GAAKhE,EAAIob,GAAKqC,EAGdyB,EAAKL,GAFA7e,EAAIgE,GAGTmb,EAAKL,GAFA1D,EAAIpX,GAMTkb,EAAKC,GACP3D,EAAK,EACLC,EAAK,IAGLD,EAAK,EACLC,EAAK,OAKH5B,EAAKqF,EAAK1D,EAAKiC,EACf3D,EAAKqF,EAAK1D,EAAKgC,EACf1D,EAAKmF,EAAK,EAAM,EAAMzB,EACtBzD,EAAKmF,EAAK,EAAM,EAAM1B,EAEtB2B,EAAS,IAAJpf,EACLqf,EAAS,IAAJjE,EAELkE,EAAK,GAAMJ,EAAKA,EAAKC,EAAKA,KAC1BG,GAAM,EAAC,KACLC,EAAiC,EAA3BjB,EAAUc,EAAKf,EAAKgB,IAE9BN,GADAO,GAAMA,GACIA,GAAMb,EAAMc,GAAOL,EAAKT,EAAMc,EAAM,GAAKJ,OAEjD5D,EAAK,GAAM1B,EAAKA,EAAKC,EAAKA,KAC1ByB,GAAM,EAAC,KACLiE,EAA2C,EAArClB,EAAUc,EAAK5D,EAAK6C,EAAKgB,EAAK5D,IAExCuD,GADAzD,GAAMA,GACIA,GAAMkD,EAAMe,GAAO3F,EAAK4E,EAAMe,EAAM,GAAK1F,OAEjD2F,EAAK,GAAM1F,EAAKA,EAAKC,EAAKA,KAC1ByF,GAAM,EAAC,KACLC,EAAyC,EAAnCpB,EAAUc,EAAK,EAAIf,EAAKgB,EAAK,IAEvCJ,GADAQ,GAAMA,GACIA,GAAMhB,EAAMiB,GAAO3F,EAAK0E,EAAMiB,EAAM,GAAK1F,UAI9C,IAAQ+E,EAAKC,EAAKC,IAG3BU,QAAO,SAAWd,EAAKC,EAAKc,OAItBb,EAAIC,EAAIC,EAAIY,EAeZrE,EAAIC,EAAIqE,EACRC,EAAIC,EAAIC,EAnBR3B,EAAS7Z,KAAQ6Z,UACjBD,EAAI5Z,KAAQ4Z,KACZI,EAAKha,KAAQga,MAGb3c,EAnHC,mBAmHI+c,EAAMC,EAAMc,GACjB5f,EAAI2W,KAAK/S,MAAMib,EAAM/c,GACrBsZ,EAAIzE,KAAK/S,MAAMkb,EAAMhd,GACrBoe,EAAIvJ,KAAK/S,MAAMgc,EAAM9d,GACrBkC,GAAKhE,EAAIob,EAAI8E,GAAKxC,EAIlBwB,EAAKL,GAHA7e,EAAIgE,GAITmb,EAAKL,GAHA1D,EAAIpX,GAITmc,EAAKP,GAHAM,EAAIlc,GAQTkb,GAAMC,EACJA,GAAMgB,GACR3E,EAAK,EACLC,EAAK,EACLqE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,GAEEf,GAAMiB,GACb3E,EAAK,EACLC,EAAK,EACLqE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,IAGLzE,EAAK,EACLC,EAAK,EACLqE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,GAIHd,EAAKgB,GACP3E,EAAK,EACLC,EAAK,EACLqE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,GAEEf,EAAKiB,GACZ3E,EAAK,EACLC,EAAK,EACLqE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,IAGLzE,EAAK,EACLC,EAAK,EACLqE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,OAOLpG,EAAKqF,EAAK1D,EAAKkC,EACf5D,EAAKqF,EAAK1D,EAAKiC,EACf0C,EAAKD,EAAKL,EAAKpC,EACf3D,EAAKmF,EAAKa,EAAK,EAAMrC,EACrB1D,EAAKmF,EAAKa,EAAK,EAAMtC,EACrB2C,EAAKF,EAAKF,EAAK,EAAMvC,EACrB4C,EAAKpB,EAAK,EAAM,GAChBqB,EAAKpB,EAAK,EAAM,GAChBqB,EAAKL,EAAK,EAAM,GAEhBf,EAAS,IAAJpf,EACLqf,EAAS,IAAJjE,EACLqF,EAAS,IAAJP,EAELZ,EAAK,GAAMJ,EAAKA,EAAKC,EAAKA,EAAKgB,EAAKA,KACpCb,EAAK,EAAGP,EAAK,WAEXQ,EAA4C,EAAtCjB,EAAUc,EAAKf,EAAKgB,EAAKhB,EAAKoC,KAExC1B,GADAO,GAAMA,GACIA,GAAMb,EAAMc,GAAOL,EAAKT,EAAMc,EAAM,GAAKJ,EAAKV,EAAMc,EAAM,GAAKY,OAEvE5E,EAAK,GAAM1B,EAAKA,EAAKC,EAAKA,EAAKsG,EAAKA,KACpC7E,EAAK,EAAGyD,EAAK,WAEXQ,EAA2D,EAArDlB,EAAUc,EAAK5D,EAAK6C,EAAKgB,EAAK5D,EAAK4C,EAAKoC,EAAKX,KAEvDd,GADAzD,GAAMA,GACIA,GAAMkD,EAAMe,GAAO3F,EAAK4E,EAAMe,EAAM,GAAK1F,EAAK2E,EAAMe,EAAM,GAAKY,OAEvEX,EAAK,GAAM1F,EAAKA,EAAKC,EAAKA,EAAKqG,EAAKA,KACpCZ,EAAK,EAAGR,EAAK,WAEXS,EAA2D,EAArDpB,EAAUc,EAAKW,EAAK1B,EAAKgB,EAAKW,EAAK3B,EAAKoC,EAAKR,KAEvDhB,GADAQ,GAAMA,GACIA,GAAMhB,EAAMiB,GAAO3F,EAAK0E,EAAMiB,EAAM,GAAK1F,EAAKyE,EAAMiB,EAAM,GAAKW,OAEvEK,EAAK,GAAMJ,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,KACpCE,EAAK,EAAGb,EAAK,WAEXc,EAAwD,EAAlDrC,EAAUc,EAAK,EAAIf,EAAKgB,EAAK,EAAIhB,EAAKoC,EAAK,KAErDZ,GADAa,GAAMA,GACIA,GAAMjC,EAAMkC,GAAOL,EAAK7B,EAAMkC,EAAM,GAAKJ,EAAK9B,EAAMkC,EAAM,GAAKH,UAIpE,IAAQzB,EAAKC,EAAKC,EAAKY,IAGhCe,QAAO,SAAW/J,EAAGC,EAAGC,EAAG8J,OAIrB9B,EAAIC,EAAIC,EAAIY,EAAIiB,EAqChBtF,EAAIC,EAAIqE,EAAIiB,EACZhB,EAAIC,EAAIC,EAAIe,EACZC,EAAIC,EAAIC,EAAIC,EA1CZ/C,EAAI5Z,KAAQ4Z,KACZM,EAAKla,KAAQka,MAIb7c,GAAK+U,EAAIC,EAAIC,EAAI8J,GAAKlD,EACtB3d,EAAI2W,KAAK/S,MAAMiT,EAAI/U,GACnBsZ,EAAIzE,KAAK/S,MAAMkT,EAAIhV,GACnBoe,EAAIvJ,KAAK/S,MAAMmT,EAAIjV,GACnBE,EAAI2U,KAAK/S,MAAMid,EAAI/e,GACnBkC,GAAKhE,EAAIob,EAAI8E,EAAIle,GAAK4b,EAKtBsB,EAAKrI,GAJA7W,EAAIgE,GAKTmb,EAAKrI,GAJAsE,EAAIpX,GAKTmc,EAAKpJ,GAJAmJ,EAAIlc,GAKTqd,EAAKR,GAJA7e,EAAIgC,GAUTsd,EAAQ,EACRC,EAAQ,EACRC,EAAQ,EACRC,EAAQ,EACRvC,EAAKC,EAAImC,IACRC,IACDrC,EAAKiB,EAAImB,IACRE,IACDtC,EAAKmC,EAAIC,IACRG,IACDtC,EAAKgB,EAAIoB,IACRC,IACDrC,EAAKkC,EAAIE,IACRE,IACDtB,EAAKkB,EAAIG,IACRC,QAwBD5H,EAAKqF,GAfT1D,EAAK8F,GAAS,EAAI,EAAI,GAeH1D,EACf9D,EAAKqF,GAfT1D,EAAK8F,GAAS,EAAI,EAAI,GAeH3D,EACfwC,EAAKD,GAfTL,EAAK0B,GAAS,EAAI,EAAI,GAeH5D,EACf8D,EAAKL,GAfTN,EAAKU,GAAS,EAAI,EAAI,GAeH7D,EACf7D,EAAKmF,GAdTa,EAAKuB,GAAS,EAAI,EAAI,GAcH,EAAM1D,EACrB5D,EAAKmF,GAdTa,EAAKuB,GAAS,EAAI,EAAI,GAcH,EAAM3D,EACrByC,EAAKF,GAdTF,EAAKuB,GAAS,EAAI,EAAI,GAcH,EAAM5D,EACrB+D,EAAKN,GAdTL,EAAKS,GAAS,EAAI,EAAI,GAcH,EAAM7D,EACrB0C,EAAKpB,GAbT+B,EAAKK,GAAS,EAAI,EAAI,GAaH,EAAM1D,EACrB2C,EAAKpB,GAbT+B,EAAKK,GAAS,EAAI,EAAI,GAaH,EAAM3D,EACrB4C,EAAKL,GAbTgB,EAAKK,GAAS,EAAI,EAAI,GAaH,EAAM5D,EACrBgE,EAAKP,GAbTD,EAAKK,GAAS,EAAI,EAAI,GAaH,EAAM7D,EACrBiE,EAAK3C,EAAK,EAAM,EAAMtB,EACtBkE,EAAK3C,EAAK,EAAM,EAAMvB,EACtBmE,EAAK5B,EAAK,EAAM,EAAMvC,EACtBoE,GAAKX,EAAK,EAAM,EAAMzD,EAEtBwB,GAAS,IAAJpf,EACLqf,GAAS,IAAJjE,EACLqF,GAAS,IAAJP,EACL+B,GAAS,IAAJjgB,EAELsd,GAAK,GAAMJ,EAAKA,EAAKC,EAAKA,EAAKgB,EAAKA,EAAKkB,EAAKA,KAC9C/B,GAAK,EAAGP,EAAK,WAEXQ,GAAOlB,EAAKe,GAAKf,EAAKgB,GAAKhB,EAAKoC,GAAKpC,EAAK4D,OAAS,GAAM,EAE7DlD,GADAO,IAAMA,IACIA,IAAMX,EAAMY,IAAOL,EAAKP,EAAMY,GAAM,GAAKJ,EAAKR,EAAMY,GAAM,GAAKY,EAAKxB,EAAMY,GAAM,GAAK8B,OAE7F9F,GAAK,GAAM1B,EAAKA,EAAKC,EAAKA,EAAKsG,EAAKA,EAAKsB,EAAKA,KAC9CnG,GAAK,EAAGyD,EAAK,WAEXQ,GAAOnB,EAAKe,GAAK5D,EAAK6C,EAAKgB,GAAK5D,EAAK4C,EAAKoC,GAAKX,EAAKzB,EAAK4D,GAAKlB,MAAS,GAAM,EAEjF/B,GADAzD,IAAMA,IACIA,IAAMoD,EAAMa,IAAO3F,EAAK8E,EAAMa,GAAM,GAAK1F,EAAK6E,EAAMa,GAAM,GAAKY,EAAKzB,EAAMa,GAAM,GAAKkC,OAE7FjC,GAAK,GAAM1F,EAAKA,EAAKC,EAAKA,EAAKqG,EAAKA,EAAKsB,EAAKA,KAC9ClC,GAAK,EAAGR,EAAK,WAEXS,GAAOrB,EAAKe,GAAKW,EAAK1B,EAAKgB,GAAKW,EAAK3B,EAAKoC,GAAKR,EAAK5B,EAAK4D,GAAKjB,MAAS,GAAM,EAEjF/B,GADAQ,IAAMA,IACIA,IAAMd,EAAMe,IAAO3F,EAAK4E,EAAMe,GAAM,GAAK1F,EAAK2E,EAAMe,GAAM,GAAKW,EAAK1B,EAAMe,GAAM,GAAKiC,OAE7FjB,GAAK,GAAMJ,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAAKoB,EAAKA,KAC9ClB,GAAK,EAAGb,EAAK,WAEXc,GAAOtC,EAAKe,GAAK6B,EAAK5C,EAAKgB,GAAK6B,EAAK7C,EAAKoC,GAAKU,EAAK9C,EAAK4D,GAAKb,MAAS,GAAM,EAEjFvB,GADAa,IAAMA,IACIA,IAAM/B,EAAMgC,IAAOL,EAAK3B,EAAMgC,GAAM,GAAKJ,EAAK5B,EAAMgC,GAAM,GAAKH,EAAK7B,EAAMgC,GAAM,GAAKiB,OAE7FM,GAAK,GAAML,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAAKC,GAAKA,MAC9CE,GAAK,EAAGpB,EAAK,WAEXqB,GAAO9D,EAAKe,GAAK,EAAIf,EAAKgB,GAAK,EAAIhB,EAAKoC,GAAK,EAAIpC,EAAK4D,GAAK,MAAQ,GAAM,EAE7EnB,GADAoB,IAAMA,IACIA,IAAMvD,EAAMwD,IAAON,EAAKlD,EAAMwD,GAAM,GAAKL,EAAKnD,EAAMwD,GAAM,GAAKJ,EAAKpD,EAAMwD,GAAM,GAAKH,WAG1F,IAAQjD,EAAKC,EAAKC,EAAKY,EAAKiB,KAkBvCjD,EAAauE,uBAAyBhE,EAuDrB,oBAAN5H,QAA0BA,OAAOC,KAAKD,QAAM,kBAAoBqH,UAEzD,IAAPwE,EAAyBA,EAAQxE,aAAeA,EAErC,oBAANnH,SAAwBA,OAAOmH,aAAeA,GAG5DwE,EAAiBxE,EAzblB,SC5BHyE,EAAc,mBACDtiB,EAAI,EAAGA,EAAIoK,UAAUnK,OAAQD,YACbuiB,IAAjBnY,UAAUpK,GAAgB,OAASoK,UAAUpK,ICCzDwiB,ECoUAC,WAnUSC,EAAcC,GACrBA,EAAcL,EAAQK,EAAa,UAE/BC,EACAC,EACAC,EAHAC,EAAgBpM,KAAKtV,OAIrB2hB,EAAgB,KAChBC,GAAmB,WAoCdC,EAAS/G,EAAMgH,GACP,iBAAJhH,GAAgC,iBAAJA,EAErC0G,EAAgB5F,EADhB2F,EAAczG,EAC0BgH,IAExCP,OAAcL,EACdM,EAAgBE,GAElBD,EAAiBM,IACjBJ,EAAgB,KAChBC,GAAmB,WAGZ1a,WACAsa,aAkBAO,eACIf,EAAaQ,YAsDjBQ,WACA9a,IAAU,YASV+a,EAAOriB,EAAKE,WACPohB,IAARphB,IACFA,EAAMF,EACNA,EAAM,GAGM,iBAAHA,GAA8B,iBAAHE,YAC1BoiB,UAAS,+CAGdhb,KAAWpH,EAAMF,GAAOA,WAGxBuiB,EAAYviB,EAAKE,WACZohB,IAARphB,IACFA,EAAMF,EACNA,EAAM,GAGM,iBAAHA,GAA8B,iBAAHE,YAC1BoiB,UAAS,+CAGd5M,KAAK/S,MAAM0f,EAAMriB,EAAKE,aA0BtBsiB,EAAUC,EAAQtY,GACzBsY,EAASpB,EAAQoB,EAAQ,GACzBtY,EAAMA,GAAG,OACLyM,EAAkB,EAAVtP,IAAgBoO,KAAKuB,UACjC9M,EAAI,GAAKsY,EAAS/M,KAAKwD,IAAItC,GAC3BzM,EAAI,GAAKsY,EAAS/M,KAAKyD,IAAIvC,GACpBzM,WAuEAuY,EAAkBC,UAEN,KADnBA,EAAMA,GAAG,IACD3jB,QAAqB,EACtB4jB,EAASD,EAAIE,KAAG,SAAWhiB,UACzBA,EAAEiiB,oBAIJF,EAAUG,MAEM,KADvBA,EAAUA,GAAO,IACL/jB,OAAY,OAAS,MAE7BD,EADAikB,EAAc,MAGbjkB,EAAI,EAAGA,EAAIgkB,EAAQ/jB,OAAQD,IAC9BikB,GAAeD,EAAQhkB,MAGrBikB,GAAe,EAAC,MAAA,IAAY5jB,MAAK,+BAEjCgB,EAASkH,IAAU0b,MAClBjkB,EAAI,EAAGA,EAAIgkB,EAAQ/jB,OAAQD,IAAC,IAC3BqB,EAAS2iB,EAAQhkB,UACZA,EAETqB,GAAU2iB,EAAQhkB,UAEb,SA5RTkjB,EAAQP,IAGNpa,MAAOA,EACP2b,aAAY,SAAYC,UACfzB,EAAayB,IAEtBjB,QAASA,EACTkB,0BAkDOxB,GAjDPyB,gCAqDW5gB,OAAOkT,KAAK/S,MAAsB,IAAhB+S,KAAKtV,YApDlCijB,gCA0CIC,EAAI,EACK,IAANA,GAASA,EAAIhc,WACbgc,GA3CPC,wBA4DA1B,EAAiBM,KA3DjBqB,iBA8DgB5N,EAAG6N,EAAWC,OACzBC,SAAS/N,GAAC,MAAA,IAAa0M,UAAS,iDACrCmB,EAAYpC,EAAQoC,EAAW,IAC/BC,EAAYrC,EAAQqC,EAAW,IACZ7B,EAAelE,QAAQ/H,EAAI6N,EAAW,IAjEzD9F,iBAoEgB/H,EAAGC,EAAG4N,EAAWC,OAC5BC,SAAS/N,GAAC,MAAA,IAAa0M,UAAS,8CAChCqB,SAAS9N,GAAC,MAAA,IAAayM,UAAS,iDACrCmB,EAAYpC,EAAQoC,EAAW,IAC/BC,EAAYrC,EAAQqC,EAAW,IACZ7B,EAAelE,QAAQ/H,EAAI6N,EAAW5N,EAAI4N,IAxE7D/E,iBA2EgB9I,EAAGC,EAAGC,EAAG2N,EAAWC,OAC/BC,SAAS/N,GAAC,MAAA,IAAa0M,UAAS,8CAChCqB,SAAS9N,GAAC,MAAA,IAAayM,UAAS,8CAChCqB,SAAS7N,GAAC,MAAA,IAAawM,UAAS,iDACrCmB,EAAYpC,EAAQoC,EAAW,IAC/BC,EAAYrC,EAAQqC,EAAW,IACZ7B,EAAenD,QAChC9I,EAAI6N,EACJ5N,EAAI4N,EACJ3N,EAAI2N,IAnFN9D,iBAuFgB/J,EAAGC,EAAGC,EAAG8J,EAAG6D,EAAWC,OAClCC,SAAS/N,GAAC,MAAA,IAAa0M,UAAS,8CAChCqB,SAAS9N,GAAC,MAAA,IAAayM,UAAS,8CAChCqB,SAAS7N,GAAC,MAAA,IAAawM,UAAS,8CAChCqB,SAAS/D,GAAC,MAAA,IAAa0C,UAAS,iDACrCmB,EAAYpC,EAAQoC,EAAW,IAC/BC,EAAYrC,EAAQqC,EAAW,IACZ7B,EAAelC,QAChC/J,EAAI6N,EACJ5N,EAAI4N,EACJ3N,EAAI2N,EACJ7D,EAAI6D,IAjGNG,uBAsGOxB,IAAY,GAAI,GArGvBA,QAASA,EACTyB,gBA2GepP,MAEH,iBADZA,EAAI4M,EAAQ5M,EAAG,KACU,MAAA,IAAY6N,UAAS,oCACvChb,IAAUmN,GA7GjB4N,MAAOA,EACPE,WAAYA,EACZuB,cAwIaC,MACQ,IAAjBA,EAAM/kB,cACH+kB,EAAMxB,EAAW,EAAGwB,EAAM/kB,UAzIjCglB,iBA4IgBC,OACXC,MAAMC,QAAQF,aACP3B,UAAS,8BAAiC2B,WAGlDG,EACAC,EACAC,EAAML,EAAIjlB,OACVmH,EAAM8d,EAAIhb,QACPqb,GACLF,EAAO1O,KAAK/S,MAAM2E,IAAUgd,KAC5BD,EAAMle,EAAIme,GACVne,EAAIme,GAAOne,EAAIie,GACfje,EAAIie,GAAQC,SAEPle,GA1JPqc,SAAUA,EACV+B,sBAqKqB9B,EAAQtY,GAC7BsY,EAASpB,EAAQoB,EAAQ,GAEzBD,EAAS,EADTrY,EAAMA,GAAG,QAEL1J,EAAIgiB,EAAS/M,KAAKW,KAAK/O,YAC3B6C,EAAI,IAAM1J,EACV0J,EAAI,IAAM1J,EACH0J,GA3KPqa,kBA8KiB/B,EAAQtY,GACzBsY,EAASpB,EAAQoB,EAAQ,GACzBtY,EAAMA,GAAG,OACLmZ,EAAIhc,IAAUoO,KAAKuB,GAAK,EACxBnW,EAAc,EAAVwG,IAAc,EAClBuP,EAAMyM,EACN1M,EAAQlB,KAAKqB,KAAKjW,UACtBqJ,EAAI,GAAKsY,EAAS/M,KAAKyD,IAAIvC,GAASlB,KAAKwD,IAAIrC,GAC7C1M,EAAI,GAAKsY,EAAS/M,KAAKyD,IAAIvC,GAASlB,KAAKyD,IAAItC,GAC7C1M,EAAI,GAAKsY,EAAS/M,KAAKwD,IAAItC,GACpBzM,GAvLPsa,sBA0LqBhC,EAAQtY,GAC7BsY,EAASpB,EAAQoB,EAAQ,GACzBtY,EAAMA,GAAG,OACLmZ,EAAIhc,IAAUoO,KAAKuB,GAAK,EACxBnW,EAAc,EAAVwG,IAAc,EAClB2X,EAAI3X,IAEJuP,EAAMyM,EACN1M,EAAQlB,KAAKqB,KAAKjW,GAClBL,EAAIgiB,EAAS/M,KAAKgP,KAAKzF,UAC3B9U,EAAI,GAAK1J,EAAIiV,KAAKyD,IAAIvC,GAASlB,KAAKwD,IAAIrC,GACxC1M,EAAI,GAAK1J,EAAIiV,KAAKyD,IAAIvC,GAASlB,KAAKyD,IAAItC,GACxC1M,EAAI,GAAK1J,EAAIiV,KAAKwD,IAAItC,GACfzM,GAtMPwa,oBAyMmBxa,GACnBA,EAAMA,GAAG,OACLya,EAAKtd,IACLud,EAAKvd,IACLwd,EAAKxd,IAELyd,EAAMrP,KAAKW,KAAK,EAAIuO,GACpBI,EAAMtP,KAAKW,KAAKuO,GAEhBK,EAAmB,EAAVvP,KAAKuB,GAAS4N,EACvBK,EAAmB,EAAVxP,KAAKuB,GAAS6N,EAEvBlP,EAAIF,KAAKyD,IAAI8L,GAAUF,EACvBlP,EAAIH,KAAKwD,IAAI+L,GAAUF,EACvBjP,EAAIJ,KAAKyD,IAAI+L,GAAUF,EACvBpF,EAAIlK,KAAKwD,IAAIgM,GAAUF,SAC3B7a,EAAI,GAAKyL,EACTzL,EAAI,GAAK0L,EACT1L,EAAI,GAAK2L,EACT3L,EAAI,GAAKyV,EACFzV,GA5NPyY,SAAUA,EACVuC,qBA8NoBxC,UAED,KADnBA,EAAMA,GAAG,IACD3jB,OAAqB,KACtB2jB,EAAID,EAAiBC,IAAMrb,OAhOlCob,iBAAkBA,EAClB0C,kBAgQiBC,EAAMC,MACvBD,EAAOhE,EAAQgE,EAAM,GACrBC,EAAqBjE,EAAQiE,EAAoB,GAG7CtD,EAAgB,CAClBA,GAAmB,MACflH,EAASiH,SACbA,EAAgB,KACTsD,EAAOC,EAAqBxK,MAE/ByK,EAAK,EACLC,EAAK,EACL3kB,EAAI,KAINA,GAFA0kB,EAAe,EAAVje,IAAc,GAEVie,GADTC,EAAe,EAAVle,IAAc,GACAke,QACZ3kB,GAAK,GAAW,IAANA,OACf4kB,EAAa/P,KAAKW,MAAK,EAAKX,KAAKgQ,IAAI7kB,GAAKA,UAC9CkhB,EAAiByD,EAAKC,EACtBzD,GAAmB,EACZqD,EAAOC,GAAsBC,EAAKE,KAK9BhE,IDpURQ,QAAQV,EAAAC,GAAS4B,iBAC1BuC,QAAQD,IAAG,cAAenE,EAAAC,GAAS2B,mBAMtByC,EAAc,SACnBtC,EAAI,EACJxiB,EAAI,OACK,IAANwiB,GAASA,EAAI/B,EAAAC,GAASla,aAChB,IAANxG,GAASA,EAAIygB,EAAAC,GAASla,YACzB0Q,EAAMtC,KAAKW,MAAK,EAAOX,KAAKgQ,IAAIpC,IAAM5N,KAAKwD,IAAI,EAAMxD,KAAKuB,GAAKnW,UACnEkX,EAAMA,EAAM,GAAO,GACfA,EAAM,GAAKA,EAAM,EAAU4N,IACxB5N,GAuBE6N,EAAwB,CAAI7lB,EAAKE,IAAQwV,KAAK5V,MAAM8lB,KAAoB1lB,EAAMF,GAAOA,GACrF8lB,EAAmB,CAAI9lB,EAAKE,IAAQqhB,EAAAC,GAAS6B,gBAAkBnjB,EAAMF,GAAOA,EAC5E+lB,EAAkB,CAAI/lB,EAAKE,IAAQwV,KAAK/S,MAAM4e,EAAAC,GAASla,SAAWpH,EAAMF,GAAOA,GAM/EgmB,EAAU,IAA2C,IAAjCtQ,KAAK5V,MAAMyhB,EAAAC,GAASla,SAAiB,GAAI,EAC7D2e,EAAa,IAA0C,IAAjCvQ,KAAK5V,MAAMyhB,EAAAC,GAASla,SAG1C4e,EAASC,GAEXA,EADGJ,EAAmB,EAAGI,EAAKnnB,OAAS,IAGrConB,EAAuB,CAAI9B,EAAKtkB,EAAKE,IAC9CgkB,MAAMmC,KAAI,IAAKnC,MAAMI,IAAMzB,KAAG,IAAOiD,EAAoB9lB,EAAKE,KEtDrDomB,EAAK,CAAI1Q,EAAGC,KAAC,GAAQD,IAAGC,IASxB0Q,GAAgCJ,GAASA,EAAKtD,KAAKjiB,GALjC,CAAIA,GAAC,IAAS+U,EAAO/U,EAAE,GAAIA,EAAE,IAKU4lB,CAAmB5lB,KAC5E6lB,GAA2BN,GAASA,EAAKtD,KAAKjiB,IAAM8lB,MAL7B,EAAD5lB,EAKiDF,GALxCgV,EAAG9U,EAAE+U,GAAlB,IAAI/U,KAgCtB6lB,GAAa,CAAIC,EAAQC,WAC5BC,EAAKF,EAAOhR,EAAIiR,EAAOjR,EACvBmR,EAAKH,EAAO/Q,EAAIgR,EAAOhR,SACtBH,KAAKW,KAAKyQ,EAAKA,EAAKC,EAAKA,IAiCvBC,GAAc,CAAIC,EAAQC,EAAO,IAC1CD,EAAOE,QAAM,CAAEC,EAAKvmB,EAAG9B,MACT,IAANA,GAAWA,IAAMkoB,EAAOjoB,OAAS,GAE1BD,EAAImoB,GAAS,IADpBE,EAAIhhB,KAAKvF,GAINumB,QAGFC,GAA8BJ,GA3DX,CAAId,UAC1Bc,EAAM,WACHloB,EAAI,EAAGA,EAAIonB,EAAKnnB,OAAQD,GAAK,EAClCkoB,EAAO7gB,KAAI,CAAE+f,EAAKpnB,GAAIonB,EAAKpnB,EAAI,YAE5BkoB,GAsD2CK,CCpE3B,EAAIL,EAAQM,EAASC,EAAUC,SAKlDC,EAHJH,EAAwB,iBAAPA,EAAuBA,EAAU,GAClDC,EAAWA,GAAY,OAGnBzoB,EAAI,EACJgC,EAAIkmB,EAAOjoB,OACX2oB,EAAO,QACLC,GAAQ7mB,EAAI,GAAKymB,EAAW,GAAKC,EAAQ,EAAID,EAAW,MAE1DI,EAAO,EAAC,MAAA,SAINC,EAAG,IAAOpK,aAAamK,GACvBE,EAAK,IAAOrK,aAA8B,GAAhB+J,EAAW,QACvCO,EAAW,MAEfL,EAAMT,EAAOhe,MAAM,GAEfwe,GACAC,EAAIM,QAAQf,EAAOlmB,EAAI,IACvB2mB,EAAIM,QAAQf,EAAOlmB,EAAI,IACvB2mB,EAAIthB,KAAK6gB,EAAO,GAAIA,EAAO,MAE3BS,EAAIM,QAAQf,EAAO,IACnBS,EAAIM,QAAQf,EAAO,IACnBS,EAAIthB,KAAK6gB,EAAOlmB,EAAI,GAAIkmB,EAAOlmB,EAAI,KAIvC+mB,EAAM,GAAK,EAEJ/oB,EAAIyoB,EAAUzoB,IAAC,OACZkpB,EAAKlpB,EAAIyoB,EACTU,EAAMD,EAAKA,EACXE,EAAMD,EAAMD,EACZG,EAAa,EAAND,EACPE,EAAa,EAANH,EAEbJ,EAAMC,KAAcK,EAAOC,EAAO,EAClCP,EAAMC,KAAcM,EAAOD,EAC3BN,EAAMC,KAAcI,EAAM,EAAID,EAAMD,EACpCH,EAAMC,KAAcI,EAAMD,WAgBrB1oB,EAAM8oB,EAAKC,EAAOzI,WACP/c,EAAPwX,EAAI,EAAMA,EAAIuF,EAAGvF,GAAK,EAAC,OACtBiO,EAAMF,EAAI/N,GACVkO,EAAMH,EAAI/N,EAAI,GACdmO,EAAMJ,EAAI/N,EAAI,GACdoO,EAAML,EAAI/N,EAAI,GAEdqO,GAAOF,EAAMJ,EAAI/N,EAAI,IAAMgN,EAC3BsB,GAAOF,EAAML,EAAI/N,EAAI,IAAMgN,EAC3BuB,GAAOR,EAAI/N,EAAI,GAAKiO,GAAOjB,EAC3BwB,GAAOT,EAAI/N,EAAI,GAAKkO,GAAOlB,MAE5BxkB,EAAI,EAAGA,EAAIykB,EAAUzkB,IAAC,OACjBkS,EAAIlS,GAAK,EACT+G,EAAKye,EAAMtT,GACXlL,EAAKwe,EAAMtT,EAAI,GACf+T,EAAKT,EAAMtT,EAAI,GACfgU,EAAKV,EAAMtT,EAAI,GAErB4S,EAAIF,KAAU7d,EAAK0e,EAAMze,EAAK2e,EAAMM,EAAKJ,EAAMK,EAAKH,EACpDjB,EAAIF,KAAU7d,EAAK2e,EAAM1e,EAAK4e,EAAMK,EAAKH,EAAMI,EAAKF,WAjChEjB,IAAQC,GAAY,EAGpBvoB,EAAMkoB,EAAKI,EAAO/mB,GAEd0mB,IAEAC,EAAG,GACHA,EAAIthB,KAAK6gB,EAAOlmB,EAAI,GAAIkmB,EAAOlmB,EAAI,GAAIkmB,EAAOlmB,EAAI,GAAIkmB,EAAOlmB,EAAI,IACjE2mB,EAAIthB,KAAK6gB,EAAO,GAAIA,EAAO,GAAIA,EAAO,GAAIA,EAAO,IACjDznB,EAAMkoB,EAAKI,EAAO,IA6BtB/mB,EAAI0mB,EAAQ,EAAIR,EAAOjoB,OAAS,EAChC6oB,EAAIF,KAAUV,EAAOlmB,GACrB8mB,EAAIF,GAAQV,EAAOlmB,EAAI,GAEhB8mB,GDtB+DqB,CAAiCjC,EArElGE,QAAM,CAAEC,EAAKvkB,KACVA,IACAukB,EAAIhhB,KAAKvD,EAAE,IACXukB,EAAIhhB,KAAKvD,EAAE,KAGRukB,gBEZF+B,mCAQLC,EAAKxT,EACLgD,EAAC/C,EACDgD,EAACwQ,UACDA,EAASC,UACTA,EAASC,cACTA,EAAaC,cACbA,EAAa/G,OACbA,EAAMgH,KACNC,EAAIppB,MACJA,EAAKqpB,MACLA,EAAKC,SACLA,EAAQC,OACRA,EAAMC,SACNA,EAAQC,QACRA,KACGC,SAEEC,MAAQD,OACRZ,MAAQA,GAAS,UAGZxQ,GAAK,UACLC,GAAK,OACVqR,SAAQ,CAAItR,QACZuR,SAAQ,CAAItR,QACZuR,GAAKxR,GAACpV,KAAS4mB,QACfC,GAAKxR,GAACrV,KAAS6mB,QACfhB,UAAYA,GAAa,OACzBC,UAAYA,GAAa,OACzBC,cAAgBA,GAAiB,OACjCC,cAAgBA,GAAiB,OAEjCC,KAAOC,GAAQ,OACfjH,OAASA,GAAU,cACFlB,EAAAjM,EAAA,CAARhV,GAAoC,CAAGG,EAAG,IAAKC,EAAG,IAAKC,EAAG,WACnEipB,SAAWA,GAAY,OACvBG,QAAUA,0BAINA,QAEExI,EAAAjM,EAAA,CAAS9R,KAAMumB,QAAOvmB,6BAK3B8D,eACQia,EAAAjM,EAAA,CAAUhO,0BAIfyiB,QAAO,OACNlC,EAAGrkB,KAAQumB,QAAOvmB,YACV,iBAAHqkB,GACPlC,QAAQ2E,KAAI,sDAGTzC,qBAEQ9f,2CAOjBT,WACQA,OACL4iB,SAASlC,QAAQ1gB,QACb4iB,SAASlrB,OAhFC,KAgF0BwE,KACpC0mB,SAAQ1mB,KAAQ0mB,SAASjhB,MAAM,EAjFrB,kCAyFjB3B,WACQA,OACL6iB,SAASnC,QAAQ1gB,QACb6iB,SAASnrB,OA5FC,KA4F0BwE,KACpC2mB,SAAQ3mB,KAAQ2mB,SAASlhB,MAAM,EA7FrB,+BAkGR0M,EAAMnS,KAAM6lB,UAAS7lB,KAAO8lB,UAAW,iBAG1C1T,EAAGA,EAACC,EAAEA,SACTwT,UAAYzT,OACZ0T,UAAYzT,gCAINF,EAAMnS,KAAM+lB,cAAa/lB,KAAOgmB,cAAe,qBAG9C5T,EAAGA,EAACC,EAAEA,SACb0T,cAAgB3T,OAChB4T,cAAgB3T,sBFpEM,GAAAwT,UAAMA,EAASC,UAAEA,KAAgB5T,KAAKiB,MAAM2S,EAAWD,GEyE3EkB,CAAsB/mB,MAGjCuS,wBACSsT,YAAa,EAGtBtT,wBACSuT,YAAa,EAGtBvT,6BACSH,GAACpS,KAASgnB,SAAS5U,OACnBC,GAACrS,KAASgnB,SAAS3U,EAG5BE,WAAW0U,SACDC,EAAKD,EAAMhU,IAAGjT,KAAMimB,MACpBkB,EAAEnnB,KAAQonB,aAAazU,IAAIuU,GAC3BG,EAAErnB,KAAQgnB,SAASrU,IAAIwU,QACxBC,aAAeD,OACfH,SAAWK,EAIpB9U,SAAS+U,EAAK,UACJC,EAAMvnB,KAAQimB,KACduB,EAASxnB,KAAQgnB,SAClBS,YACA/U,MAAK,GACLQ,OAAOoU,EAAKC,QACZG,WAAWF,GAIpBjV,KAAKoV,EAAa,UAERC,EAAO5nB,KAAQgnB,SAASS,YAAY/U,MAAK,GACzCmV,EAFO,EAEF7nB,KAAQgnB,SAASc,QAAiBH,EACvCI,EAAQH,EAAQ1U,OAAO2U,QACxBH,WAAWK,GAMpBxV,SAAOH,EAAGA,EAACC,EAAEA,EAAC4T,KAAEA,EAAI/oB,EAAEA,GAAK8qB,EAAO,EAAGC,EAAa,QAC1C9E,GAAa,GAAG/Q,IAAGC,IAAOD,EAACpS,KAAOoS,EAAGC,EAACrS,KAAOqS,IAAO4V,EAAU,CAC9D/qB,EAAIA,GAAK,QACHgrB,EAAG,IAAO/V,EAAOC,EAAGC,GAAGI,IAAG,IAAKN,EAAMnS,KAAMoS,EAACpS,KAAOqS,IACnD8V,EAAahU,EAAM,GAAI,IAAM+T,EAAIJ,SACjCM,EAAYJ,GAAQ9qB,GAAK+oB,EAAIjmB,KAAQimB,OAAUkC,EAC/CE,EAAQH,EAAIhV,OAAOkV,QACpBV,WAAWW,WAQfC,GAA0B,EAAAC,MAAMA,EAAKC,OAAEA,cAEjClG,EAAoB,EAAG,IAGlClQ,EAAGkQ,EAAoB,EAAGiG,GAC1BlW,EAAGiQ,EAAoB,EAAGkG,GAC1BvC,KAAM3D,EAAoB,EAAG,IAC7BuD,UAAWvD,GAPH,EAAA,GAQRwD,UAAWxD,GARH,EAAA,GASRyD,cAAe,EACfC,cAAe,EACfI,SAAU9D,GAAoB,IAAM,KACpCxlB,MAAK,CAAIG,EAAGqlB,EAAoB,IAAK,KAAMplB,EAAGolB,EAAoB,IAAK,KAAMnlB,EAAGmlB,EAAoB,IAAK,QAgBpGmG,GAAU,EAAAF,MAAMA,EAAKC,OAAEA,GAAUE,KACtCA,EAAStW,EAAIsW,EAASzJ,OAASsJ,IAC/BG,EAASC,mBACTD,EAAStW,EAAImW,EAAQG,EAASzJ,QAE9ByJ,EAAStW,EAAIsW,EAASzJ,OAAS,IAC/ByJ,EAASC,mBACTD,EAAStW,EAAIsW,EAASzJ,QAEtByJ,EAASrW,EAAIqW,EAASzJ,OAASuJ,IAC/BE,EAASE,mBACTF,EAASrW,EAAImW,EAASE,EAASzJ,QAE/ByJ,EAASrW,EAAIqW,EAASzJ,OAAS,IAC/ByJ,EAASE,mBACTF,EAASrW,EAAIqW,EAASzJ,SAIjB4J,GAAQ,EAAAN,MAAMA,EAAKC,OAAEA,GAAUE,KACpCA,EAAStW,EAAIsW,EAASzJ,OAASsJ,EAC/BG,EAAStW,EAAI,EAAIsW,EAASzJ,OACnByJ,EAAStW,EAAIsW,EAASzJ,OAAS,IACtCyJ,EAAStW,EAAImW,EAAQG,EAASzJ,QAE9ByJ,EAASrW,EAAIqW,EAASzJ,OAASuJ,EAC/BE,EAASrW,EAAI,EAAIqW,EAASzJ,OACnByJ,EAASrW,EAAIqW,EAASzJ,OAAS,IACtCyJ,EAASrW,EAAImW,EAASE,EAASzJ,geCnPnC6J,IAAU,EACVC,GAAe,QAEbC,GAAc,GAEPC,GAAiBC,GAAMJ,GACvBK,GAAuBD,GAAMH,GAE7BK,GAAY,CAAIC,EAAQC,EAASf,EAAOC,EAAQe,KACzDR,GAAeQ,GAAStX,OAAOuX,iBAE/BH,EAAOI,MAAMlB,MAAK,GAAMA,MACxBc,EAAOI,MAAMjB,OAAM,GAAMA,MAEzBa,EAAOd,MAAQrW,KAAK/S,MAAMopB,EAAQQ,IAClCM,EAAOb,OAAStW,KAAK/S,MAAMqpB,EAASO,IAEf,IAAjBA,IACAD,IAAU,EACVQ,EAAQC,MAAM,EAAG,IAGjBD,EAAQC,MAAMR,GAAcA,KAI9BW,GAAe,CACjBC,YAAW,OACXC,UAAS,OACTC,YAAa,EACbC,UAAW,EACXC,QAAO,OACPC,SAAQ,QACRC,UAAS,OACTC,aAAY,MACZC,yBAAwB,eAGfC,GAAcd,GAAae,IACpCrB,GAAepmB,KAAKynB,GACpB/uB,OAAOD,KAAKgvB,GAAUC,SAAS7O,IAC3B6N,EAAQ7N,GAAK4O,EAAS5O,OAIjB8O,GAAgBjB,IACzBc,GAAWd,EAAXc,CAAoBV,IACpBJ,EAAQkB,YAAW,KAGVC,GAAcnB,GAAO,CAAMf,EAAOzrB,KAC3CstB,GAAWd,EAAXc,CAAkB,CACdN,UAAWvB,GAASe,EAAQQ,UAC5BH,YAAa7sB,EAAQihB,EAAAjM,EAAA,CAAUhV,GAAOyH,cAAgB+kB,EAAQK,YAC9DI,QAAO,QACPC,SAAQ,WAIHU,GAAepB,GAAO,CAAMf,EAAOzrB,IAC5CstB,GAAWd,EAAXc,CAAkB,CACdN,UAAWvB,GAASe,EAAQQ,UAC5BH,YAAa7sB,EAAQihB,EAAAjM,EAAA,CAAUhV,GAAOyH,cAAgB+kB,EAAQK,YAC9DI,QAAO,OACPC,SAAQ,UAIHW,GAAcrB,GAAYA,EAAQsB,UAAU,GAAK,IAIjDC,GAAavB,GAAO,CAAMtB,EAAI,gBAAqBoC,GAAWd,EAAXc,CAAkB,CAAID,yBAA0BnC,IAGnG8C,GAAUxB,GAAO,CAAMlqB,EAAC,KAAUgrB,GAAWd,EAAXc,CAAkB,CAAIW,OAAQ3rB,IAEhE4rB,GAAgB1B,GAAO,CAAMlN,EAAI,IAAMgO,GAAWd,EAAXc,CAAkB,CAAIN,UAAW1N,IAExE6O,GAAe3B,GAAO,CAAMxsB,EAAK,SAC1CstB,GAAWd,EAAXc,CAAkB,CAAIT,YAAa5L,EAAAjM,EAAA,CAAUhV,GAAOyH,gBAE3C2mB,GAAc5B,GAAO,CAAM6B,EAAI,KAAU7B,EAAQkB,YAAYW,GAE7DC,GAAa9B,GAAO,CAAMxsB,EAAK,SACxCstB,GAAWd,EAAXc,CAAkB,CAAIR,UAAW7L,EAAAjM,EAAA,CAAUhV,GAAOyH,gBAEzC8mB,GAAK,EAAA9C,MAAMA,EAAKC,OAAEA,GAAUc,IAAaJ,GAAMI,EAAQgC,UAAU,EAAG,EAAG/C,EAAOC,GAE9E+C,GAAU,EAAAhD,MAAMA,EAAKC,OAAEA,GAAUc,IAAO,CAAMxsB,EAAK,WAC5DwsB,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACrC+kB,EAAQkC,SAAS,EAAG,EAAGjD,EAAOC,ydCzFrBiD,GAASnC,GAAO,CAAMlX,EAAGC,EAAGvV,EAAK,QAAYkrB,EAAI,SAAalhB,KACvEA,EAAOA,GAAQqiB,KACfG,EAAQoC,YACRpC,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cAC7B,cAAJyjB,GACAsB,EAAQoC,YACRpC,EAAQqC,IAAIvZ,EAAGC,EAAGvL,EAAM,EAAa,EAAVoL,KAAKuB,IAAQ,GACxC6V,EAAQsC,QAERtC,EAAQkC,SAASpZ,EAAGC,EAAGvL,EAAMA,GAEjCwiB,EAAQuC,aAICC,GAAQxC,GAAO,CAAMlU,EAAIC,EAAIC,EAAIC,EAAIwW,EAAaC,KAC3D1C,EAAQoC,YAGJK,IAAazC,EAAQQ,UAAYiC,GACjCC,IAAS1C,EAAQS,QAAUiC,GAE/B1C,EAAQ2C,OAAO7W,EAAIC,GACnBiU,EAAQ4C,OAAO5W,EAAIC,GACnB+T,EAAQ6C,SACR7C,EAAQuC,aAGCO,GAAe9C,GAAO,CAAMlU,EAAIC,EAAIgX,EAAO7wB,EAAQuwB,EAAaC,WACnE5Y,EAASlB,KAAKuB,GAAK4Y,EAAS,IAC5B/W,EAAKF,EAAK5Z,EAAS0W,KAAKwD,IAAItC,GAC5BmC,EAAKF,EAAK7Z,EAAS0W,KAAKyD,IAAIvC,GAClC0Y,GAAKxC,EAALwC,CAAc1W,EAAIC,EAAIC,EAAIC,EAAIwW,EAAaC,IAGlCM,GAAahD,GAAO,CAAMyC,EAAa3Z,EAAGC,EAAG4M,EAAQniB,KAC9DwsB,EAAQoC,YACJ5uB,IACAwsB,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,eAE3C+kB,EAAQQ,UAAYiC,EAEpBzC,EAAQqC,IAAIvZ,EAAGC,EAAG4M,EAAQ,EAAa,EAAV/M,KAAKuB,IAAQ,GAG1C6V,EAAQ6C,SACR7C,EAAQuC,aAGCU,GAAUjD,GAAO,CAAMlX,EAAGC,EAAG4M,EAAQniB,KAC9CwsB,EAAQoC,YACJ5uB,IACAwsB,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,eAG3C+kB,EAAQqC,IAAIvZ,EAAGC,EAAG4M,EAAQ,EAAa,EAAV/M,KAAKuB,IAAQ,GAC1C6V,EAAQ6C,SACR7C,EAAQuC,aAGCW,GAAgBlD,GAAO,CAAMlX,EAAGC,EAAG4M,EAAQniB,KACpDwsB,EAAQoC,YACRpC,EAAQqC,IAAIvZ,EAAGC,EAAG4M,EAAQ,EAAa,EAAV/M,KAAKuB,IAAQ,GAC1C6V,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACrC+kB,EAAQsC,OACRtC,EAAQuC,aAGCY,GAAQnD,GAAO,CAAMlX,EAAGC,EAAG+J,EAAGje,EAAG4tB,EAAc,EAAGjvB,KAC3DwsB,EAAQoC,YACJ5uB,IACAwsB,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,eAE3C+kB,EAAQQ,UAAYiC,EACpBzC,EAAQoD,KAAKta,EAAGC,EAAG+J,EAAGje,GACtBmrB,EAAQ6C,SACR7C,EAAQuC,aAGCc,GAAcrD,GAAO,CAAMlX,EAAGC,EAAG+J,EAAGje,EAAGrB,EAAK,WACrDwsB,EAAQoC,YACRpC,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACrC+kB,EAAQkC,SAASpZ,EAAGC,EAAG+J,EAAGje,GAC1BmrB,EAAQuC,aAGCe,GAAgBtD,GAAO,CAAMlX,EAAGC,EAAGvL,EAAMhK,KAClD6vB,GAAWrD,EAAXqD,CAAoBva,EAAGC,EAAGvL,EAAMA,EAAMhK,IAG7B+vB,GAAsBvD,GAAO,CAAMlX,EAAGC,EAAGvL,EAAMhK,WAClDgwB,EAAOhmB,EAAO,EACpBwiB,EAAQoC,YACRpC,EAAQ2C,OAAO7Z,EAAI0a,EAAMza,EAAIya,GAC7BxD,EAAQ4C,OAAO9Z,EAAI0a,EAAMza,GACzBiX,EAAQ4C,OAAO9Z,EAAI0a,EAAMza,EAAIya,GAC7BxD,EAAQM,UAAY9sB,EAAMyH,cAC1B+kB,EAAQsC,OACRtC,EAAQuC,aAKCkB,GAAkBzD,GAAO,CAAMlX,EAAGC,EAAG+J,EAAGje,EAAGrB,WAC9CkwB,EAAK5a,EAAIgK,EAAI,EACb6Q,EAAK5a,EAAIlU,EAAI,EACnBmrB,EAAQoC,YAGRpC,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACrC+kB,EAAQ2C,OAAO7Z,EAAG6a,GAClB3D,EAAQ4D,iBAAiB9a,EAAGC,EAAG2a,EAAI3a,GACnCiX,EAAQ4D,iBAAiB9a,EAAIgK,EAAG/J,EAAGD,EAAIgK,EAAG6Q,GAC1C3D,EAAQ4D,iBAAiB9a,EAAIgK,EAAG/J,EAAIlU,EAAG6uB,EAAI3a,EAAIlU,GAC/CmrB,EAAQ4D,iBAAiB9a,EAAGC,EAAIlU,EAAGiU,EAAG6a,GAEtC3D,EAAQsC,OACRtC,EAAQuC,aAKCsB,GAAmB7D,GAAO,CAAMlX,EAAGC,EAAG+J,EAAGje,EAAGivB,EAAQtwB,MACzDsf,EAAIgR,GAAUjvB,EAAIivB,KAClBA,EAASlb,KAAK1V,IAAI4f,EAAGje,UAGnBlB,EAAImV,EAAIgK,EACRjf,EAAIkV,EAAIlU,EACdmrB,EAAQoC,YAGRpC,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACrC+kB,EAAQ2C,OAAO7Z,EAAIgb,EAAQ/a,GAC3BiX,EAAQ4C,OAAOjvB,EAAImwB,EAAQ/a,GAC3BiX,EAAQ4D,iBAAiBjwB,EAAGoV,EAAGpV,EAAGoV,EAAI+a,GACtC9D,EAAQ4C,OAAOjvB,EAAGoV,EAAIlU,EAAIivB,GAC1B9D,EAAQ4D,iBAAiBjwB,EAAGE,EAAGF,EAAImwB,EAAQjwB,GAC3CmsB,EAAQ4C,OAAO9Z,EAAIgb,EAAQjwB,GAC3BmsB,EAAQ4D,iBAAiB9a,EAAGjV,EAAGiV,EAAGjV,EAAIiwB,GACtC9D,EAAQ4C,OAAO9Z,EAAGC,EAAI+a,GACtB9D,EAAQ4D,iBAAiB9a,EAAGC,EAAGD,EAAIgb,EAAQ/a,GAE3CiX,EAAQsC,OACRtC,EAAQuC,aAGCwB,GAAiB/D,GAAO,CAAM7F,EAAQ3mB,EAAK,QAAYyrB,EAAQ,KACxE9E,EAAO6G,SAAO,CAAEgD,EAAQ/xB,KACpBkwB,GAAMnC,EAANmC,CAAe6B,EAAO,GAAIA,EAAO,GAAIxwB,EAAK,YAAeyrB,OAIpDgF,GAAejE,GAAO,CAAM7F,EAAQ3mB,EAAK,QAAYyrB,EAAQ,EAAGtE,GAAQ,EAAOuJ,GAAY,KACpGlE,EAAQoC,YACRpC,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOqI,QAAQZ,cAE/C+kB,EAAQQ,UAAYvB,EACpBe,EAAQS,QAAO,QACfT,EAAQU,SAAQ,QAEhBvG,EAAO6G,SAAO,CAAEgD,EAAQ/xB,KACV,IAANA,EACA+tB,EAAQ2C,OAAOqB,EAAO,GAAIA,EAAO,IAEjChE,EAAQ4C,OAAOoB,EAAO,GAAIA,EAAO,IAEjCE,GACAhB,GAAalD,EAAbkD,CAAsBc,EAAO,GAAIA,EAAO,GAAI,EAAC,UAGjDrJ,GACAqF,EAAQ4C,OAAOzI,EAAO,GAAG,GAAIA,EAAO,GAAG,IAE3C6F,EAAQ6C,SACR7C,EAAQuC,aAGC4B,GAAenE,GAAO,CAAM7F,EAAQ3mB,EAAK,QAAYyrB,EAAQ,EAAGtE,GAAQ,EAAOuJ,GAAY,KACpGlE,EAAQoC,YACRpC,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOqI,QAAQZ,cAE/C+kB,EAAQQ,UAAYvB,EACpBe,EAAQS,QAAO,QACfT,EAAQU,SAAQ,QAEhBvG,EAAO6G,SAAO,CAAEgD,EAAQ/xB,KACV,IAANA,EACA+tB,EAAQ2C,OAAOqB,EAAOlb,EAAGkb,EAAOjb,GAEhCiX,EAAQ4C,OAAOoB,EAAOlb,EAAGkb,EAAOjb,GAEhCmb,GACAhB,GAAalD,EAAbkD,CAAsBc,EAAOlb,EAAGkb,EAAOjb,EAAG,EAAC,UAG/C4R,GACAqF,EAAQ4C,OAAOzI,EAAO,GAAGrR,EAAGqR,EAAO,GAAGpR,GAE1CiX,EAAQ6C,SACR7C,EAAQuC,aAaC6B,GAAcpE,GAAO,CAAMlX,EAAGC,EAAG4M,EAAQ0O,EAAcC,GAAY,WAItEC,EAASzZ,EAAWlC,KAAKuB,GAAK,EAAGka,GACjCG,EAAOD,EAAS3b,KAAKuB,GAAK,EAChC6V,EAAQoC,YACRpC,EAAQqC,IAAIvZ,EAAGC,EAAG4M,EAAQ4O,EAAQC,EAAMF,GACxCtE,EAAQ6C,SACR7C,EAAQuC,aC5NCkC,GAAiBzE,GAAO,EAAAlX,EAAQA,EAACC,EAAEA,EAAC4M,OAAEA,EAAMniB,MAAEA,MACvDwsB,EAAQoC,YACRpC,EAAQqC,IAAIvZ,EAAGC,EAAG4M,EAAQ,EAAa,EAAV/M,KAAKuB,IAAQ,GAC1C6V,EAAQM,UAAY9sB,EAAMyH,cAC1B+kB,EAAQsC,QAoCCoC,GAAoB1E,GAAO,CAAM2E,EAAQC,EAAWC,GAAW,WAClErN,EAAMmN,EAAOzyB,eACV4B,EAAI,EAAGA,EAAI0jB,EAAK1jB,YAEZD,EAAIC,EAAGD,EAAI2jB,EAAK3jB,IAAC,OAChBixB,EAAKH,EAAO7wB,GACZixB,EAAKJ,EAAO9wB,GACZmxB,EAAWnL,GAAciL,EAAIC,MAC/BC,EAAWJ,EAAS,OACdK,EAASH,EAAGtxB,MACdqxB,GACAI,EAAO1qB,SAASmR,EAAiB,EAAGkZ,EAAWI,IAEnDhF,EAAQK,YAAc4E,EAAOvqB,cAC7B8nB,GAAKxC,EAALwC,CAAcsC,EAAGhc,EAAGgc,EAAG/b,EAAGgc,EAAGjc,EAAGic,EAAGhc,EAAG,KAIlDkY,GAAajB,ICzCXkF,GAAU,CAAIC,EAAO/F,EAAUtpB,EAAI,KAhBvB,EAAIsT,EAAO,GAAKtT,EAAI,IAAC,CAAMgT,EAAGC,EAAG4M,EAAQyJ,WACjD4F,EAAWnL,GAAa,GAAG/Q,IAAGC,GAAKqW,MACrC4F,EAAWrP,EAAM,OAGXyP,GAFKtc,EAAIsW,EAAStW,GAEKkc,EACvBK,GAFKtc,EAAIqW,EAASrW,GAEKic,EACvBjG,EAAQrT,EAAiB,EAAGiK,EAAQqP,GAAYlvB,EAAIsT,EACpDkc,EAAQF,EAAkBrG,EAAQK,EAASzJ,OAAS,EACpD4P,EAAQF,EAAkBtG,EAAQK,EAASzJ,OAAS,EAC1DyJ,EAAStW,GAAKwc,EACdlG,EAASrW,GAAKwc,IAMlBC,CAAa,EAAI1vB,IAAK,EAAtB0vB,CAA2BL,EAAMrc,EAAGqc,EAAMpc,EAAGoc,EAAMxP,OAAQyJ,gGCtBhC,IAC3BqG,EAAY,cAwBPC,EAAWC,aACLA,GAAKvxB,QAAO,wCAAA,MAA8C,IAczEwxB,oBApCOH,IACHA,2BAQUnzB,YACHuzB,OACHC,GAAO,GAASD,EAAIE,OAAOzxB,MAAK,qCAEhCwxB,EAAO,OACFJ,EAAWI,EAAQ,cAbhBE,IAGPP,sECRLQ,iBAMKC,EAAQC,MACF,KAATA,EAAS,MAAA,QAITC,EAAyC,MAA9BD,EAAUA,EAAUj0B,OAAS,GAAai0B,EAAUhqB,MAAM,EAAGgqB,EAAUj0B,OAAS,GAAKi0B,EAChGE,EAAaD,EAASE,YAAW,YACf,IAAfD,EAAiB,IAASD,EAASjqB,MAAM,EAAGkqB,YAG5CE,EAAShN,EAAMiN,MAClBjN,IAASiN,EAAE,MAAA,OAIXC,EAAYlN,EAAKmN,MAAK,KAEX,MAAXD,EAAU,IACZA,EAAUE,YAUR10B,EACA20B,EARAC,EAAUL,EAAGE,MAAK,SAET,MAATG,EAAQ,IACVA,EAAQF,QAOL10B,EAAI,GAAIA,EAAI40B,EAAQ30B,QAAUD,EAAIw0B,EAAUv0B,SAA2B,MAAhB00B,EAAsB30B,IAC5Ew0B,EAAUx0B,KAAO40B,EAAQ50B,KAC3B20B,EAAe30B,OAMf60B,EAAK,OAEJ70B,EAAI,EAAGA,EAAIw0B,EAAUv0B,OAAS00B,EAAc30B,IAC/C60B,EAAMxtB,KAAI,aAKRutB,EAAQ30B,OAAS00B,GACnBE,EAAMxtB,KAAK2C,MAAM6qB,EAAOD,EAAQ1qB,MAAMyqB,IAGjCE,EAAMhvB,KAAI,KAvDnBivB,EAAAC,QAAc,SAAaC,EAAQC,UAC1BX,EAASL,EAAOiB,EAASF,IAAME,EAAYD,KAyDpDH,EAAAC,QAAeI,SAAWlB,EAC1Ba,EAAAC,QAAeK,UAAYd,KC/D3Be,GAAiB/0B,EAAA,SAAAg1B,eAAyCh1B,EAAA,QAAA,CAA0B,QAAQ,eCWtFi1B,GAAiB,CAAIC,EAAW3e,EAAGC,KAAC,CACtCpV,EAAG8zB,EAAUhX,KAAS,EAAJ1H,EAAQ0e,EAAUxI,MAAY,EAAJnW,GAC5ClV,EAAG6zB,EAAUhX,KAAS,EAAJ1H,EAAQ0e,EAAUxI,MAAY,EAAJnW,EAAQ,GACpDjV,EAAG4zB,EAAUhX,KAAS,EAAJ1H,EAAQ0e,EAAUxI,MAAY,EAAJnW,EAAQ,GACpDhV,EAAG2zB,EAAUhX,KAAS,EAAJ1H,EAAQ0e,EAAUxI,MAAY,EAAJnW,EAAQ,SCd9ChT,GAAEoY,SAAFpY,GAA8I4xB,GAA5IxZ,GAAgJ,eAAgBpY,EAAC,oBAAqBoY,EAAEpa,UAAGqU,EAAEwf,YAAY7zB,EAAE8zB,KAAY9zB,WAAW0iB,EAAE1iB,WAAWwD,EAAE,EAAEA,EAAE6Q,EAAE0f,SAAS31B,OAAOoF,IAAI6Q,EAAE0f,SAASvwB,GAAG6oB,MAAM2H,QAAQxwB,IAAIxD,EAAC,QAAQ,OAAQG,EAAEH,MAAMG,EAAE,EAAEkU,EAAE4f,SAASC,cAAa,OAAQ7f,EAAEgY,MAAM8H,QAAO,uEAAwE9f,EAAE+f,iBAAgB,SAAQ,SAAUp0B,GAAGA,EAAEq0B,iBACpf3R,IAAIviB,EAAEkU,EAAE0f,SAAS31B,WAAS,OAAQigB,GAAGiW,aAAavZ,MAAMwZ,MAAMz0B,EAAEue,EAAEre,EAAE,EAAEH,EAAEua,EAAC,IAAKpY,EAAEwyB,MAAK,MAAM,OAAO,SAAUzzB,EAAEqZ,EAAC,IAAKpY,EAAEwyB,MAAK,KAAK,OAAO,YAAaC,KAAKH,aAAaG,KAAKH,YAAYI,OAAM,IAAKvyB,EAAEiY,EAAC,IAAKpY,EAAEwyB,MAAK,KAAK,OAAO,gBAAU9R,EAAE,IAAUiS,SAAS,GAAGb,IAAIzf,EAAEugB,SAASxa,EAAEya,UAAUnS,EAAEoS,MAAK,WAAYzW,GAAGiW,aAAavZ,MAAMwZ,OAAOQ,IAAG,WAAY/0B,QAAQkJ,GAAGorB,aAAavZ,MAAMwZ,SAAMxzB,EAAEi0B,OAAO9rB,EAAEmV,EAAE,KAAQnV,EAAEpJ,EAAE,MAAMD,EAAEm1B,OAAO,IAAIh1B,GAAGkJ,EAAEpJ,GAAG,KAAKA,EAAEoJ,EAAElJ,EAAE,EAAEmC,GAAC,KAAOqB,EAAE8wB,YAAYI,OAAOvyB,EAAE6yB,OAAOxxB,EAAEyxB,eACte,QAAQzxB,EAAE0xB,gBAAgB,gBAAgBhsB,GAAG8rB,OAAM,WAAY3W,EAACzb,KAAMmyB,OAAOI,WAAW9gB,EAAE+gB,QAAQ1S,WAAI1gB,EAAEwyB,MAAK,SAAUpa,EAAEib,EAAEl1B,OAAOkU,EAAEihB,EAAAA,EAASjX,EAAE,EAAEve,EAAEgV,KAAK5V,MAAMc,EAAEF,EAAE+U,OAAOuX,kBAAkB,GAAGvsB,EAAE,GAAGG,EAAEe,EAAE,GAAGf,EAAEmC,EAAE,EAAEnC,EAAEE,EAAE,EAAEF,EAAEwD,EAAE,EAAExD,EAAE2V,EAAE,GAAG3V,EAAE6T,EAAE,GAAG7T,EAAEiC,EAAE,GAAGjC,EAAEkC,EAAE+xB,SAASC,cAAa,UAAWhyB,EAAEipB,MAAMtrB,EAAEqC,EAAEkpB,OAAOrqB,EAAEmB,EAAEmqB,MAAM8H,QAAO,6BAA8Bp0B,EAAEmC,EAAEqzB,WAAU,aAAOx1B,EAAEy1B,KAAI,QAAS,EAAEx1B,EAAC,gCAAiCD,EAAE+sB,aAAY,MAAO/sB,EAAEysB,UAAUrsB,EAAEJ,EAAEquB,SAAS,EAAE,EAAEvuB,EAAEkB,GAAGhB,EAAEysB,UAAU6I,EAAEt1B,EAAE01B,SAASrb,EAAEjY,EAAEjC,GACpfH,EAAEquB,SAAS5qB,EAAEmS,EAAE9B,EAAE5R,GAAGlC,EAAEysB,UAAUrsB,EAAEJ,EAAE0sB,YAAY,GAAG1sB,EAAEquB,SAAS5qB,EAAEmS,EAAE9B,EAAE5R,IAAU6xB,IAAI5xB,EAAE8yB,OAAM,SAAUU,EAAE1W,GAAG3K,EAAES,KAAK1V,IAAIiV,EAAEqhB,GAAGrX,EAAEvJ,KAAKxV,IAAI+e,EAAEqX,GAAG31B,EAAEysB,UAAUrsB,EAAEJ,EAAE0sB,YAAY,EAAE1sB,EAAEquB,SAAS,EAAE,EAAEvuB,EAAE8V,GAAG5V,EAAEysB,UAAU6I,EAAEt1B,EAAE01B,SAAS31B,EAAE41B,GAAC,IAAMtb,EAAC,KAAMta,EAAEuU,GAAC,IAAMvU,EAAEue,GAAC,IAAMlc,EAAEjC,GAAGH,EAAE41B,UAAUzzB,EAAEsB,EAAExD,EAAE2V,EAAE9B,EAAE7T,EAAEiC,EAAEuB,EAAEmS,EAAE9B,EAAE7T,EAAEiC,GAAGlC,EAAEquB,SAAS5qB,EAAEqQ,EAAE7T,EAAE2V,EAAE3V,EAAEiC,GAAGlC,EAAEysB,UAAUrsB,EAAEJ,EAAE0sB,YAAY,GAAG1sB,EAAEquB,SAAS5qB,EAAEqQ,EAAE7T,EAAE2V,EAAE3V,EAAEF,GAAG,EAAE41B,EAAE1W,GAAG/c,OAAcD,oBAHnW4xB,GAAqCA,GAAexZ,KAAC,mBAAuBzF,QAAQA,OAAOC,IAAID,OAAOyF,IAAGpY,GAAE4zB,MAAMxb,qXCDrIyb,GAAY,CAAI9b,EAAKX,EAAK1S,IAAWqT,EAAIvX,eAAe4W,GAAOW,EAAIX,GAAO1S,EAE1EovB,GAASvQ,GAASA,EAAK,GACvBwQ,GAAUxQ,GAASA,EAAKld,MAAM,EAAGkd,EAAKnnB,OAAS,GAC/C43B,GAAQzQ,GAASA,EAAKA,EAAKnnB,OAAS,GAEpC63B,GAAa,CAAI32B,EAAK+jB,WACzB6S,EAAY7S,EAAIjlB,cAClB83B,EAAY52B,GACZ+jB,EAAI8S,OAAO,EAAGD,EAAY52B,GAEvB+jB,GAGE+S,GAAuB,CAAI/S,EAAKgT,EAAO3S,WAC1C4S,EAAM,OACR9N,EAAQ6N,UACHl4B,EAAI,EAAGA,EAAIulB,EAAKvlB,IACrBm4B,EAAO9wB,KAAK6d,EAAImF,MACZA,EAAQ,IAAGA,EAAQnF,EAAIjlB,OAAS,UAEjCk4B,GAIEC,GAAqB,CAAIlT,EAAKgT,EAAO3S,WACxC4S,EAAM,OACR9N,EAAQ6N,UACHl4B,EAAI,EAAGA,EAAIulB,EAAKvlB,IACrBm4B,EAAO9wB,KAAK6d,EAAImF,MACZA,IAAUnF,EAAIjlB,SAAQoqB,EAAQ,UAE/B8N,GAGEE,GAAYjR,GAASA,EAAKgB,QAAM,CAAEvmB,EAAGD,IAAMC,EAAID,IAC/C02B,GAAmBlR,GAASA,EAAKgB,QAAM,CAAEvmB,EAAGD,IAAMC,EAAID,IAAKwlB,EAAKnnB,OAEhEs4B,GAAUnR,GACnBA,EAAKgB,QAAM,CAAEC,EAAKtmB,KACVA,EAAIsmB,IACJA,EAAMtmB,GAEHsmB,IACR,GAEMmQ,GAAWpR,GACpBA,EAAKgB,QAAM,CAAEC,EAAKtmB,KACVA,EAAIsmB,IACJA,EAAMtmB,GAEHsmB,IACR,GAEMoQ,GAAoBC,UAEvBC,EADQjiB,OAAOkiB,SAASC,OAAOC,UAAU,GAC5BrE,MAAK,aACfz0B,EAAI,EAAGA,EAAI24B,EAAK14B,OAAQD,IAAC,OACxB+4B,EAAOJ,EAAK34B,GAAGy0B,MAAK,QACtBsE,EAAK,KAAOL,EAAQ,OACbK,EAAK,UAGb,GCtDEC,GAGA,aAQGC,GAAenL,EAAQoL,EAAKC,QACnCjB,uBAuBKkB,EAAK,qJAUAp5B,KAAKo5B,EAAK,GACbC,cAAcC,gBAAgBF,EAAMp5B,IAAC,CACrCu5B,EAAgBH,EAAMp5B,SAIT,MAAjBu5B,GACA3S,QAAQD,IAAG,mDAITzJ,EAAO,CACTsc,SAAUD,EACVE,mBAAoBC,GAGxBC,EAAa,OAETC,EAAa,IAAOP,cAAcQ,EAAQ3c,SACrCjB,UACL2K,QAAQkT,MAAK,wDACblT,QAAQkT,MAAK,0CAA4C7d,GAK7D2d,EAAcG,OAASC,EACvBJ,EAAcK,gBAAkBC,EAChCN,EAAc1B,MAAM,KACpBtR,QAAQD,IAAG,4BAA6B+S,EAAa,YAAaS,cA7DjEC,gBA6EDR,EAAcQ,OAEdC,EAAMC,UAAW,QA9EhBC,cAiFaC,SACRC,EAAOD,GAAS,iBAChBE,EAAI,IAAOC,KAAKhB,EAAa,CAAIiB,KAAMrB,IACvC7F,EAAMhd,OAAOmkB,IAAIC,gBAAgBJ,GACjC74B,EAAIi0B,SAASC,cAAa,KAChCl0B,EAAEqsB,MAAM2H,QAAO,OACfh0B,EAAEk5B,KAAOrH,EACT7xB,EAAEm5B,SAAWP,EACb3E,SAASmF,KAAKvF,YAAY7zB,GAC1BA,EAAEq5B,QACFC,YAAU,KACNrF,SAASmF,KAAKG,YAAYv5B,GAC1B6U,OAAOmkB,IAAIQ,gBAAgB3H,KAC5B,UA5FHiG,EAAa,GACbJ,EAAgB,KAChBK,EAAgB,WACdO,EAAajB,GAAO,GACpBQ,EAAaP,GAAsBH,GAInCa,GAFY/L,EAAOd,MAAQc,EAAOb,OAAsBlQ,OAAOue,WAEtDxN,EAAOyN,cAAcpB,QACAN,EAAM,aAIpCQ,EAAQvE,SAASC,cAAa,kBAgD3BmE,EAAoBsB,GACrBA,EAAMhd,MAAQgd,EAAMhd,KAAKjT,KAAO,GAChCouB,EAActyB,KAAKm0B,EAAMhd,eAIxBwb,EAAWwB,SAEVC,EAAW,IAAOd,KAAKhB,EAAa,CAAIiB,KAAMrB,IACpDc,EAAMqB,IAAMhlB,OAAOmkB,IAAIC,gBAAgBW,GAxD3CpB,EAAMnM,MAAM2H,QAAO,aCCV8F,GACC,EADDA,GAEE,EAGFC,GAAK,CACdC,GAAI,KACJC,GAAI,GAAK,GACTC,OAAQ,GAAK,GACbC,MAAO,GAAK,GACZC,OAAQ,kBACRC,QAAQ,EACRC,KAAM,GAGGC,GACC,EADDA,GAEF,EAGEC,GAEJ,EAFIA,GAGD,EAUCC,GAAS,CAClBC,MAAOX,GAAMM,OACblO,MAAOoO,ICtDEI,GAAiBzO,GAAO,CAAM0O,EAAOC,EAAOC,EAAa/L,GAAS,EAAOgM,EAAY,WACxFC,EAAYJ,EAAM,GAAG,GACrBK,EAAYL,EAAM,GAAG,GAIrBl7B,GAHUm7B,EAAM,GAAG,GACTA,EAAM,GAAG,GAEXC,EAAY/yB,SAEpBmzB,EAAWhP,EAAQiP,qBAAqB,EAAaP,EAvBtDrU,QAAM,CAAEC,EAAKvkB,KACVA,EAAE,GAAKukB,IACPA,EAAMvkB,EAAE,IAELukB,IACR,GAkBgE,EAhBhD,CAAIjB,GACvBA,EAAKgB,QAAM,CAAEC,EAAKvkB,KACVA,EAAE,GAAKukB,IACPA,EAAMvkB,EAAE,IAELukB,IACR,GAUmE4U,CAAWP,GAASE,GAG1FG,EAASG,aAAa,GAAK37B,EAAMyH,eACjC+zB,EAASG,aAAa,EAAG37B,EAAMqI,QAAQnD,OAAO,GAAGL,SAAS,IAAI4C,eAE9D+kB,EAAQoC,YACRpC,EAAQ2C,OAAOmM,EAAWC,GAE1BL,EAAM1N,SAASmE,IACXnF,EAAQ4C,OAAOuC,EAAM,GAAIA,EAAM,OAGnCwJ,EAAM3N,SAASmE,IACXnF,EAAQ4C,OAAOuC,EAAM,GAAIA,EAAM,GAAK0J,MAGxC7O,EAAQ4C,OAAOkM,EAAWC,GAEtBlM,GAGA7C,EAAQ6C,SAGZ7C,EAAQM,UAAY0O,EACpBhP,EAAQsC,OACRtC,EAAQuC,aCrDC6M,GAAc,CAAItmB,EAAGC,EAAGjT,EAAI,OlByDf,EAAI0gB,EAAGxiB,EAAG4iB,EAAY,EAAGD,EAAY,KAC3DlC,EAAAC,GAAS7D,QAAQ2F,EAAIG,EAAW3iB,EAAI2iB,GAAaC,EkB1DDyY,CAAcvmB,EAAGC,EAAG,EAAGjT,GAAKuU,EACnEilB,GAAc,CAAIxmB,EAAGC,EAAG9S,EAAGH,EAAI,OlB8DlB,EAAI0gB,EAAGxiB,EAAGiC,EAAG2gB,EAAY,EAAGD,EAAY,KAC9DlC,EAAAC,GAAS9C,QAAQ4E,EAAIG,EAAW3iB,EAAI2iB,EAAW1gB,EAAI0gB,GAAaC,EkB/Dd2Y,CAAczmB,EAAGC,EAAG9S,EAAG,EAAGH,GAAKuU,EAM/EmlB,GAAgBxW,GAAoB,EAAI,GACxCyW,GAAgBzW,GAAoB,EAAI,GACxC0W,GAAgB1W,GAAoB,EAAI,GACxC2W,GAAgB3W,GAAoB,EAAI,GAGjC4W,GAAiB,CAAI3Q,EAAOC,EAAQpW,EAAGC,EAAGkX,KAEnDnX,GAAKA,EAAImW,EAAQ,IADjBgB,EAAQA,GARW,KAUnBlX,GAAKA,EAAImW,EAAS,GAAKe,QACjBnU,EAAKlD,KAAKyD,IAAImjB,GAAgBzmB,GAAK2mB,GAAgB9mB,KAAKwD,IAAIojB,GAAgB1mB,GAC5EiD,EAAKnD,KAAKyD,IAAIojB,GAAgB3mB,GAAK6mB,GAAgB/mB,KAAKwD,IAAIqjB,GAAgB1mB,UAC3EH,KAAKiB,MAAMkC,EAAKhD,EAAG+C,EAAKhD,IAItB+mB,GAAa,CAAI5Q,EAAOC,EAAQpW,EAAGC,EAAGkX,KAE/CnX,GAAKA,EAAImW,EAAQ,IADjBgB,EAAQA,GAlBW,KAoBnBlX,GAAKA,EAAImW,EAAS,GAAKe,QACjBnU,EAAKlD,KAAKyD,IAAImjB,GAAgBzmB,GAAKH,KAAKwD,IAAIqjB,GAAgB3mB,GAC5DiD,EAAKnD,KAAKyD,IAAIqjB,GAAgB5mB,GAAKF,KAAKwD,IAAIujB,GAAgB5mB,UAC3DH,KAAKiB,MAAMkC,EAAKhD,EAAG+C,EAAKhD,qbChCnCgnB,GAAiBr9B,KAAKC,MAAK,2lKCKdq9B,GAAoB1W,GAASA,EAAKtD,KAAK5N,GAAMsM,EAAAjM,EAAA,CAAUL,KASvD6nB,GAAY,CAAIjkB,EAAIC,EAAIC,EAAIjY,WAC/Ba,EAAIgX,EAAS,EAAGE,EAAIC,EAAIC,EAAIjY,UAG3BygB,EAAAjM,EAAA,CAAS,OAAQ3T,gBAGfo7B,GAAa5W,UAChB6W,EAASH,GAAiB1W,UACzB6W,EAAO7V,QAAM,CAAEC,EAAKnS,KACnBA,EAAEvO,gBAAkB0gB,EAAI1gB,kBACxB0gB,EAAMnS,GAEHmS,IACR4V,EAAO,KAGDC,GAAW9W,UACd6W,EAASH,GAAiB1W,UACzB6W,EAAO7V,QAAM,CAAEC,EAAKnS,KACnBA,EAAEvO,gBAAkB0gB,EAAI1gB,kBACxB0gB,EAAMnS,GAEHmS,IACR4V,EAAO,KAGDE,GAAa3b,EAAAjM,EAAA,CAAS,kBAAmB3M,QACzCw0B,GAAa5b,EAAAjM,EAAA,CAAS,iBAAkB3M,QAGxCy0B,GAAY7b,EAAAjM,EAAA,CAAS,qBAAsB3M,QAC3C00B,GAAW9b,EAAAjM,EAAA,CAAS,qBAAsB3M,QAE1C20B,GAAe/b,EAAAjM,EAAA,CAAS,WAAY3M,QAEpC40B,GAAehc,EAAAjM,EAAA,CAAS,WAAY3M,QAEpC60B,GAAQ,CACjBC,SAAQ,sGAYRC,SAAQ,sGAYRC,IAAG,+DACO,oEACL,mEACS,wEACL,0DACJ,oDACLC,aAAY,oDACZC,WAAU,oDAEVC,kBAAiB,0GASRC,GAAerR,GAAMkQ,GAAa7W,EAAmB,EAAG,KACxDiY,GAAWtR,GAAM8Q,GAAStX,EAAMpnB,OAAOD,KAAK2+B,MAE5CS,GAAQ,CAAIl9B,EAAI,GAAIqD,EAAI,YAC3B85B,EAAMH,KACNI,EAAQpB,GAAUmB,GAAKv1B,QAAQtD,QAAQtE,GACvCq9B,EAAOnB,GAAQiB,GAAKv1B,QAAQnD,OAAOpB,GACnCi6B,EAAOF,EAAMx1B,QAAQnD,OAAO,IAAIT,WAAW,mBACxCi5B,SAASG,OAAOC,OAAMC,UAMtBC,eACGC,QACHvB,OAASH,GAAiB0B,GAAeR,6BAIvChB,GAASv5B,KAAMw5B,6BAIfC,GAAOz5B,KAAMw5B,iCAIRA,OAAOh+B,OAKvB+W,eACWmQ,EAAK1iB,KAAMw5B,QAGtBjnB,WAAWqT,SACD3U,EAAIiB,KAAKX,IAAIW,KAAK5V,MAAMspB,IAAK5lB,KAAUw5B,OAAOh+B,mBACxCg+B,OAAOvoB,GAAG9L,QAG1BoN,IAAIqT,EAAOoV,EAAW,EAAG7U,EAAQ,SACvB1U,EAACzR,KAAQi7B,WAAWrV,GpBlGI,IAAIppB,EAAKE,SoBmGnCs+B,EAAW,GACXvpB,EAAExP,MpBpG4BzF,GoBoGc,EAAXw+B,EpBpGEt+B,EoBoGas+B,EpBpGL5Y,KAAoB1lB,EAAMF,GAAOA,IoBuG5E2pB,EAAQ,GACR1U,EAAE5N,SAASsiB,GAER1U,GCpIZ,MAEGypB,GAAQ,CAAI5R,EAAS6R,EAAMC,EAASlD,EAAa3O,EAAO4C,GAAS,SAC/DrvB,EAAQo7B,EAAY/yB,QAExBg2B,EAAK7Q,SAASmE,UACJ4M,EAAM/Y,EAAoB,EAAG8Y,MAC/BC,EAAM,EAAC,KACHpc,EAASqD,EAAoB,EAAG,EAAIiH,GACpC+R,EAAW,EACXD,EAAM,MACNpc,EAASqD,EAAoB,GAAKiH,EAAO,GAAKA,GAC9C+R,EAAW,EACXx+B,EAAQA,EAAMqI,QAAQnD,OAAO,KAE7BlF,EAAQA,EAAMqI,QAAQtD,QAAQ,GAAGF,SAAS,ICuErC,CAAI2nB,GAAO,CAAMlX,EAAGC,EAAGvV,EAAOgK,EAAMtF,EAAS,EAAGqd,EAAQ,cAChEtjB,EAAI,EAAGA,EAAIiG,EAAQjG,IAAC,OACnB8B,EAAIklB,EAA0B,IAAPzb,EAAoB,EAAPA,GAEpCmY,EAASsD,EAAmB,EAAG1D,GAC/BwN,EAAQ/J,EAAoB,EAAG3O,GAC/B4nB,EAAOtc,EAAS/M,KAAKwD,IAAI2W,GACzBmP,EAAOvc,EAAS/M,KAAKyD,IAAI0W,GAI/BG,GAAalD,EAAbkD,CAAsBpa,EAAImpB,EAAMlpB,EAAImpB,EAAMn+B,EAAGP,KD/EzC2+B,CAASnS,EAATmS,CAAkBhN,EAAM,GAAIA,EAAM,GAAI3xB,EAAMyH,cAAe0a,EAAQqc,EAAU,GAAK/R,4JE7BjFmS,GAAuBpS,IAChCA,EAAQW,UAAS,OACjBX,EAAQY,aAAY,OAEXyR,GAAyBrS,IAClCA,EAAQW,UAAS,SACjBX,EAAQY,aAAY,UAGX0R,GAAU,CACnB90B,KAAOzJ,GAASA,EAAI8rB,KAAZ,iDACR0S,cAAgBx+B,GAASA,EAAI8rB,KAAZ,iDACjB2S,YAAcz+B,GAENA,EAAI8rB,KAFG,sFAIf4S,YAAc1+B,GAENA,EAAI8rB,KAFG,+FAIf6S,aAAe3+B,GAASA,EAAI8rB,KAAZ,8CAChB8S,QAAO,mDACPC,MAAK,oDAGIC,GAAc7S,GAAO,CAAMuR,EAAMzoB,EAAGC,EAAGvV,EAAO2sB,KACvDH,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACrC+kB,EAAQsJ,KAAOnJ,GAASmS,GAAWC,cAAc,IACjDvS,EAAQuJ,SAASgI,EAAMzoB,EAAGC,GAEnBiX,EAAQ8S,YAAYvB,ICXlBwB,GAAY,CAAI9T,EAAOC,EAAQ8T,EAASC,EAAMC,EAAS,EAAGC,EAAS,WACtEhZ,EAAM,GAENiZ,EAAUxqB,KAAKsB,MAAM+U,EAAiB,EAATiU,EAAaC,GAAUH,EAAU,IAAMA,GACpEK,EAAUzqB,KAAKsB,MAAMgV,EAAkB,EAATgU,EAAaC,GAAUF,EAAO,IAAMA,WAE/DK,EAAM,EAAGA,EAAML,EAAMK,IAAG,OACvBvqB,EAAImqB,EAASI,EAAMD,EAAUF,EAASG,UACnCC,EAAM,EAAGA,EAAMP,EAASO,IAAG,OAC1BzqB,EAAIoqB,EAASK,EAAMH,EAAUD,EAASI,EAC5CpZ,EAAO7gB,KAAI,CAAEwP,EAAGC,mBAIfoR,EAAQqZ,YAAaJ,EAASK,UAAWJ,UC1BhDK,eACU5qB,EAAGC,EAAG4M,EAAQoN,EAAOxE,EAAOoV,QAC/B7qB,EAAIA,OACJC,EAAIA,OACJ6qB,QAAU9qB,OACV+qB,QAAU9qB,OACV4M,OAASA,OACT4I,MAAQA,GAAS,OACjBwE,MAAQA,GAAS,OACjB4Q,MAAQA,OAGRG,GAAK1a,EAAK,CAAEH,EAAmB,EAAG,GAAI5N,EAAM3U,KAAMi9B,cAClDI,GAAK3a,EAAK,CAAEH,EAAmB,EAAG,GAAI5N,EAAM3U,KAAMi9B,cAClDK,GAAK5a,EAAK,CAAEH,EAAmB,EAAG,GAAI5N,EAAM3U,KAAMi9B,cAClDM,GAAK7a,EAAK,CAAEH,EAAmB,EAAG,GAAI5N,EAAM3U,KAAMi9B,2BAIlC,OAAThe,iCAIAie,QAAOl9B,KAAQif,iCAIfke,QAAOn9B,KAAQif,mCAIpBkE,GAAa,CAAG/Q,EAACpS,KAAOw9B,QAASnrB,EAACrS,KAAOy9B,UAAarrB,EAACpS,KAAOoS,EAAGC,EAACrS,KAAOqS,WCzBlFqrB,GAAgB,EAAVxrB,KAAKuB,GAEXkqB,GAAG,CAAIrU,EAASlX,EAAGC,EAAGvL,EAAM82B,EAAO9gC,EAAOsW,WACtCya,EAASzZ,EAAWlC,KAAKuB,GAAK,EAAGL,GACjC0a,EAAOD,EAAS3b,KAAKuB,GAAK,EAEhC6V,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACvC+kB,EAAQS,QAAO,QACfT,EAAQQ,UAAY8T,EACpBtU,EAAQoC,YACRpC,EAAQqC,IAAIvZ,EAAItL,EAAMuL,EAAIvL,EAAMA,EAAM+mB,EAAQC,GAL5B,GAMlBxE,EAAQ6C,UAGN0R,GAAM,CAAIvU,EAASlX,EAAGC,EAAGvL,EAAMhK,EAAOsW,WAElC0a,EAAO4P,GAEPI,EAAM3oB,EAAS,EAAG,EAAU,GAAPrO,EAAmB,GAAPA,EAAYoL,KAAKX,IAAI6B,IAE5DkW,EAAQoC,YACRpC,EAAQqC,IAAIvZ,EAAItL,EAAMuL,EAAIvL,EAAMg3B,EANjB,EAM8BhQ,GAJ3B,GAKlBxE,EAAQM,UAAY7L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACrC+kB,EAAQsC,QAGNmS,GAAI,CAAIzU,EAASlX,EAAGC,EAAGvL,EAAM82B,EAAO9gC,EAAOsW,WACvCya,EAASzZ,EAAWlC,KAAKuB,GAAK,EAAGL,GAASlB,KAAKuB,GAAK,EAC1D6V,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACvC6nB,GAAY9C,EAAZ8C,CAAqBha,EAAItL,EAAMuL,EAAIvL,EAAM+mB,EAAe,EAAP/mB,EAAU82B,EAAK,gBCpBvDI,eACGC,QACHC,OAAS,OACTC,OAAS,OAETC,MAAK,IAAOC,WACZD,MAAMnH,IAAMgH,OACZlN,eAAYjT,0BAILiT,UAAUxI,+BAIVwI,UAAUvI,8BAIVuI,UAGhBxe,UAAUH,UACCF,KAAK5V,MAAM8V,EAACpS,KAAQk+B,QAG/B3rB,UAAUF,UACCH,KAAK5V,MAAM+V,EAACrS,KAAQs+B,QAG/B/rB,KAAK8W,EAAQC,EAASiV,GAAO,QACpBlV,OAASA,OACTC,QAAUA,OACVA,QAAQyJ,UAAS/yB,KAAMo+B,MAAO,EAAG,SAEhCI,EAAUx+B,KAAQo+B,MAAM7V,OAAKvoB,KAASqpB,OAAOd,MAC7CkW,EAAWz+B,KAAQo+B,MAAM5V,QAAMxoB,KAASqpB,OAAOb,YAEhDuI,UAAS/wB,KAAQspB,QAAQoV,aAAa,EAAG,EAAGF,EAAYC,QACxDP,OAAMl+B,KAAQqpB,OAAOd,MAAQiW,OAC7BL,OAAMn+B,KAAQqpB,OAAOb,OAASiW,EAC/BF,GAAMlT,GAAKrrB,KAAMqpB,OAAMrpB,KAAOspB,SAGtC/W,cAAcH,EAAGC,UACTD,EAAI,IAAGA,EAAI,GACXC,EAAI,IAAGA,EAAI,GACXD,GAACpS,KAASuoB,QAAOnW,EAACpS,KAAQuoB,MAAQ,GAClClW,GAACrS,KAASwoB,SAAQnW,EAACrS,KAAQwoB,OAAS,IAEpCvrB,EAAC+C,KAAO+wB,UAAUhX,KAAS,EAAJ1H,EAAKrS,KAAQ+wB,UAAUxI,MAAY,EAAJnW,GACtDlV,EAAC8C,KAAO+wB,UAAUhX,KAAS,EAAJ1H,EAAKrS,KAAQ+wB,UAAUxI,MAAY,EAAJnW,EAAQ,GAC9DjV,EAAC6C,KAAO+wB,UAAUhX,KAAS,EAAJ1H,EAAKrS,KAAQ+wB,UAAUxI,MAAY,EAAJnW,EAAQ,GAC9DhV,EAAC4C,KAAO+wB,UAAUhX,KAAS,EAAJ1H,EAAKrS,KAAQ+wB,UAAUxI,MAAY,EAAJnW,EAAQ,IAItEG,WAAWH,EAAGC,UACH0L,EAAAjM,EAAA,CAAS9R,KAAM2+B,cAAcvsB,EAAGC,IAW3CE,iBAAiBH,EAAGC,SACVvV,EAAKkD,KAAQ2+B,cAAcvsB,EAAGC,UAC7BH,KAAKW,MAAM/V,EAAMG,EAAIH,EAAMG,EAAIH,EAAMI,EAAIJ,EAAMI,EAAIJ,EAAMK,EAAIL,EAAMK,GAAK,GAGnFoV,WAAWH,EAAGC,eAEEusB,iBAAiBxsB,EAAGC,GAAK,IAGzCE,qBAAqBH,EAAGC,eACRwsB,WAAW3sB,KAAK5V,MAAM8V,EAACpS,KAAQk+B,QAAShsB,KAAK5V,MAAM+V,EAACrS,KAAQm+B,SAG5E5rB,2BAA2BH,EAAGC,eACdusB,iBAAiB1sB,KAAK5V,MAAM8V,EAACpS,KAAQk+B,QAAShsB,KAAK5V,MAAM+V,EAACrS,KAAQm+B,SAGlF5rB,qBAAqBH,EAAGC,eACRysB,WAAW5sB,KAAK5V,MAAM8V,EAACpS,KAAQk+B,QAAShsB,KAAK5V,MAAM+V,EAACrS,KAAQm+B,SAG5E5rB,wBAAwBH,EAAGC,EAAGvL,EAAO,EAAGi4B,EAAM,EAAGriC,EAAM,WAE7CsiC,EAAa,IADHh/B,KAAQi/B,qBAAqB7sB,EAAGC,GACZnP,uBAC7BiS,EAAS4pB,EAAKriC,EAAK,EAAGoK,EAAMk4B,GAGvCzsB,oBAAoBH,EAAGC,EAAG+J,EAAGje,EAAGkmB,EAAM,SAC5BZ,EAAM,WACHloB,EAAI6W,EAAG7W,EAAI6W,EAAIgK,EAAG7gB,GAAK8oB,EAAG,IAAA,IACtB5I,EAAIpJ,EAAGoJ,EAAIpJ,EAAIlU,EAAGsd,GAAK4I,EAC5BZ,EAAO7gB,KAAI5C,KAAM4+B,iBAAiB1sB,KAAK5V,MAAMf,EAACyE,KAAQk+B,QAAShsB,KAAK5V,MAAMmf,EAACzb,KAAQm+B,iBAGpFtK,GAAgBpQ,GAG3BlR,kBAAkB8R,EAAK6a,EAAY,WAGzBzb,EAAM,UACJ8E,EAAKC,OAAEA,GAAMxoB,KAAUqpB,OAEzB8V,EAAO5W,EAAQlE,EACf+a,EAAO5W,EAASnE,UAEb9oB,EAAI,EAAGA,EAAI8oB,EAAK9oB,IAAC,IAAA,IACbob,EAAI,EAAGA,EAAI0N,EAAK1N,IAAC,OAChBvE,EAAI7W,EAAI4jC,EACR9sB,EAAIsE,EAAIyoB,EACJp/B,KAAMq/B,2BAA2BjtB,EAAGC,GAZ5B6sB,GAadzb,EAAO7gB,KAAKkgB,EAAM1Q,EAAGC,WAK1BoR,EAGXlR,cAAc0kB,EAAKsH,GAAO,QAEjBH,MAAK,IAAOC,WACZD,MAAMkB,OAAM,WACbnd,QAAQD,IAAGliB,KAAAA,KAAYspB,cAClBA,QAAQyJ,UAAS/yB,KAAMo+B,MAAO,EAAG,QACjCrN,UAAS/wB,KAAQspB,QAAQoV,aAAa,EAAG,EAAC1+B,KAAOo+B,MAAM7V,MAAKvoB,KAAOo+B,MAAM7V,YACzE2V,OAAMl+B,KAAQqpB,OAAOd,MAAKvoB,KAAQ+wB,UAAUxI,WAC5C4V,OAAMn+B,KAAQqpB,OAAOb,OAAMxoB,KAAQ+wB,UAAUvI,OAC9C+V,GAAMlT,GAAKrrB,KAAMqpB,OAAMrpB,KAAOspB,eAYjC8U,MAAMnH,IAAMA,UC/KzBsI,GAAiB1jC,EAAA,SAAAg1B,eAAyCh1B,EAAA,QAAA,CAA0B,QAAQ,eCK/E2jC,GAAW,EAAAjX,MAAMA,EAAKC,OAAEA,GAAUc,EAASjkB,EAAIvI,EAAK,QAAY2iC,EAAU,KAASjkC,EAAS,YAC/FkkC,EAAQxtB,KAAK5V,MAAMisB,EAAQkX,GAC3BE,EAAQztB,KAAK5V,MAAMksB,EAASiX,GAC5BG,EAAOF,EAAQ,EACfG,EAAOF,EAAQ,UACZvtB,EAAI,EAAGA,EAAImW,EAAOnW,GAAKstB,EAAK,IAAA,IACxBrtB,EAAI,EAAGA,EAAImW,EAAQnW,GAAKstB,EAAK,OAC5BvsB,EAAQ/N,EAAG+M,EAAGC,GACdytB,EAAOrqB,EAAYrC,GAAOF,OAAO1X,GAAUokC,GAC3CxqB,EAAKhD,EAAIwtB,EACTvqB,EAAKhD,EAAIwtB,EACTvqB,EAAKF,EAAK0qB,EAAK1tB,EACfmD,EAAKF,EAAKyqB,EAAKztB,EACrBiX,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAChCwsB,EAAQQ,UAAY,EACpBR,EAAQoC,YACRpC,EAAQ2C,OAAO7W,EAAIC,GACnBiU,EAAQ4C,OAAO5W,EAAIC,GACnB+T,EAAQ6C,WCJd4T,GAAgB,EAAV7tB,KAAKuB,GCFXusB,ICHM9tB,KAAKuB,GDGI,CAAI6V,EAASmF,EAAOlzB,EAAG48B,EAAY,EAAG3P,EAAS,WAC1DpW,EAAIqc,EAAM,GACVpc,EAAIoc,EAAM,GAChBnF,EAAQ4C,OAAO9Z,EAAI+lB,EAAW9lB,EAAI8lB,KEHhC8H,GAAe,CAAI3W,EAASmF,EAAOlzB,EAAG48B,EAAY,EAAG3P,EAAS,WAC1DpW,EAAIqc,EAAM,GACVpc,EAAIoc,EAAM,GAGhBnF,EAAQ4C,OAAO9Z,EAAI+lB,EAFH,EAEwB9lB,EAAI8lB,EAD5B,IAoCd+H,GAAc5W,GAAO,CAAM0O,EAAOC,EAAOn7B,EAAOqvB,GAAS,EAAOgM,EAAY,WAExEgI,EAAW5d,EAAmB,EAAG,GAEjC6d,EAAW,OAEbC,EAAOrI,EAAMx8B,OACbi4B,EAAQ,UAEHl4B,EAAI,EAAGA,EAAI4kC,EAAU5kC,IAAC,OACrBulB,EAAMyB,EAAmB,EAAG8d,EAAO,GAGzCD,EAAYx9B,KAAI,CACZo1B,MAAOA,EAAMvyB,MAAMguB,EAAOA,EAAQ3S,GAClCmX,MAAOA,EAAMxyB,MAAMguB,EAAOA,EAAQ3S,GAAKwf,YAE3C7M,GAAS3S,EAhBM,EAiBfuf,GAAQvf,EAjBO,EAmBnBsf,EAAY9V,SAASjtB,IApDF,EAAIisB,EAAS0O,EAAOC,EAAOn7B,EAAOqvB,GAAS,EAAOgM,EAAY,WAC3EC,EAAYJ,EAAM,GAAG,GACrBK,EAAYL,EAAM,GAAG,GAErBuI,GADUtI,EAAM,GAAG,GACTA,EAAM,GAAG,GAAKE,GAExBqI,EAASziB,EAAAjM,EAAA,CAAUhV,GAAOqI,QAC1BmzB,EAAWhP,EAAQiP,qBAAqB,EAAGF,EAAYF,EAAW,EAAGoI,EAAUpI,GACrFG,EAASG,aAAa,EAAG+H,EAAOj8B,eAChC+zB,EAASG,aAAa,GAAK+H,EAAOj8B,eAClC+zB,EAASG,aAAa,EAAG+H,EAAOr7B,QAAQnD,OAAO,IAAIL,SAAS,IAAI4C,eAEhE+kB,EAAQoC,YACRpC,EAAQ2C,OAAOmM,EAAWC,GAC1BL,EAAM1N,SAAO,CAAElO,EAAG7gB,KACd0kC,GAAgB3W,EAASlN,EAAG7gB,EAAG,EAAe,GAAZ48B,MAEtCF,EAAM3N,SAAO,CAAElO,EAAG7gB,KACd0kC,GAAgB3W,EAASlN,EAAG7gB,EAAG48B,EAAuB,GAAZA,MAE9C7O,EAAQ4C,OAAOkM,EAAWC,GAEtBlM,IACA7C,EAAQK,YAAc6W,EAAOx+B,OAAO,IAAIuC,cACxC+kB,EAAQQ,UAAY,IACpBR,EAAQ6C,UAGZ7C,EAAQM,UAAY0O,EACpBhP,EAAQsC,QAwBJ6U,CAAkBnX,EAASjsB,EAAE26B,MAAO36B,EAAE46B,MAAOn7B,EAAOqvB,EAAQgM,OClE9DuI,GAAS,CACXC,IAAK,EACLC,MAAO,EACPC,OAAQ,EACRR,KAAM,GAGJS,GAAW,CAAI1uB,EAAGC,IAAM,MAE1B0uB,GAAW,QAETC,eACU5rB,EAAGC,EAAG/C,QACTF,EAAIgD,OACJ/C,EAAIgD,OACJ/C,EAAIA,4BAIIF,OAAQC,OAAQC,yBAKzBF,EAACpS,KAAOoS,EACRC,EAACrS,KAAOqS,EACRC,EAACtS,KAAOsS,GAIhBC,mBACeyuB,GAAKhhC,KAAMoS,EAACpS,KAAOqS,EAACrS,KAAOsS,UAIjC2uB,gCAGGxa,EAAO0K,EAAQ,SAClB6E,KAAI,MAAS+K,UACb1X,OAAS5C,EAAM4C,YACfC,QAAU7C,EAAM6C,aAChBlX,EAAIqU,EAAMrU,OACVC,EAAIoU,EAAMpU,OACVkW,MAAQ9B,EAAM8B,WACdC,OAAS/B,EAAM+B,YACfpC,SAAW6M,GAAaxM,EAAK,WAAc,yBACxB1I,EAAAjM,EAAA,CAAUmhB,GAAaxM,EAAK,kBAAmB,eAClEya,QAAUjO,GAAaxM,EAAK,UAAaia,SACzCS,KAAOlO,GAAaxM,EAAK,QAAU,QACnC2a,UAAYnO,GAAaxM,EAAK,YAAeqa,SAC7C3P,SAAWA,uBAIJ/e,EAACpS,KAAQuoB,2BAITlW,EAACrS,KAAQwoB,oCAITD,MAAKvoB,KAAQkhC,QAAQb,KAAIrgC,KAAQkhC,QAAQN,oCAIzCpY,OAAMxoB,KAAQkhC,QAAQP,IAAG3gC,KAAQkhC,QAAQL,oCAI1CG,GAAKhhC,KAAMoS,EAAIF,KAAK5V,MAAK0D,KAAMuoB,MAAQ,GAACvoB,KAAQqS,EAAIH,KAAK5V,MAAK0D,KAAMwoB,OAAS,uDAI3DrjB,4BAGbsM,yBACQsM,EAAAjM,EAAA,CAAUL,GAGtCc,KAAKzV,GACDA,EAAQA,GAAKkD,KAASqhC,gBACtB1U,GAAU3sB,KAAMspB,QAAhBqD,CAAuB3sB,KAAOoS,EAACpS,KAAOqS,EAACrS,KAAOuoB,MAAKvoB,KAAOwoB,OAAQ1rB,GAGtEyV,aACS+W,QAAQgC,UAAStrB,KAAMoS,EAACpS,KAAOqS,EAACrS,KAAOuoB,MAAKvoB,KAAOwoB,QAG5DjW,QAAQ4lB,EAAWr7B,QACVwsB,QAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,mBACvC+kB,QAAQQ,UAAYqO,OACpB7O,QAAQoD,KAAI1sB,KAAMoS,EAACpS,KAAOqS,EAACrS,KAAOuoB,MAAKvoB,KAAOwoB,aAC9Cc,QAAQ6C,SAMjB5Z,kBACS+W,QAAQwM,aACPwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAI1sB,KAAMoS,EAACpS,KAAOqS,EAACrS,KAAOuoB,MAAKvoB,KAAOwoB,aACxCc,QAAQ6X,KAAKG,GAGtB/uB,kBACS+W,QAAQkY,UAGjBjvB,WAAWH,eACKA,EAAIA,EAGpBG,WAAWF,eACKA,EAAIA,EAGpBE,cAAckc,cACCuS,GAAKhhC,KAAMyhC,WAAWhT,EAAMrc,GAACpS,KAAQ0hC,WAAWjT,EAAMpc,IAGrEE,aAAakc,cACEuS,GAAMvS,EAAMrc,EAACpS,KAAQoS,EAAGqc,EAAMpc,EAACrS,KAAQqS,GAGtDE,kBAAkBovB,EAAY,eACpBC,EAAa,OACfnT,EAAK,IAAOuS,GACZze,EAAmBqf,EAAU5hC,KAAOuoB,MAAQqZ,GAC5Crf,EAAmBqf,EAAU5hC,KAAOwoB,OAASoZ,UAEjC,WAAZD,IACAlT,EAAK,IAAOuS,GACR3e,EAAyBuf,EAAU5hC,KAAOuoB,MAAQqZ,GAClDvf,EAAyBuf,EAAU5hC,KAAOwoB,OAASoZ,KAGpDnT,EAGXlc,SAASkc,UACEA,EAAMrc,GAACpS,KAASoS,GAAKqc,EAAMrc,GAACpS,KAASsV,IAAMmZ,EAAMpc,GAACrS,KAASqS,GAAKoc,EAAMpc,GAACrS,KAASuV,GAG3FhD,UAAUkc,eACOoT,SAASpT,GAG1Blc,UAAUkc,SACAqT,EAAE,IAAOd,GAAMvS,EAAMrc,EAAGqc,EAAMpc,UAChCoc,EAAMrc,EAACpS,KAAQoS,IAAG0vB,EAAG1vB,EAACpS,KAAQoS,GAC9Bqc,EAAMrc,EAACpS,KAAQsV,KAAIwsB,EAAG1vB,EAACpS,KAAQsV,IAC/BmZ,EAAMpc,EAACrS,KAAQqS,IAAGyvB,EAAGzvB,EAACrS,KAAQqS,GAC9Boc,EAAMpc,EAACrS,KAAQuV,KAAIusB,EAAGzvB,EAACrS,KAAQuV,IAC5BusB,EAGXvvB,UAAUkc,SACAqT,EAAE,IAAOd,GAAMvS,EAAMrc,EAAGqc,EAAMpc,UAChCoc,EAAMrc,EAACpS,KAAQoS,IAAG0vB,EAAG1vB,EAACpS,KAAQsV,IAC9BmZ,EAAMrc,EAACpS,KAAQsV,KAAIwsB,EAAG1vB,EAACpS,KAAQoS,GAC/Bqc,EAAMpc,EAACrS,KAAQqS,IAAGyvB,EAAGzvB,EAACrS,KAAQuV,IAC9BkZ,EAAMpc,EAACrS,KAAQuV,KAAIusB,EAAGzvB,EAACrS,KAAQqS,GAC5ByvB,EAGXvvB,mBAAsBmW,UACZqZ,EAAQrZ,EAASzJ,OACnByJ,EAAStW,EAAI2vB,EAAK/hC,KAAQsV,KAC1BoT,EAAStW,EAACpS,KAAQsV,GAAKysB,EACvBrZ,EAASC,oBAETD,EAAStW,EAAI2vB,EAAK/hC,KAAQoS,IAC1BsW,EAAStW,EAACpS,KAAQoS,EAAI2vB,EACtBrZ,EAASC,oBAETD,EAASrW,EAAI0vB,EAAK/hC,KAAQuV,KAC1BmT,EAASrW,EAACrS,KAAQuV,GAAKwsB,EACvBrZ,EAASE,oBAETF,EAASrW,EAAI0vB,EAAK/hC,KAAQqS,IAC1BqW,EAASrW,EAACrS,KAAQqS,EAAI0vB,EACtBrZ,EAASE,qBAIjBrW,iBAAoBmW,UACVqZ,EAAQrZ,EAASzJ,OACnByJ,EAAStW,EAAI2vB,EAAK/hC,KAAQsV,KAC1BoT,EAAStW,EAACpS,KAAQoS,EAAI2vB,GAEtBrZ,EAAStW,EAAI2vB,EAAK/hC,KAAQoS,IAC1BsW,EAAStW,EAACpS,KAAQsV,GAAKysB,GAEvBrZ,EAASrW,EAAI0vB,EAAK/hC,KAAQuV,KAC1BmT,EAASrW,EAACrS,KAAQqS,EAAI0vB,GAEtBrZ,EAASrW,EAAI0vB,EAAK/hC,KAAQqS,IAC1BqW,EAASrW,EAACrS,KAAQuV,GAAKwsB,2MC/M7BC,GvCoGkB,EAAIC,EAAiBxO,EAAOtB,WAE1C+P,EAAcD,EACdE,EAASjwB,KAAKgQ,IAAIuR,GAElBlK,GADSrX,KAAKgQ,IAAIiQ,GACAgQ,IAAWD,EAJb,GAKhB5qB,EAAM,WACH/b,EAAI,EAAGA,EAAI0mC,EAAiB1mC,IACjC+b,EAAO1U,KAAKsP,KAAKkwB,IAAID,EAAS5Y,GAAShuB,EAPrB,YAStB+b,EAAO1U,KAAKuvB,GACL7a,GuC/GO+qB,CAAY,GAAI,EAAG,QAEjCC,IAAW,QAEFC,GAA6B,CAAIjlC,GAAI,KAC9CglC,GAAWhlC,GAUTklC,GAAiB,CAAIpwB,EAAGC,EAAG7W,EAAQ4X,KAAK,CAC1CgC,GAAIhD,EACJiD,GAAIhD,EACJiD,GAAIlD,EAAI5W,EACR+Z,GAAIlD,EAAI7W,EAAS0W,KAAKyD,IAAIvC,KAqBjBqvB,GAAenZ,GAAO,CAC/BlX,EACAC,EACAkW,EACAC,EACA1rB,EAAK,QACL0E,EAAS,EACTwmB,EAAI,WACJtV,EAAO,QAEHlR,GAAU,EAAC,UAEX8gC,GAAQ,CACRhZ,EAAQwM,aACFwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAKta,EAAGC,EAAGkW,EAAOC,GACzBc,EAAQ6X,KAAKG,SAGXoB,EAAUna,EAAQ,EAClBoa,EAAc5kB,EAAAjM,EAAA,CAAUhV,GAAOyH,cAG/Bq+B,EAAe,WAAJ5a,EAAoB,IAAM,GACrC6a,EAAUb,GAAU9vB,KAAK5V,MAAMkF,GAAU,GAAK2T,EAAS,EAAG,GAAI,EAAGytB,EAAUphC,GAAUkR,EAGrFowB,EAAqB,GADZ5wB,KAAKxV,IAAI6rB,EAAOC,WAGtBjtB,EAAI,EAAGA,EAAIsnC,EAAStnC,IAAC,KACtBwnC,EAAKxgB,EAAmBnQ,EAAGA,EAAImW,GAC/Bya,EAAKzgB,EAAmBlQ,EAAGA,EAAImW,GAC/B1hB,EAAOyb,EAAmBmgB,EAASna,MAEvCe,EAAQK,YAAcgZ,EACtBrZ,EAAQQ,UAdM,EAedR,EAAQoC,YAEA,YAAJ1D,EACAsB,EAAQqC,IAAIoX,EAAIC,EAAIl8B,EAAM,EAAa,EAAVoL,KAAKuB,IAAQ,WAC/B,aAAJuU,EACP+a,EAAK1gB,EAAyBjQ,EAAGA,EAAImW,GACrCya,EAAK3gB,EAAyBhQ,EAAGA,EAAImW,GACrC1hB,EAAOyb,EAAmB,EAAGugB,GAC7BxZ,EAAQqC,IAAIoX,EAAIC,EAAIl8B,EAAM,EAAa,EAAVoL,KAAKuB,IAAQ,WAC/B,WAAJuU,EAAiB,OAClBib,EAAMF,EAAKj8B,EAAO0b,IAClB0gB,EAAMF,EAAKl8B,EAAO0b,IACxB8G,EAAQ2C,OAAO8W,EAAIC,GACnB1Z,EAAQ4C,OAAO+W,EAAKC,GAGxB5Z,EAAQ6C,SAERmW,IACAhZ,EAAQkY,WAIH2B,GAAsB7Z,GAAO,CAAMlX,EAAGC,EAAGkW,EAAOC,EAAQ1rB,EAAK,QAAY0E,EAAS,EAAGkR,EAAO,QACjGlR,GAAU,EAAC,aAGTshC,EAAqB,GADZ5wB,KAAKxV,IAAI6rB,EAAOC,GAKzBqa,EAFa1tB,EAAS,EAAG,GAAI,GAAI,IAAK3T,GAAUkR,EAGhD0wB,EAAUN,EAAYD,EAEtBQ,EAAY1vB,EAAM,MAEpB2uB,GAAQ,CACRhZ,EAAQwM,aACFwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAKta,EAAGC,EAAGkW,EAAOC,GACzBc,EAAQ6X,KAAKG,SAGXqB,EAAc5kB,EAAAjM,EAAA,CAAUhV,GAAOyH,cAGrC+kB,EAAQK,YAAcgZ,EACtBrZ,EAAQQ,UAHU,QAKZwZ,EAAUtB,GAAU9vB,KAAK5V,MAAMkF,GAAU,GAAK2T,EAAS,EAAG,GAAI,EAAG,GAAI3T,GAAUkR,UAC5ErV,EAAI,EAAGA,EAAIimC,EAASjmC,IAAC,OACpBkmC,EAAKlhB,EAAyBjQ,EAAGA,EAAImW,GACrCib,EAAKnhB,EAAyBhQ,EAAGA,EAAImW,OACvCpV,EAAQkP,EAAoB,EAAG3O,GAC/BsL,EAAS,EAEbqK,EAAQoC,YACRpC,EAAQ2C,OAAOsX,EAAIC,WAEVjoC,EAAI,EAAGA,EAAIsnC,EAAStnC,IAAC,CAC1B0jB,GAAUmkB,EACVhwB,GAASiwB,QACHI,EAAKF,EAAKtkB,EAAS/M,KAAKwD,IAAItC,GAC5BswB,EAAKF,EAAKvkB,EAAS/M,KAAKyD,IAAIvC,GAClCkW,EAAQ4C,OAAOuX,EAAIC,GAGvBpa,EAAQ6C,SAERmW,IACAhZ,EAAQkY,WAIHmC,GAAsBra,GAAO,CAAMlX,EAAGC,EAAGkW,EAAOC,EAAQ1rB,EAAK,QAAY0E,EAAS,EAAG4R,QAC1F5R,GAAU,EAAC,UAEX8gC,GAAQ,CACRhZ,EAAQwM,aACFwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAKta,EAAGC,EAAGkW,EAAOC,GACzBc,EAAQ6X,KAAKG,SAGXqB,EAAc5kB,EAAAjM,EAAA,CAAUhV,GAAOyH,cAG/Bm4B,EAAUnU,EAAQpT,EAAS,EAAG,GAAI,EAAGoT,EAAQ,EAAG/mB,GAChDm7B,EAAUnU,EAASrT,EAAS,EAAG,GAAI,EAAGqT,EAAS,EAAGhnB,GAExD8nB,EAAQK,YAAcgZ,EACtBrZ,EAAQQ,UAAY,EACpBR,EAAQS,QAAO,QAEf3W,OAAkB0K,IAAV1K,EAAsBlB,KAAKuB,GAAK,EAAIL,UAEnC7X,EAAI,EAAGA,EAAIgtB,EAAOhtB,GAAKmhC,EAAO,IAAA,IAC1B/lB,EAAI,EAAGA,EAAI6R,EAAQ7R,GAAKgmB,EAAO,OAE9BoG,EAAK3wB,EAAIiQ,EAAyB9mB,EAAGA,EAAImhC,GACzCsG,EAAK3wB,EAAIgQ,EAAyB1L,EAAGA,EAAIgmB,GAEzCrP,EAASkV,GAAkBO,EAAIC,EAjBhC,EAiB0C5vB,GAEzC6vB,EAAM3V,EAAOhY,GACb4tB,EAAM5V,EAAO/X,GACnB+T,EAAQoC,YACRpC,EAAQ2C,OAAO8W,EAAIC,GACnB1Z,EAAQ4C,OAAO+W,EAAKC,GACpB5Z,EAAQ6C,SAIZmW,IACAhZ,EAAQkY,WAMHoC,GAAqBta,GAAO,CACrClX,EACAC,EACAkW,EACAC,EACA1rB,EAAK,QACL0E,EAAS,EACT4R,EAAQ,EACRV,EAAO,QAEHlR,GAAU,EAAC,UAEX8gC,GAAQ,CACRhZ,EAAQwM,aACFwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAKta,EAAGC,EAAGkW,EAAOC,GACzBc,EAAQ6X,KAAKG,SAGX7d,EAAM,GAENkf,EAAc5kB,EAAAjM,EAAA,CAAUhV,GAAOyH,cAI/Bs/B,EAAarb,EAAShnB,EAAS,MAEjCsiC,EAAQ,QACNC,EAAQvb,EAASqb,EAGjBG,EAAOH,EAAa,EAPXtb,EAAQrW,KAAKyD,IAAIvC,GAOO,MACnC6wB,EAAc,EACd3W,EAAM,CAAKlY,GAAIhD,EAAGiD,GAAIhD,EAAGiD,GAAIlD,EAAGmD,GAAIlD,GACpC6xB,EAAU,CAAK9uB,GAAIhD,EAAGiD,GAAInD,KAAK1V,IAAI6V,EAAGA,EAAI2xB,GAAO1uB,GAAIlD,EAAGmD,GAAIrD,KAAK1V,IAAI6V,EAAGA,EAAI2xB,YAIvEzoC,EAAI,EAAGA,EAAIwoC,EAAOxoC,IACvB+xB,EAASkV,GAAkBpwB,EAAG4xB,EAAO3xB,EAAIyxB,EAAOvb,EAAOnV,GAIzC,IAAV0wB,IAEIxW,EAAOjY,GAAKhD,GACZoR,EAAO7gB,KAAI,CAAE0qB,EAAOlY,GAAI/C,IAE5BoR,EAAO7gB,KAAI,CAAE0qB,EAAOlY,GAAIkY,EAAOjY,MAGf,IAAhB4uB,GAEAxgB,EAAO7gB,KAAI,CAAE0qB,EAAOhY,GAAIgY,EAAO/X,KAC/BkO,EAAO7gB,KAAI,CAAE0qB,EAAOhY,GAAIgY,EAAO/X,GAAKsuB,MAGpCpgB,EAAO7gB,KAAI,CAAE0qB,EAAOlY,GAAIkY,EAAOjY,KAC/BoO,EAAO7gB,KAAI,CAAE0qB,EAAOlY,GAAIkY,EAAOjY,GAAKwuB,KAGxCC,GAASD,EACTI,IAAe,EACfC,EAAa5W,EAIb8F,GAAK3P,GAAQ,GAAKpR,EAAImW,IACtB4K,GAAK3P,GAAQ,GAAKpR,EAAImW,GAlPf,CAAIc,GAAO,CAAM7F,EAAQ3mB,EAAK,QAAYyrB,EAAQ,KAC7De,EAAQoC,YACRpC,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACvC+kB,EAAQQ,UAAYvB,EACpBe,EAAQS,QAAO,OACfT,EAAQU,SAAQ,QAEhBvG,EAAO6G,SAAO,CAAEgD,EAAQ/xB,KACV,IAANA,EACA+tB,EAAQ2C,OAAOqB,EAAO,GAAIA,EAAO,IAEjChE,EAAQ4C,OAAOoB,EAAO,GAAIA,EAAO,OAGzChE,EAAQ6C,UAuORgY,CAAU7a,EAAV6a,CAAmB1gB,EAAQkf,EAjDT,GAmDdL,IACAhZ,EAAQkY,kBCpRhB4C,GAAiBvoC,EAAA,SAAAg1B,eAAyCh1B,EAAA,QAAA,CAA0B,QAAQ,eC4C/EwoC,GAAa,CAAIC,EAAOC,EAAM,QAC3B,IAARA,EAAS,OAASD,QAChBE,EAAM,WAEHjpC,EAAI,EAAGA,EAAI+oC,EAAM9oC,OAAS,EAAGD,IAAC,OAC7BkpC,EAAKH,EAAM/oC,GACXmpC,EAAKJ,EAAM/oC,EAAI,GACfopC,EAAMF,EAAG,GACTG,EAAMH,EAAG,GACTI,EAAMH,EAAG,GACTI,EAAMJ,EAAG,GAETK,EAAC,CAAI,IAAOJ,EAAM,IAAOE,EAAK,IAAOD,EAAM,IAAOE,GAClDE,EAAC,CAAI,IAAOL,EAAM,IAAOE,EAAK,IAAOD,EAAM,IAAOE,GACxDN,EAAO5hC,KAAKmiC,GACZP,EAAO5hC,KAAKoiC,UAGD,IAART,EAAYC,EAASH,GAAcG,EAAQD,EAAM,IAK/CU,GAAc,CAAI7nC,EAAGD,EAAGsU,EAAG7Q,EAAGvB,EAAGC,EAAGrC,EAAGI,WAC1C6nC,GAAOzzB,EAAIrU,IAAMC,EAAIiC,IAAMrC,EAAIoC,IAAMuB,EAAIzD,MACnC,IAAR+nC,EAAS,OACF,QAELC,IAAW9nC,EAAIiC,IAAMrC,EAAIG,IAAMiC,EAAIpC,IAAMI,EAAIF,IAAM+nC,EACnDE,IAAUjoC,EAAIyD,IAAM3D,EAAIG,IAAMqU,EAAIrU,IAAMC,EAAIF,IAAM+nC,SACjDC,EAAS,GAAKA,EAAS,GAAKC,EAAQ,GAAKA,EAAQ,SCC/CC,eACGC,EAAY7e,QACf8e,eAAiBD,OACjBE,aAAeziB,GAA6BuiB,QAC5CG,OAAM,QAGNC,aAAezS,GAAaxM,EAAK,gBAAkB,QAGnDkf,QAAU1S,GAAaxM,EAAK,WAAa,QAIzCmf,eAAiB3S,GAAaxM,EAAK,iBAAoB,QAEvDof,qBAAuB5S,GAAaxM,EAAK,uBAA0B,SAEnEqf,mBAAqB7S,GAAaxM,EAAK,qBAAwB,QAG/Dsf,gBAAkB9S,GAAaxM,EAAK,kBAAqB,SAEzDuf,aAAe/S,GAAaxM,EAAK,eAAkB,QAEnDwf,eAAiBhT,GAAaxM,EAAK,iBAAoB,QAGvDyf,iBAAmBjT,GAAaxM,EAAK,wBAAsB3I,QAG3DqoB,UAAYlT,GAAaxM,EAAK,YAAe,QAE7C2f,gBAAkBnT,GAAaxM,EAAK,kBAAqB,QAEzD4f,gBAAkBpT,GAAaxM,EAAK,kBAAsC,GAAnBzmB,KAAOmmC,gBAG9DG,UAAYrT,GAAaxM,EAAK,YAAazmB,KAAOmmC,gBAElDI,oBAAsBr0B,KAAKsB,KAAiC,IAA7BxT,KAAM6lC,2BAKrCW,UAAYvT,GAAaxM,EAAK,YAAa,YAE3CggB,QAAUxT,GAAaxM,EAAK,eAAa3I,QAEzC4oB,oBAAsBzT,GAAaxM,EAAK,sBAAyB,QAEjEkgB,cAAgB1T,GAAaxM,EAAK,gBAAmB,SAGrDmgB,MAAQ,OACRC,WAAa5T,GAAaxM,EAAK,aAAgB,SAC/CqgB,kBAAoB7T,GAAaxM,EAAK,oBAAuB,QAC7DsgB,QAAO,QACPC,SAAU,sBAIR/jB,GAAuBjjB,KAAMwlC,cAGxCjzB,aAAagxB,EAAI0D,QACJL,MAAK5mC,KAAQ8mC,mBAAsB,SACnCC,QAAQviB,QAAO,CAAGihB,OAAQlC,UAAI0D,SAC1BF,QAAQvrC,OAAMwE,KAAQ6mC,aAAU7mC,KAChC+mC,QAAO/mC,KAAQ+mC,QAAQthC,MAAM,EAACzF,KAAO6mC,cAMtDt0B,kBAAkBkR,SACRyjB,EAAMzjB,EAAOE,QAAM,CAAEwjB,EAAO1Y,EAAOlzB,WAC/B6rC,EAAO7rC,EAAI,EACX8rC,EAAO9rC,EAAI,ED5CD,IAAImpC,EAAI4C,EAAIC,EAGbnqC,EAAGD,EAAGsU,SC0CjB21B,GAAQ,GAAKC,EAAO5jB,EAAOjoB,SAC3B2rC,ID9CgBzC,EC8CSjhB,EAAO2jB,GD9CZE,EC8CmB7Y,ED9Cf8Y,EC8CsB9jB,EAAO4jB,GDzCtD,GAFYjqC,EAEMsnC,EAFAjzB,EAEQ81B,IAFXpqC,EAEOmqC,GAFKl1B,EAAIhV,EAAEgV,IAAMX,EAAEY,EAAIjV,EAAEiV,IAAMlV,EAAEkV,EAAIjV,EAAEiV,IAAMZ,EAAEW,EAAIhV,EAAEgV,KAG3E+Q,GAAcuhB,EAAI4C,GAClBnkB,GAAcmkB,EAAIC,GAClBpkB,GAAcokB,EAAI7C,MCwCdyC,IACR,UACIvxB,EAAiBsxB,EAAMzjB,EAAOjoB,QAIzC+W,mBAAmBhX,EAAGkoB,SACZ3C,EAAG9gB,KAAQ6lC,yBACbrpC,EAAM,EACNE,EAAM+mB,EAAOjoB,cAOjBgB,EAAMjB,EAAIulB,EAAM,EAAIvlB,EAAIulB,EACxBpkB,EAAMnB,EAAIkoB,EAAOjoB,OAASslB,EAAM2C,EAAOjoB,OAASD,EAAIulB,EAC7C2C,EAAOhe,MAAMjJ,EAAKE,GAQ7B6V,mBAAmBkc,EAAOlzB,EAAGisC,SACnBC,EAASznC,KAAQ0nC,kBAAiB1nC,KAAM2nC,mBAAmBpsC,EAAGisC,IAASxnC,KAAU8lC,mBACjF8B,EAAiBH,EAAY,EAAI,GAAI,MAEvCI,EAAYL,EAAUjsC,EAAI,IAEzBssC,GAAS7nC,KAAS2lC,UAEnBkC,EAAYL,EAAU,UAGpBM,EAAUD,EAAUp1B,IAAIgc,GACxBsZ,EAAUD,EAAQzb,QAAU,OAASub,EACrCI,EAAYvyB,EAAYsyB,GAAS70B,OAAOhB,KAAKX,IAAIk2B,IAEjDrqC,EAAI0qC,EAAQrgB,YACZtqB,EAAI6qC,EAAUvgB,gBAChBwgB,EAAU7qC,EAAE8I,IAAI/I,EAAC6C,KAAO+lC,yBAGnBU,QAAO,OACNlnC,EAACS,KAAQymC,QAAQhY,EAAMrc,EAAGqc,EAAMpc,MAEpB,aAATm0B,WAAuBt0B,KAAKX,IAAIhS,GAACS,KAAS0mC,oBAAmB,OAE5Dz1B,EAAIwE,EAAYlW,GACtB0oC,EAAUA,EAAQ/hC,IAAI+K,EAACjR,KAAO2mC,uBACT,kBAATH,aAERjnC,EAAI,EAAC,OACC0R,EAAIwE,EAAYlW,GACtB0oC,EAAUA,EAAQ/hC,IAAI+K,EAACjR,KAAO2mC,oBAG9BsB,EAAO,IAAO91B,EAAO,EAAG,WAEP,kBAATq0B,UAAwB,OAC9B0B,EAAS/yB,EAAS,EAACnV,KAAO0mC,oBAAqB,EAAG,EAAG,EAAGx0B,KAAKX,IAAIhS,IACvE0oC,EAAUA,EAAQ/0B,OAAOg1B,gBAKxBlC,eACLiC,EAAUA,EAAQ/0B,OAAMlT,KAAMgmC,oBAIzBC,eAAiB,IACtBgC,EAAUA,EAAQE,MAAKnoC,KAAMimC,iBAG1BgC,EAIX11B,cAAckR,SAGJ2kB,EAD8B,IAA3BpoC,KAAQ4lC,eAAuB,EAAI1zB,KAAKxV,IAAI4X,EAAWmP,EAAOjoB,OAAMwE,KAAO4lC,gBAAiB,GAG/FyC,EAAaD,EACbE,EAAmB7kB,EAAOhe,MAAM,EAAG4iC,GACnCE,EAAW9kB,EAAOjoB,OAAS4sC,EAC3BI,EAAiB/kB,EAAOhe,MAAM8iC,EAAU9kB,EAAOjoB,QAG/CitC,EADehlB,EAAOhe,MAAM4iC,EAAYE,GACRlpB,KAAG,CAAEoP,EAAOlzB,WACxCmtC,EAAS1oC,KAAQ2oC,mBAAmBla,EAAOlzB,EAAI8sC,EAAY5kB,OAC7DmlB,EAAWna,EAAM9b,IAAI+1B,WAGhBxC,iBAAgB,OACf2C,EAAU7oC,KAAQkmC,iBAAiBzX,EAAOia,GAChDE,EAAWA,EAASj2B,IAAIk2B,UAErBD,YAGJN,EAAiB9iC,OAAOijC,GAAkBjjC,OAAOgjC,GAG5Dj2B,eAAekR,OACPglB,EAAgB,UAEhBhlB,EAAOjoB,OAAS,EAChBitC,EAAmBhlB,EAAOpE,KAAG,CAAEoP,EAAOlzB,WAC5BmtC,EAAS1oC,KAAQ2oC,mBAAmBla,EAAOlzB,EAAGkoB,OAChDmlB,EAAWna,EAAM9b,IAAI+1B,WAGhBxC,iBAAgB,OACf2C,EAAU7oC,KAAQkmC,iBAAiBzX,EAAOia,GAChDE,EAAWA,EAASj2B,IAAIk2B,UAErBD,WAIN5B,SAAU,EACf7kB,QAAQD,IAAG,8BAGRumB,EAGXl2B,eAAehX,EAAGkoB,QACLkiB,cAGHmD,EAAK9oC,KAAQ4lC,gBAAkB,SAC9BrqC,EAAIutC,GAASvtC,EAAIkoB,EAAOjoB,OAASstC,EAM5Cv2B,oBAAoBkR,UACTA,EAAOE,QAAM,CAAEC,EAAK6K,EAAOlzB,QACpB,IAANA,GAAYA,IAAMkoB,EAAOjoB,OAAS,IAACwE,KAAU2lC,eAC7C/hB,EAAIhhB,KAAK6rB,GACF7K,MAGPyjB,EAAO5jB,EAAOloB,EAAI,QAEboqC,UAAY0B,IAAMA,EAAO5jB,EAAO,UAEnC6K,EAAWnL,GAAcsL,EAAO4Y,MAElC/Y,EAAQtuB,KAAQmmC,UAAS,OAEnB4C,EAAkB72B,KAAK5V,MAAOgyB,EAAQtuB,KAAQmmC,UAASnmC,KAASomC,iBAAmB,UAChF3qB,EAAI,EAAGA,EAAIstB,EAAiBttB,IAAC,OAC5Bqc,EAAS,EAAIiR,EAAmBttB,EAChCutB,EAAK9zB,EAAKuZ,EAAMrc,EAAGi1B,EAAKj1B,EAAG0lB,GAC3BmR,EAAK/zB,EAAKuZ,EAAMpc,EAAGg1B,EAAKh1B,EAAGylB,GACjClU,EAAIhhB,KAAI,IAAKuP,EAAO62B,EAAIC,eAEhBC,eAAe3tC,EAAGkoB,IAAW6K,EAAQtuB,KAAQqmC,iBAGzDziB,EAAIhhB,KAAK6rB,UAEN7K,QAIfrR,eAAekR,SACL0lB,EAAS,WACN5tC,EAAI,EAAGA,EAAIkoB,EAAOjoB,OAAQD,IAAC,OAC1BkzB,EAAQhL,EAAOloB,GACrB4tC,EAAUvmC,KAAK6rB,WACN9X,EAAIpb,EAAGob,EAAI8M,EAAOjoB,OAAQmb,IAAC,SAEtBgvB,SAAiB,IAANpqC,GAAkB,IAANob,GAAWpb,IAAMkoB,EAAOjoB,OAAS,GAAKmb,IAAM8M,EAAOjoB,OAAS,EAAC,eAGxF6rC,EAAO5jB,EAAO9M,MACPwM,GAAcsL,EAAO4Y,GAG1BrnC,KAAQsmC,WAAap0B,KAAKX,IAAIhW,EAAIob,GAAC3W,KAASumC,oBAAmB,CACnE4C,EAAUvmC,KAAKykC,OACX+B,EAAWnmB,GAAwBQ,EAAOhe,MAAMlK,EAAGob,IACvDyyB,EAAW/E,GAAc7gB,GAAe4lB,EAAU,GAAI,QACjD3D,OAAO7iC,KAAI,CAAG6gB,OAAQ2lB,EAAUC,YAAaD,EAAS5tC,SAE3DD,EAAIob,WAITwyB,EAKX52B,aAAa+2B,UACFA,EAAS3lB,QAAM,CAAE4lB,EAAOC,WACrBJ,EAAWI,EAAM/lB,UACnB2lB,EAAS5tC,OAAS,EAAC,OACbiuC,EAAY,EAClBD,EAAM/lB,OAAS2lB,EAASzlB,QAAM,CAAE+lB,EAAOjb,EAAOlzB,KAG3ByE,KAAQwlC,aAAa7hB,QAAM,CAAEC,EAAK+lB,EAAIluB,SAC5CmI,EAAG,OACEke,EAAE9hC,KAAQwlC,aAAa/pB,EAAI,GAC3BmuB,EAAMR,EAAS7tC,EAAI,GACrBumC,GAAM8H,IACNhmB,EAAMqhB,GAAe0E,EAAGv3B,EAAGu3B,EAAGt3B,EAAGyvB,EAAG1vB,EAAG0vB,EAAGzvB,EAAGoc,EAAM,GAAIA,EAAM,GAAImb,EAAI,GAAIA,EAAI,YAG9EhmB,KACR,IAIKroB,EAAIkuC,GAAaluC,EAAIiuC,EAAM/lB,OAAOjoB,OAASiuC,GAC3CC,EAAM9mC,KAAK6rB,GAIZib,QAEXH,EAAM3mC,KAAK4mC,UAERD,QAKfh3B,eAEay0B,QAAO,KAERmC,EAASnpC,KAAQ2lC,QAAO3lC,KACjB6pC,eAAc7pC,KAAMwlC,cAAYxlC,KAChC8pC,cAAa9pC,KAAMwlC,cAC9B2D,EAASnpC,KAAQ+pC,oBAAoBZ,QAC5BzD,eAAcyD,EAASnpC,KAAQgqC,eAAeb,SAElD3D,aAAe2D,OAEXzD,eAAY1lC,KAAOylC,OAAMzlC,KAAQiqC,aAAYjqC,KAAMylC,cAGvDyE,aAAYlqC,KAAMylC,OAAQxiB,GAAuBjjB,KAAMwlC,oBACvDoB,kBACOlB,eAAY1lC,KAAOylC,OAAMzlC,KAAQiqC,aAAYjqC,KAAMylC,gBAQ9D0E,GAAiB,CAAI/qC,EAAGgrC,IAAG,CAAM/qC,EAAG0T,WACvCs3B,EAAOn4B,KAAKX,IAAI64B,EAAM/qC,EAAEgT,OAC1BA,EAAI8C,EAAS,EAAGi1B,EAAM,EAAG,EAAGhrC,EAAGirC,UAC/BhrC,EAAEgT,EAAI+3B,IACN/3B,IAAK,OAEEF,EAAO,EAAGE,ICvanBi4B,GAAK,CAAIl4B,EAAGC,KAAC,GAAQD,IAAGC,IACxBk4B,GAAQ,CAAIntC,EAAGD,IAAM+U,KAAK5V,OAAOa,EAAIC,GAAK,GAAKA,EAM/CotC,GAAO,CAAIptC,EAAGD,KAAO,GAAKC,EAAI,KAAOD,EAAI,GAAKC,EAAI,UAU3CqtC,eACGr4B,EAAGC,EAAGkW,EAAOC,EAAQkiB,QACxBt4B,EAAIA,OACJC,EAAIA,OACJ+J,EAAImM,OACJpqB,EAAIqqB,OACJlT,GAAKlD,EAAImW,OACThT,GAAKlD,EAAImW,OACTwE,GAAKud,GAAQvqC,KAAMoS,EAACpS,KAAOsV,SAC3B2X,GAAKsd,GAAQvqC,KAAMqS,EAACrS,KAAOuV,SAG3Bm1B,QAAUA,GAAO,CAAK,EAAG,EAAG,EAAG,QAE/BvZ,SAAQ,QAERwZ,MAAQ,OACRvzB,MAAQ,2BA9BQha,EAoCjB8U,KAAKsB,KAAIxT,KAAM0qC,QAAQ,IApCHvtC,EAqCpB+U,KAAKsB,KAAIxT,KAAM0qC,QAAQ,IArCAj5B,EAsCvBS,KAAKsB,KAAIxT,KAAM0qC,QAAQ,IAtCG9pC,EAuC1BsR,KAAKsB,KAAIxT,KAAM0qC,QAAQ,IAvCa,EAAJttC,EAAY,EAAJD,EAAY,EAAJsU,EAAY,EAAJ7Q,EAA3C,IAAIxD,EAAGD,EAAGsU,EAAG7Q,kCA4CjBgqC,SAAO5qC,KAAS0qC,QAAQ,GAAC1qC,KAAS0qC,QAAQ,GAAC1qC,KAAS0qC,QAAQ,GAAC1qC,KAAS0qC,QAAQ,IAAM,sBAI1FJ,GAAKtqC,KAAMgtB,GAAEhtB,KAAOitB,wBAIpBqd,GAAKtqC,KAAMgtB,GAAEhtB,KAAOqS,yBAIpBi4B,GAAKtqC,KAAMsV,GAAEtV,KAAOitB,2BAIpBqd,GAAKtqC,KAAMgtB,GAAEhtB,KAAOuV,yBAIpB+0B,GAAKtqC,KAAMoS,EAACpS,KAAOitB,yBAInBqd,GAAMp1B,EAAIlV,KAAMoS,EAACpS,KAAOsV,GAAIk1B,GAAOxqC,KAAM0qC,QAAQ,GAAC1qC,KAAQ0qC,QAAQ,KAAC1qC,KAAUqS,0BAI7Ei4B,GAAKtqC,KAAMsV,GAAIJ,EAAIlV,KAAMqS,EAACrS,KAAOuV,GAAIi1B,GAAOxqC,KAAM0qC,QAAQ,GAAC1qC,KAAQ0qC,QAAQ,8BAI3EJ,GAAMp1B,EAAIlV,KAAMoS,EAACpS,KAAOsV,GAAIk1B,GAAOxqC,KAAM0qC,QAAQ,GAAC1qC,KAAQ0qC,QAAQ,KAAC1qC,KAAUuV,0BAI7E+0B,GAAKtqC,KAAMoS,EAAG8C,EAAIlV,KAAMqS,EAACrS,KAAOuV,GAAIi1B,GAAOxqC,KAAM0qC,QAAQ,GAAC1qC,KAAQ0qC,QAAQ,6BAI1EJ,GAAKtqC,KAAMoS,EAACpS,KAAOqS,0BAInBi4B,GAAKtqC,KAAMsV,GAAEtV,KAAOqS,0BAIpBi4B,GAAKtqC,KAAMsV,GAAEtV,KAAOuV,2BAIpB+0B,GAAKtqC,KAAMoS,EAACpS,KAAOuV,IAG9BhD,SAASs4B,UAEDlK,IAAKkK,EAAM7qC,KAAQ8qC,QAAO9qC,KAAQ+qC,OAClCnK,MAAOiK,EAAM7qC,KAAQgrC,UAAShrC,KAAQirC,SACtCpK,OAAQgK,EAAM7qC,KAAQkrC,WAAUlrC,KAAQmrC,UACxC9K,KAAMwK,EAAM7qC,KAAQorC,SAAQprC,KAAQqrC,SAI5C94B,0BACU6C,EAAIiN,EAAyB,EAACriB,KAAOoc,GAACpc,KAASoS,EAC/CiD,EAAIgN,EAAyB,EAACriB,KAAO7B,GAAC6B,KAASqS,SAC9Ci4B,GAAMl1B,EAAGC,GAGpB9C,SAASlT,UAEEA,EAAE+S,GAACpS,KAASoS,GAAK/S,EAAE+S,EAACpS,KAAQoS,EAACpS,KAAQoc,GAAK/c,EAAEgT,GAACrS,KAASqS,GAAKhT,EAAEgT,EAACrS,KAAQqS,EAACrS,KAAQ7B,EAG1FoU,WAAWma,WAEHA,EAAKta,EAAIsa,EAAKtQ,EAACpc,KAAQoS,EAACpS,KAAQoc,GAChCsQ,EAAKta,EAAIsa,EAAKtQ,EAACpc,KAAQoS,EAACpS,KAAQoc,GAChCsQ,EAAKra,EAAIqa,EAAKvuB,EAAC6B,KAAQqS,EAACrS,KAAQ7B,GAChCuuB,EAAKra,EAAIqa,EAAKvuB,EAAC6B,KAAQqS,EAACrS,KAAQ7B,GAIxCoU,kBACU+4B,EAAKtrC,KAAQoc,EAAI,EACjBmvB,EAAKvrC,KAAQ7B,EAAI,OAElBgzB,SAASvuB,KAAI,IAAK6nC,GAASzqC,KAAMoS,EAACpS,KAAOqS,EAAGi5B,EAAOC,SACnDpa,SAASvuB,KAAI,IAAK6nC,GAASzqC,KAAMoS,EAAIk5B,EAAKtrC,KAAOqS,EAAGi5B,EAAOC,SAC3Dpa,SAASvuB,KAAI,IAAK6nC,GAASzqC,KAAMoS,EAACpS,KAAOqS,EAAIk5B,EAAOD,EAAOC,SAC3Dpa,SAASvuB,KAAI,IAAK6nC,GAASzqC,KAAMoS,EAAIk5B,EAAKtrC,KAAOqS,EAAIk5B,EAAOD,EAAOC,SACnEpa,SAAS7G,SAAS7Y,IACnBA,EAAEk5B,QAAS,EACXl5B,EAAE+5B,OAAMxrC,KACRyR,EAAE2F,MAAKpX,KAAQoX,MAAQ,YAYtBq0B,GAAc,CAAIn2B,EAAGC,EAAG6G,EAAGje,EAAGutC,EAAO,EAAGnP,EAAO,EAAGoP,EAAS,EAAGC,EAAS,WAC1EC,EAAK,GACL1M,EAAOjtB,KAAK5V,OAAO8f,GAAKsvB,EAAO,GAAKC,GAAUD,GAC9CtM,EAAOltB,KAAK5V,OAAO6B,GAAKo+B,EAAO,GAAKqP,GAAUrP,WAE3ChhC,EAAI,EAAGA,EAAImwC,EAAMnwC,IAAC,IAAA,IACdob,EAAI,EAAGA,EAAI4lB,EAAM5lB,IAAC,OACjBm1B,EAAKvwC,GAAK4jC,EAAOwM,GAAUr2B,EAC3By2B,EAAKp1B,GAAKyoB,EAAOwM,GAAUr2B,EACjCs2B,EAAMjpC,KAAI,IAAK6nC,GAAUqB,EAAIC,EAAI5M,EAAMC,WAIxCyM,GCnGEG,GAAc,CACvB1iB,GAAOf,MACLA,EAAKC,OAAEA,GACTyjB,EACAzP,EAAS,EACTiD,EAAa,GACbyM,GAAY,EACZzpC,WAEM0pC,EAAUV,GAAejP,EAAQA,EAAQjU,EAAiB,EAATiU,EAAYhU,EAAkB,EAATgU,EAAYiD,EAAYA,GACpGh9B,EAASA,GAAM,EAAO2pC,MAAM,EAAIC,KAAM,EAAGC,MAAM,EAAIC,KAAM,IACzDJ,EAAQ7hB,SAASjtB,IACboF,EAAO6nB,SAAS7kB,IACZpI,EAAEqtC,QAAO,CAAIrtC,EAAEmvC,UAAWnvC,EAAEovC,UAAWpvC,EAAEqvC,UAAWrvC,EAAEsvC,WAAWttB,KAAK5N,UAC5DwrB,EAAQgP,EAAUx6B,EAAEW,EAAGX,EAAEY,UACxB8C,EAAS1P,EAAM2mC,KAAM3mC,EAAM4mC,KAAM5mC,EAAM6mC,KAAM7mC,EAAM8mC,KAAMtP,MAEhEx3B,EAAM3I,OACNmuB,GAAY3B,EAAZ2B,CAAqBxlB,EAAM3I,OAhFvB,EAAIwsB,EAASoD,EAAMme,GAAS,WACtC+B,EAAQ,CAAIlI,EAAI4C,IAAOxb,GAAKxC,EAALwC,CAAc4Y,EAAGtyB,EAAGsyB,EAAGryB,EAAGi1B,EAAGl1B,EAAGk1B,EAAGj1B,GAC1Dw6B,EAAQngB,EAAKogB,SAASjC,UACpBne,EAAKqgB,kBACJ,OACA,GACDH,EAASC,EAAMxM,KAAMwM,EAAMhM,mBAE1B,OACA,GACD+L,EAASC,EAAMhM,OAAQgM,EAAMjM,kBAE5B,OACA,GACDgM,EAASC,EAAMxM,KAAMwM,EAAMjM,kBAE1B,EACDgM,EAASC,EAAMlM,IAAKkM,EAAMjM,kBAEzB,EACDgM,EAASC,EAAMxM,KAAMwM,EAAMlM,KAC3BiM,EAASC,EAAMhM,OAAQgM,EAAMjM,kBAE5B,OACA,EACDgM,EAASC,EAAMlM,IAAKkM,EAAMhM,mBAEzB,OACA,EACD+L,EAASC,EAAMxM,KAAMwM,EAAMlM,gBAE1B,GACDiM,EAASC,EAAMxM,KAAMwM,EAAMhM,QAC3B+L,EAASC,EAAMlM,IAAKkM,EAAMjM,kBAEzB,GACDgM,EAASC,EAAMlM,IAAKkM,EAAMjM,SA8C1BoM,CAAQ1jB,EAASjsB,EAAG6uC,UCxFnBe,GAAS,6EAyGhBC,GAAc,KAEdC,GAAyB7jB,GAAO,CAClClX,EACAC,EACA+J,EACAje,EACA2rB,EACAtV,EAAM,EACNgoB,EAAS,EACT4Q,EAAS,QACTC,EAAS,WAET/jB,EAAQwM,aACFwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAKta,EAAGC,EAAG+J,EAAGje,GACrBmrB,EAAQ6X,KAAKG,GAEbjvB,GAAKmqB,QAGClnB,EAAKlD,EAAIgK,EACTkxB,GAHNnvC,GAAc,EAATq+B,GAGWhoB,EAEhB8U,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cAC3CooB,GAAWrD,EAAXqD,CAAoBva,EAAGC,EAAG+J,EAAGje,EAAGkvC,WAEvB9xC,EAAI,EAAGA,EAAIiZ,EAAM,EAAGjZ,IAAC,KACtBgyC,EAAKl7B,EAAI9W,EAAI+xC,EAEP,IAAN/xC,GAAWA,IAAMiZ,GACjB8U,EAAQQ,UAAYA,EAAYojB,GACtB,IAAN3xC,EACAgyC,GAAMzjB,EAAYojB,GAElBK,GAAMzjB,EAAYojB,IAGtB5jB,EAAQQ,UAAYA,EAGxBgC,GAAKxC,EAALwC,CAAc1Z,EAAGm7B,EAAIj4B,EAAIi4B,GAG7BjkB,EAAQkY,WAGNgM,GAAuBlkB,GAAO,CAChClX,EACAC,EACA+J,EACAje,EACA2rB,EACAtV,EAAM,EACNgoB,EAAS,EACT4Q,EAAS,QACTC,EAAS,WAEL7Q,GACA2Q,GAAsB/6B,GAG1BkX,EAAQwM,aACFwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAKta,EAAGC,EAAG+J,EAAGje,GACrBmrB,EAAQ6X,KAAKG,GAEblvB,GAAKoqB,QAGCjnB,EAAKlD,EAAIlU,EACTmvC,GAHNlxB,GAAc,EAATogB,GAGWhoB,EAEhB8U,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cAC3CooB,GAAWrD,EAAXqD,CAAoBva,EAAGC,EAAG+J,EAAGje,EAAGkvC,WAEvB9xC,EAAI,EAAGA,EAAIiZ,EAAM,EAAGjZ,IAAC,KACtBkyC,EAAKr7B,EAAI7W,EAAI+xC,EAEP,IAAN/xC,GAAWA,IAAMiZ,GACjB8U,EAAQQ,UAAYA,EAAYojB,GACtB,IAAN3xC,EACAkyC,GAAM3jB,EAAYojB,GAElBO,GAAM3jB,EAAYojB,IAGtB5jB,EAAQQ,UAAYA,EAGxBgC,GAAKxC,EAALwC,CAAc2hB,EAAIp7B,EAAGo7B,EAAIl4B,GAG7B+T,EAAQkY,WAGNkM,GAASpkB,GAAO,CAAMlX,EAAGC,EAAGpV,EAAG6sB,EAAWtV,EAAM,EAAGgoB,EAAS,EAAG4Q,EAAS,QAAYC,EAAS,iBAGzFC,GAFNrwC,GAAc,EAATu/B,GAEWhoB,EAEhB8U,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cACvC8oC,GAAW7gB,GAAalD,EAAbkD,CAAsBpa,EAAGC,EAAGpV,EAAIu/B,EAAQ6Q,WAE9C9xC,EAAI,EAAGA,EAAIiZ,EAAM,EAAGjZ,IAAC,KACtBoyC,EAAKpyC,EAAI+xC,EAAM9Q,EAET,IAANjhC,GAAWA,IAAMiZ,GACjB8U,EAAQQ,UAAYA,EAAYojB,GACtB,IAAN3xC,EACAoyC,GAAM7jB,EAAYojB,GAElBS,GAAM7jB,EAAYojB,IAGtB5jB,EAAQQ,UAAYA,EAGxByC,GAAOjD,EAAPiD,CAAgBna,EAAGC,EAAGs7B,EAAIP,KAI5BQ,GAAmBtkB,GAAO,CAC5BlX,EACAC,EACApV,EACA6sB,EACArY,EAAI,EACJ+C,EAAM,EACNgoB,EAAS,EACT4Q,EAAS,QACTC,EAAS,WAET/jB,EAAQwM,aACFwL,EAAM,IAAOC,OACnBD,EAAO5U,KAAKta,EAAGC,EAAGpV,EAAGA,GACrBqsB,EAAQ6X,KAAKG,GAEbhY,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cAC3CooB,GAAWrD,EAAXqD,CAAoBva,EAAGC,EAAGpV,EAAGA,EAAGowC,SAE1B/3B,EAAKlD,EAAInV,EACTsY,EAAKlD,EAAIpV,EAEL,IAANwU,GAEAi8B,GAAMpkB,EAANokB,CAAep4B,EAAIC,EAAItY,EAAG6sB,EAAWtV,EAAKgoB,EAAQ4Q,EAAW,MAC7DM,GAAMpkB,EAANokB,CAAet7B,EAAGC,EAAGpV,EAAG6sB,EAAWtV,EAAKgoB,EAAQ4Q,EAAWC,IAC9C,IAAN57B,GAIM,IAANA,GAFPi8B,GAAMpkB,EAANokB,CAAet7B,EAAGmD,EAAItY,EAAG6sB,EAAWtV,EAAKgoB,EAAQ4Q,EAAW,MAC5DM,GAAMpkB,EAANokB,CAAep4B,EAAIjD,EAAGpV,EAAG6sB,EAAWtV,EAAKgoB,EAAQ4Q,EAAWC,KAO5DK,GAAMpkB,EAANokB,CAAet7B,EAAGC,EAAGpV,EAAG6sB,EAAWtV,EAAKgoB,EAAQ4Q,EAAW,MAC3DM,GAAMpkB,EAANokB,CAAep4B,EAAIC,EAAItY,EAAG6sB,EAAWtV,EAAKgoB,EAAQ4Q,EAAWC,IAGjE/jB,EAAQkY,WAGCqM,GAAmB,wCCvPnBC,eACGC,EAAUC,EAAW,EAAGxR,EAAS,EAAGyR,EAAO,QAC9CF,SAAWA,OACXC,SAAWA,OACXvqB,OAAM,QACNyqB,SAAU,OAEVC,SAAWF,OACXzR,OAASA,OAGTmO,MAAQ,OACRvzB,MAAQ,OAERg3B,eAAYtwB,OACZuwB,eAAYvwB,OACZwwB,eAAYxwB,OACZywB,eAAYzwB,iCAILowB,QAAO,MAASE,eAAgBC,eAAgBE,eAAgBD,cAGhF/7B,oBACYH,EAACC,EAAEA,EAAC+J,EAAEA,EAACje,EAAEA,GAAC6B,KAAU+tC,SAEtBzC,EAAQlvB,EAAI,EAACpc,KAAQw8B,OACrB+O,EAAQptC,EAAI,EAAC6B,KAAQw8B,OAErBgS,EAAWpyB,EAAI,EAACpc,KAAQw8B,OACxBiS,EAAYtwC,EAAI,EAAC6B,KAAQw8B,OAEzBkS,EAAE,IAAOjE,GAAUr4B,EAAGC,EAAGm8B,EAAUC,GACnCE,EAAE,IAAOlE,GAAUr4B,EAAIk5B,EAAOj5B,EAAGm8B,EAAUC,GAC3CG,EAAE,IAAOnE,GAAUr4B,EAAGC,EAAIk5B,EAAOiD,EAAUC,GAC3CI,EAAE,IAAOpE,GAAUr4B,EAAIk5B,EAAOj5B,EAAIk5B,EAAOiD,EAAUC,QAEpDL,UAAS,IAAON,GAASY,EAAE1uC,KAAOguC,SAAQhuC,KAAOw8B,OAAMx8B,KAAOmuC,eAC9DE,UAAS,IAAOP,GAASa,EAAE3uC,KAAOguC,SAAQhuC,KAAOw8B,OAAMx8B,KAAOmuC,eAC9DG,UAAS,IAAOR,GAASc,EAAE5uC,KAAOguC,SAAQhuC,KAAOw8B,OAAMx8B,KAAOmuC,eAC9DI,UAAS,IAAOT,GAASe,EAAE7uC,KAAOguC,SAAQhuC,KAAOw8B,OAAMx8B,KAAOmuC,eAE9DD,SAAU,OAEVY,aAAaxkB,SAASjtB,IACvBA,EAAEstC,OAAqB,EAAhB3qC,KAAQ2qC,MACfttC,EAAE+Z,MAAKpX,KAAQoX,MAAQ,KAI/B7E,OAAOlT,gBACO0uC,SAASgB,SAAS1vC,UAInBokB,OAAOjoB,OAAMwE,KAAQguC,eACrBvqB,OAAO7gB,KAAKvD,IACV,SAKD6uC,SAAOluC,KACRgvC,iBAGAZ,UAAUa,OAAO5vC,IAACW,KAAUquC,UAAUY,OAAO5vC,IAACW,KAAUsuC,UAAUW,OAAO5vC,IAACW,KAAUuuC,UAAUU,OAAO5vC,KAIlHkT,MAAM28B,EAAWvsB,EAAI,YACPorB,SAASoB,WAAWD,eAEzBzrB,OAAO6G,SAASjrB,IACb6vC,EAAUH,SAAS1vC,IACnBsjB,EAAK/f,KAAKvD,WAIT6uC,SAAOluC,KACP8uC,aAAaxkB,SAASjtB,IACvBA,EAAE+xC,MAAMF,EAAWvsB,MAIpBA,EAGXpQ,QAAQoQ,EAAI,gBACCurB,QAAOluC,KACP8uC,aAAaxkB,SAASjtB,IACvBA,EAAEgyC,QAAQ1sB,MAGdA,EAAK/f,KAAI5C,MAGN2iB,SC3GF2sB,GAAe,CACxBC,EAAC,CACGC,KAAI,mBACJC,OnCMe,WACbC,EAAM,CACRC,aAAc,IAGZC,EAAc,GACdC,EAAO,iBAqCTH,QAnCO,EAAArmB,OAAMA,EAAMC,QAAEA,cACZ/tB,EAAI,EAAGA,EAAIm0C,EAAOC,aAAcp0C,IAAC,OAChCkrB,EAAQ6B,GAA2Be,GACzC5C,EAAMrU,EAAIiX,EAAOd,MAAQ,EACzB9B,EAAMpU,EAAIgX,EAAOb,OAAS,EAC1B/B,EAAM3pB,MAAK,CAAKG,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC/BspB,EAAMxH,OAAS,GACf2wB,EAAehtC,KAAI,IAAK+iB,GAASc,UAE/B+W,EAAUnU,EAAOd,MAAQ,EACzBkV,EAAUpU,EAAOb,OAAS,EAC1BsnB,EAAWzmB,EAAOb,OAAS,UAExBpV,EAAQ,EAAGA,EAAQ,IAAKA,GADnB,GACiC,OACrC0qB,EAAM1qB,GAASlB,KAAKuB,GAAK,KACzBrB,EAAIF,KAAKwD,IAAIooB,GAAOgS,EAAWtS,EAC/BnrB,EAAIH,KAAKyD,IAAImoB,GAAOgS,EAAWrS,EACrCoS,EAAQjtC,KAAI,CAAEwP,EAAGC,EAAGiQ,EAAoB,GAAI,OAEhDiJ,GAAWlC,EAAQC,EAAnBiC,CAA0B,eAGpB,EAAAlC,OAAMA,EAAMC,QAAEA,EAAOymB,MAAEA,cACpBx0C,EAAI,EAAGA,EAAIm0C,EAAOC,aAAcp0C,IAAC,CACtCq0C,EAAer0C,GAAGy0C,wBAClBvnB,GAAWY,EAAQumB,EAAer0C,YACzBkW,EAAI,EAAGA,EAAIo+B,EAAQr0C,OAAQiW,IAChC+c,GAAU,CAAGvP,OAAQ4wB,EAAQp+B,GAAG,GAAIW,EAAGy9B,EAAQp+B,GAAG,GAAIY,EAAGw9B,EAAQp+B,GAAG,IAAMm+B,EAAer0C,GAAI,GAEjGwyB,GAAczE,EAAdyE,CAAuB6hB,EAAer0C,IAE1CyyB,GAAiB1E,EAAjB0E,CAA0B4hB,EAAgB,QmC3C9CK,EAAC,CACGT,KAAI,iDACJC,OCFoB,SAOpBE,QACEC,EAAc,OAChBM,EAAU,OAGVC,EAEAC,EACAC,EACAC,EAEAC,EACAC,EACAC,gBAnBQ,SAqBD,EAAApnB,OAAMA,EAAMC,QAAEA,MACrBinB,EAAgBlnB,EAAOd,MAAQ,EAC/BioB,EAAgBnnB,EAAOb,OAAS,EAChCioB,EAAepnB,EAAOb,OAAS,EAE/B2nB,EAAgB9mB,EAAOd,MAAQ,GAE/B6nB,EAAa,CAAKh+B,EAAG,EAAGC,EAAGgX,EAAOb,OAAS,EAAGvC,KAAM,GAAI/oB,EAAG,GAC3DmzC,EAAY,CAAKj+B,EAAGiX,EAAOd,MAAQ,EAAGlW,EAAGgX,EAAOb,OAAS,EAAGvC,KAAM,GAAI/oB,EAAG,IACzEozC,EAAc,CAAKl+B,EAAGiX,EAAOd,MAAOlW,EAAGgX,EAAOb,OAAS,EAAGvC,KAAM,GAAI/oB,EAAG,GAEvEgzC,EAlDgB,EAAI3nB,EAAOC,EAAQkoB,EAASC,EAASrU,EAASC,WAC5D2T,EAAU,GAEVxT,EAAUxqB,KAAK5V,OAAOisB,EAAkB,EAAVmoB,IAAgBpU,EAAU,IACxDK,EAAUzqB,KAAK5V,OAAOksB,EAAmB,EAAVmoB,IAAgBpU,EAAO,YAEnDM,EAAM,EAAGA,EAAMP,EAASO,IAAG,OAC1BzqB,EAAIs+B,EAAU7T,EAAMH,UACjBE,EAAM,EAAGA,EAAML,EAAMK,IAAG,OACvBvqB,EAAIs+B,EAAU/T,EAAMD,EAC1BuT,EAAWttC,KAAI,CAAEwP,EAAGC,YAInBoR,OAAQysB,EAAYpT,YAAaJ,EAASK,UAAWJ,IAoC7CiU,CAAmBvnB,EAAOd,MAAOc,EAAOb,OAAQ,IAAK,IAAKa,EAAOd,MAAQ,GAAIc,EAAOb,OAAS,IACrG/E,OACLksB,EAAeO,EAAW10C,eAEjBD,EAAI,EAAGA,EAAIo0C,EAAcp0C,IAAC,OACzBkrB,EAAQ6B,GAA2Be,GACzC5C,EAAMrU,EAAI89B,EAAW30C,GAAG,GACxBkrB,EAAMpU,EAAI69B,EAAW30C,GAAG,GACxBkrB,EAAMZ,UAAY,EAClBY,EAAMX,UAAY,EAClBW,EAAMR,KAAO,EACbQ,EAAMxH,OAAS,EACfwH,EAAMoqB,OAASjuB,EAAwB,GAAI,EAAG,WAExCzkB,EAAIgX,EAAS,EAAGkU,EAAOd,MAAO,EAAG,GAAI9B,EAAMrU,GAC3C/U,EAAI,IACJE,EAAI,GACVkpB,EAAM3pB,MAAK,QAAWqB,KAAKd,MAAME,UAIjCqyC,EAAehtC,KAAI,IAAK+iB,GAASc,IAGrC8E,GAAWlC,EAAQC,EAAnBiC,CAA0B,eAGpB,EAAAlC,OAAMA,EAAMC,QAAEA,EAAOymB,MAAEA,cAEpBx0C,EAAI,EAAGA,EAAIo0C,EAAcp0C,IAC9Bq0C,EAAer0C,GAAGu1C,QAAQV,GAAe,EAAID,GAC7CP,EAAer0C,GAAGu1C,QAAQT,EAAc,EAAGF,GAC3CP,EAAer0C,GAAGu1C,QAAQR,GAAgB,EAAIH,GAE9CP,EAAer0C,GAAGyrB,SAAW4oB,EAAer0C,GAAGyrB,SAASmhB,MAAM,IAE9DyH,EAAer0C,GAAGy0C,wBAElBjiB,GAAczE,EAAdyE,CAAuB6hB,EAAer0C,IAE1CyyB,GAAiB1E,EAAjB0E,CAA0B4hB,EAAgB,IAAI,ODrElDmB,EAAC,CACGvB,KAAI,SACJC,O/BXkBvmB,QAMlB8nB,QACEC,EAAG,IAAO5S,UAEZtN,EADJkgB,EAAIha,IAAMlZ,EAAA6S,UAIJgf,EAAc,GACdsB,EAAa,CAAKj0C,EAAG,IAAKC,EAAG,EAAGC,EAAG,mBAZ7B,CACRorB,MAAO,IACPC,OAAQ,WAYD,EAAAa,OAAMA,EAAMC,QAAEA,MACrByH,EA5BmB,CAAIzH,GAAa8U,IACxC9U,EAAQyJ,UAAUqL,EAAO,EAAG,GACrB9U,EAAQoV,aAAa,EAAG,EAAGN,EAAM7V,MAAO6V,EAAM7V,QA0BrC4oB,CAAsB7nB,EAAtB6nB,CAA+BF,GAC3C5lB,GAAMhC,EAAQC,EAAd+B,GACA2lB,EAAkB3nB,EAAOd,MAAQwI,EAAUxI,cAElChtB,EAAI,EAAGA,EATC,IASiBA,IAAC,OACzBkrB,EAAQ6B,GAA2Be,GACzC5C,EAAMxH,OAASqD,EAAoB,EAAG,GACtCmE,EAAM3pB,MAAQo0C,EAEVzqB,EAAMrU,EADN7W,EAAI,EACM,EAEA8tB,EAAOd,MAErBqnB,EAAehtC,KAAI,IAAK+iB,GAASc,IAGrC8E,GAAWlC,EAAQC,EAAnBiC,CAA0B,CAAItuB,EAAG,IAAKC,EAAG,IAAKC,EAAG,UAG3C,EAAAksB,OAAMA,EAAMC,QAAEA,EAAOymB,MAAEA,MAC7BxkB,GAAWlC,EAAQC,EAAnBiC,CAA0B,CAAItuB,EAAG,IAAKC,EAAG,IAAKC,EAAG,EAAGC,EAAG,eAE9C7B,EAAI,EAAGA,EA3BC,IA2BiBA,IAAC,CAC/Bq0C,EAAer0C,GAAGy0C,wBAClBnnB,GAASQ,EAAQumB,EAAer0C,IAEhBu1B,GACZC,EACA7e,KAAK5V,MAAMszC,EAAer0C,GAAG6W,EAAI4+B,GACjC9+B,KAAK5V,MAAMszC,EAAer0C,GAAG8W,EAAI2+B,IAGzB/zC,EAAI,KACZ2yC,EAAer0C,GAAG61C,KAAK,MACvBxB,EAAer0C,GAAGuB,MAAK,CAAKG,EAAG,EAAGC,EAAG,IAAKC,EAAG,MAE7CyyC,EAAer0C,GAAGuB,MAAQo0C,EAG9BnjB,GAAczE,EAAdyE,CAAuB6hB,EAAer0C,S+B1C9C81C,GAAE,CACE7B,KAAI,mGACJC,OtBUa,WACXC,EAAM,CACR1Z,KAAI,WACJsb,YAAapa,GAEbY,MAAOX,GAAMM,OAEblO,MAAOoO,QAGP4Z,EACAC,EACAC,QACEC,EAAchC,EAAOnmB,MAMrBooB,EAAW,OACbC,QACEC,EAAcH,MAChBI,MAGAC,EAEAC,EADAC,EAAS,EAETC,EAAO,QAELC,EAAiB,CAAIC,EAAK9jB,EAAUrO,EAAWC,WAC3CuD,EAAM,WACHloB,EAAI,EAAGA,EAAIq2C,EAAgBr2C,IAAC,OAC3B0V,EAAI2nB,GAAer9B,EAAG+yB,EAAU8jB,EAAKnyB,GAAaC,EAGxDuD,EAAO7gB,KAAKqO,UAGTwS,GAGL4uB,EAAaD,IACfF,GAAQ,QACF9H,EAAM0H,EAAc,EACpBQ,EAAiBpgC,KAAKX,IAAI64B,EAAMgI,GAChCnyB,EACF9K,EAAS,EAAGi1B,EAAK,KAAM,GAAKkI,EAAiBhwB,GAAoB,EAAI,KACvC,KAA7BA,EAAoB,EAAG,KACtBpC,EAAY/K,EAAS,EAAGi1B,EAAK,GAAI,GAAIkI,EAAiBhwB,EAAoB,EAAG,WAG/Eqe,IAAKwR,EAAkBC,EAAKE,EAAgBryB,EAAWC,GACvD2gB,OAAQsR,EAAkBC,EAAKE,EAAgBryB,EAAWC,mBAyE9DwvB,QArEO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBioB,EAAcloB,EAAOd,MACrBipB,EAAenoB,EAAOb,OACtBupB,EAAO1oB,EAAOd,MACdqpB,EAAiBvoB,EAAOd,MAAQ,EAChCkpB,EAAepoB,EAAOb,OAAS,EAC/BspB,EAAcN,EAAeK,QACvBU,EAAef,EAAe,EACpCS,EAASM,EACTP,EAAOR,EAA8B,KAAfe,UAEbh3C,EAAI,EAAGA,EAAIu2C,EAAav2C,IAC7Bo2C,EAAY/uC,KAAKyvC,EAAU92C,EAAI,IAGnCgwB,GAAWlC,EAAQC,EAAnBiC,CAA4BxN,EAAAjM,EAAA,CAzDX,qBAyDsCjQ,QAAQ,WAGzD,EAAAwnB,OAAMA,EAAMC,QAAEA,UAChBkpB,EAAWP,QACTQ,EAAavgC,KAAKsB,MAAMu+B,EArDnB,GAqDoCH,GAAkB,EAC3Dc,GAAcV,EAAOC,GAAUH,EAE/Ba,EAAenB,EAAe,EAAK,EACnCoB,EAA2B,IAAdD,EAEbE,EAAgB,GAAKnB,EAGXnX,aAEPh/B,EAAI,EAAGA,EAAIo2C,EAAYn2C,OAAQD,IAAC,OAC/BuB,EAAQihB,EAAAjM,GACT5L,IA1EC,sBACG,sBAyEuBiP,EAAS88B,EAAQD,EAAM,EAAG,IAAKQ,IAC1D1wC,SAAS,IACTG,KAAKqgB,GAAoB,GAAK,KAE7BwwB,EAAiB5gC,KAAKX,IAAIohC,EAAcH,GAC9C11C,EAAMmF,KAAKkT,EAAS,EAAGy9B,EAAY,IAAI,GAAKE,IAC5Ch2C,EAAMgF,SAASqT,EAAS,EAAGy9B,EAAY,GAAI,EAAGE,EAAiBxwB,EAAoB,EAAG,OACtFxlB,EAAMkF,OAAOmT,EAAS,EAAGw9B,EAAa,EAAG,GAAIG,EAAiBxwB,EAAoB,EAAG,YAG/EywB,EAAa59B,EAAS88B,EAAQD,EAAMa,EAhBxB,EAgBsDL,GAElEQ,EAAO,GACPC,EAAU,OACZC,EAAW,UACNv8B,EAAI,EAAGA,EAAIi7B,EAAgBj7B,IAChCq8B,EAAQpwC,KAAI,CAAEswC,EAAUV,EAAWb,EAAYp2C,GAAGolC,IAAIhqB,KACtDs8B,EAAWrwC,KAAI,CAAEswC,EAAUV,EAAWb,EAAYp2C,GAAGslC,OAAOlqB,GAAKo8B,IACjEG,GAAYT,EAGhBnpB,EAAQK,YAAc7sB,EAAMqI,QAAQnD,OAAO,IAAIuC,cAC/C+kB,EAAQQ,UAAY4nB,EAEpB3Z,GAAczO,EAAdyO,CAAuBib,EAASC,EAAW3S,UAAWxjC,GAAO,EAAM,GACnEo+B,GAAS5R,EAAS0pB,EAASR,EAAU11C,EAAO40C,GAAa,GAIzDc,GAAYE,SAGT,MsBlIXS,GAAE,CACE3D,KAAI,kEACJC,OlBQgB,WACdC,EAAM,CACR1Z,KAAI,cACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,IAILyb,EAAM,OACR7C,EACAC,EACAC,MAEAjU,QACE6W,EAAU9Y,KACV+Y,EAAkB/Z,GAAU8Z,GAASluC,QAAQtD,QAAQ,IACrD0xC,EAAa9Z,GAAQ4Z,GAASluC,QAAQnD,OAAO,IAC7CwxC,EAAYF,EAAgBnuC,QAAQnD,OAAO,IAAIT,WAAW,QAE5DkyC,QAwBEC,EAAK,CAAIC,EAAOl4B,EAAI,EAAGre,EAAI,EAAGD,EAAI,IACpCw2C,EAAM10B,OAAS/M,KAAKwD,IAAI+F,EAAIk4B,EAAMtnB,MAAQjvB,GAAK8U,KAAKwD,IAAIi+B,EAAMtnB,MAAQlvB,GACpEy2C,EAAK,CAAID,EAAOl4B,EAAI,EAAGre,EAAI,EAAGD,EAAI,IACpCw2C,EAAM10B,OAAS/M,KAAKwD,IAAI+F,EAAIk4B,EAAMtnB,MAAQjvB,GAAK8U,KAAKyD,IAAIg+B,EAAMtnB,MAAQlvB,iBAyDtEuyC,QAlFO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBinB,EAAgBlnB,EAAOd,MAAQ,EAC/BioB,EAAgBnnB,EAAOb,OAAS,EAChCioB,EAAepnB,EAAOb,OAAS,EAC/BgU,EAAS,GAAKrT,KAIVsqB,EAAOpX,GAAahT,EAAOd,MAAOc,EAAOd,MAjBjC,EAAA,EAiB0DiU,EAAQA,EAAS,GACnFiX,EAAKhwB,OAAO6G,SAASmE,UACXrZ,EAAIqZ,EAAM,GACVpZ,EAAIoZ,EAAM,GAChB2kB,EAAOxwC,KAAI,IAAKo6B,GAAM5nB,EAAGC,EAAGo+B,EAAK3W,YAAc,EAAG,EAAG,IzBfxC,EAAIhd,EAAGxiB,EAAG4iB,EAAY,EAAGD,EAAY,KAC9D/N,KAAKX,IAAIwM,EAAAC,GAAS7D,QAAQ2F,EAAIG,EAAW3iB,EAAI2iB,IAAcC,EyBcY2zB,CAAiBz+B,EAAGC,QAIvFkW,GAAWlC,EAAQC,EAAnBiC,CAA4B+nB,SAiBtB,EAAAhqB,QAAMA,MACZmqB,EAAKhwB,OAAO6G,SAASmE,IACjBhC,GAAKnD,EAALmD,CAAcgC,EAAM,GAAIA,EAAM,GAAIglB,EAAK3W,YAAa2W,EAAK1W,UAAW,EAAGyW,cAElEr2C,EAAI,EAAGA,EAnDA,GAmDiBA,IAAC,SACrB5B,EAAI,EAAGA,EAAI63C,EAAO53C,OAAQD,IAAC,OAG1BkW,EAAI2hC,EAAO73C,GAEXkgB,EAAI9G,EAAkB,GAATpZ,EAAI,GAAU,OAEzB6hC,GAAO3rB,MACP4rB,GAAO5rB,MACP6rB,GAAO7rB,MACP8rB,GAAO9rB,EAIfA,EAAEW,EAAIshC,EAAMjiC,EAAGgK,EAAG2hB,EAAIC,GACtB5rB,EAAEY,EAAIuhC,EAAMniC,EAAGgK,EAAG6hB,EAAIC,GAKtB9rB,EAAE4a,OAAS5a,EAAEoW,MAQb4D,GAAMnC,EAANmC,CAAeha,EAAEW,EAAIX,EAAE+rB,QAAS/rB,EAAEY,EAAIZ,EAAEgsB,QAAS8V,GAEjD7X,GAAoBpS,GACpB6S,GAAW7S,EAAX6S,CAAkB,KACT1gB,MAAM2hB,MAAOC,MAAOC,MAAOC,IAChC9rB,EAAEyrB,QACFzrB,EAAE0rB,QAAU1rB,EAAE3K,KAAO,GACrB0sC,EACA5X,GAAW90B,KAAK,KAGxBgtC,OkBxGRC,GAAE,CACEvE,KAAI,sDACJC,OE9BuB,WAQrBG,EAAc,OAGhBsC,EAAO,QAEL8B,EAAwB3qB,UACpB5C,EAAQ6B,GAA2Be,UACzC5C,EAAMrU,EAAImQ,EAAmB,EAAG8G,EAAOd,OACvC9B,EAAMpU,EAAIkQ,EAAmB,EAAG8G,EAAOb,QACvC/B,EAAMZ,UAAY,EAClBY,EAAMX,UAAY,MACPH,GAASc,IAWlBwtB,EAAS,CAAI5qB,EAAQC,EAASjB,EAAOK,EAAU5rB,EAAOghC,EAAM,KAC9DpV,EAAShB,WAAWW,GACpBK,EAAS1B,SAAW0B,EAAS1B,SAASmhB,MAAM,GAC5Czf,EAASsnB,wBACTnnB,GAASQ,EAAQX,SACXwrB,EAASp3C,GAAS4rB,EAAS5rB,MAC3BsV,EAAIgC,EAAW+/B,EAAazrB,EAAStW,GACrCC,EAAI+B,EAAW+/B,EAAazrB,EAASrW,UAC3Cma,GAAalD,EAAbkD,CAAsBpa,EAAGC,EAAGyrB,EAAKoW,IAC1B,iBAtCC,CACRle,KAAI,qBACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,UAkBA,EAAAtO,OAAMA,EAAMC,QAAEA,cACZ/tB,EAAI,EAAGA,EAhBC,IAgBiBA,IAC9Bq0C,EAAehtC,KAAKoxC,EAAqB3qB,IAG7CkC,GAAWlC,EAAQC,EAAnBiC,CAA0B,0BA6CpB,EAAAlC,OAAMA,EAAMC,QAAEA,MAfR,GAAAD,OAAMA,EAAMC,QAAEA,YACpBZ,EAAWsrB,EAAqB3qB,WAE7B9tB,EAAI,EAAGA,EADD,IACaA,IAAC,OACnB64C,EAAWxb,GAAelQ,EAAStW,EAAGsW,EAASrW,EAAG6/B,EAAM,MAExD7pB,EAAQ5S,EADA2+B,GAIdH,EAAU5qB,EAAQC,EAASjB,EAAOK,EAFzB,kBAEwC,GAEjDA,EAAStB,aAAY,IAAOjV,EAAO,EAAG,KAK1CkiC,CAAU,QAAGhrB,UAAQC,IA/BN,GAAAD,OAAMA,EAAMC,QAAEA,cACpB/tB,EAAI,EAAGA,EApCC,IAoCiBA,IAAC,OACzBmtB,EAAWknB,EAAer0C,GAC1B64C,EAAWxb,GAAelQ,EAAStW,EAAGsW,EAASrW,EAAG6/B,EAAM,MACxD9+B,EAAQqB,EAAS,EAAG2/B,GACpB/rB,EAAQ5S,EAAYrC,GACpBkhC,EAAMhb,GAAa,EAAG,IAAK,IAAKpnB,KAAKX,IAAI6B,IAAQvP,SAAS,KAC1DiD,EAAOqO,EAAS,EAAG,EAAG,EAxCpB,EAwCgCjD,KAAKX,IAAI6B,IAEjD6gC,EAAU5qB,EAAQC,EAASjB,EAAOK,EAAU4rB,EAAKxtC,GAEjD4hB,EAAStB,aAAY,IAAOjV,EAAO,EAAG,KAqB1CoiC,CAAa,QAAGlrB,UAAQC,IACxB4oB,GAAQ,QF3CZsC,GAAE,CACEhF,KAAI,sCACJC,OjBGkB,WAChBC,EAAM,CACR1Z,KAAI,gBACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,QAGPua,EAAO,EACK3X,WACV+Y,EAAkBv1B,EAAAjM,EAAA,CAAS,kCAiC7B49B,QA/BO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBiC,GAAWlC,EAAQC,EAAnBiC,CAA4B+nB,SAkBtB,EAAAjqB,OAAMA,EAAMC,QAAEA,MACpBiC,GAAWlC,EAAQC,EAAnBiC,CAA4B+nB,EAAgBzvC,SAAS,KAhBxC,GAAA0kB,MAAMA,EAAKC,OAAEA,GAAUc,EAASjkB,EAAIovC,WAC3CrK,EAAMqK,EAAO,UACVriC,EAAI,EAAGA,EAAImW,EAAOnW,GAAKqiC,EAAI,IAAA,IACvBpiC,EAAI,EAAGA,EAAImW,EAAQnW,GAAKoiC,EAAI,OAC3BrhC,EAAQ/N,EAAG+M,EAAGC,GACdqiC,EAAWpb,GAAa,EAAG,IAAK,IAAKpnB,KAAKX,IAAI6B,IAC9CuhC,EAAYrb,GAAa,EAAG,IAAK,IAAKpnB,KAAKX,IAAI6B,IAAQpR,OAAO,IACpE+7B,GAAKzU,EAASlX,EAAGC,EAAG+3B,EAAW,GAANA,EAAWuK,EAAWvhC,GAC/CyqB,GAAOvU,EAASlX,EAAGC,EAAG+3B,EAAKuK,EAAWvhC,GACtCuqB,GAAIrU,EAASlX,EAAGC,EAAG+3B,EAAW,GAANA,EAAWsK,EAAUthC,GAC7CuqB,GAAIrU,EAASlX,EAAGC,EAAG+3B,EAAW,GAANA,EAAS,SAAYh3B,KAYrDwhC,CAAYvrB,EAAQC,GAFT,CAAIlX,EAAGC,IAAMumB,GAAexmB,EAAGC,EAAG6/B,EAAM,OAEfhgC,KAAK5V,MAAM+sB,EAAOd,MAAQ,KAC9D2pB,GAAQ,QiBvCZ2C,GAAE,CACErF,KAAI,uGACJC,ObJmB,WACjBC,EAAM,CACR1Z,KAAI,iBACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,QAIPua,EAAO,QACL7Q,EAAkBzH,GAClBwE,EAAK,IAAOJ,GAAOjgB,EAAAwhB,KAEnBuV,EAAS,CAAI1iC,EAAGC,IAAM+rB,EAAM2W,qBAAqB3iC,EAAGC,GAAK0tB,GAgBzDiV,EAAY,EAAA3rB,OAAMA,EAAMC,QAAEA,GAAWZ,WACjCtV,EAAQ0hC,EAAUpsB,EAAStW,EAAGsW,EAASrW,GACvCgW,EAAQ5S,EAAYrC,GAC1BsV,EAAShB,WAAWW,GACpBK,EAAS1B,SAAW0B,EAAS1B,SAASmhB,MAAM,GAC5Czf,EAASsnB,8BAEHiF,EAAa9xB,GAAcuF,EAAQ,CAAItW,EAAGiX,EAAOd,MAAQ,EAAGlW,EAAGgX,EAAOb,OAAS,IAE/E0sB,EAAkB9W,EAAMa,qBAAqBvW,EAAStW,EAAGsW,EAASrW,GAClE8iC,EAAuB,IAAMD,EAAgBhyC,gBAC7CkyC,EAAW9b,GAAajQ,EAAOd,MAAO,GAAI,IAAKG,EAAStW,GAAGnQ,KAAKiwC,GAChEhB,EAAgBnzB,EAAAjM,GAAU5L,IAAIkvC,EAAUF,EAAiB,IAC/DhE,EAAc3vC,WAAW4T,EAASkU,EAAOd,MAAQ,EAAGc,EAAOd,MAAQ,EAAG,EAAG,GAAI0sB,IArBlE,EAAI5rB,EAAQC,EAASZ,EAAU5rB,EAAOghC,EAAM,WACjDoW,EAASp3C,GAAS4rB,EAAS5rB,SACzBsV,GAAMsW,KACNrW,GAAMqW,EACd8D,GAAalD,EAAbkD,CAAsBpa,EAAGC,EAAGyrB,EAAKoW,IAsBjCD,CAAU5qB,EAAQC,EAASZ,EAAUwoB,EAHxB/7B,EAAS,EAAG,IAAK,EApClB,EAoC8BggC,GACzBhgC,EAASkU,EAAOd,MAAQ,EAAGc,EAAOd,MAAQ,EAAG,EAAG,EAAG0sB,IAIhE/iC,KAAKX,IAAI6B,IAAU,KAxEjB,CAAIkW,GAAO,CAAMlX,EAAGC,EAAGvV,EAAOgK,EAAMtF,EAAS,EAAGqd,EAAQ,cACzDtjB,EAAI,EAAGA,EAAIiG,EAAQjG,IAAC,OACnB8B,EAAIklB,EAA0B,IAAPzb,EAAoB,EAAPA,GAEpCmY,EAASsD,EAAmB,EAAG1D,GAC/BwN,EAAQ/J,EAAoB,EAAGyd,IAC/BxE,EAAOtc,EAAS/M,KAAKwD,IAAI2W,GACzBmP,EAAOvc,EAAS/M,KAAKyD,IAAI0W,GAI/BG,GAAalD,EAAbkD,CAAsBpa,EAAImpB,EAAMlpB,EAAImpB,EAAMn+B,EAAGP,KA8DzCu4C,CAAS/rB,EAAT+rB,CAAkB3sB,EAAStW,EAAGsW,EAASrW,EAAG6+B,EAAcpvC,SAAS,IAAK,EAAG,EAAG,KAGhF4mB,EAAStB,aAAY,IAAOjV,EAAO,EAAG,IAGpCkiC,EAAU,EAAAhrB,OAAMA,EAAMC,QAAEA,YACpBZ,EAjEY,CAAIW,UACpB5C,EAAQ6B,GAA2Be,UACzC5C,EAAMrU,EAAImQ,EAAmB,EAAG8G,EAAOd,OACvC9B,EAAMpU,EAAIkQ,EAAmB,EAAG8G,EAAOb,QACvC/B,EAAMZ,UAAY,EAClBY,EAAMX,UAAY,MACPH,GAASc,IA2DC6uB,CAAqBjsB,GAChC7tB,EAAS+mB,EAAmB,GAAI,aAC7BhnB,EAAI,EAAGA,EAAIC,EAAQD,IACxBy5C,EAAY,QAAG3rB,UAAQC,GAAWZ,kBAUtCgnB,QAvDO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrB8U,EAAMmX,KAAKlsB,EAAQC,GACnBiC,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,GAC5B7B,GAAYnW,EAAQC,EAASwrB,EAAS,kBAAqB,GAAI,UA8CzD,EAAAzrB,OAAMA,EAAMC,QAAEA,MACpB+qB,EAAU,QAAGhrB,UAAQC,IACrB4oB,GAAQ,Qa3DZsD,GAAE,CACEhG,KAAI,iCACJC,OXrCgB,WACdC,EAAM,CACR1Z,KAAI,cACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,QAGP8d,EACAC,EACA5S,EACA6S,EAGAzY,EACAC,EAHAyY,EAAoB,IAIpB1D,EAAO,EACP7lB,EAAQ,QAEN0a,EAAO,GAEPsM,EAAU9Y,KACV8G,EAAkB9H,GAAU8Z,GAASluC,QAAQtD,QAAQ,IACrDg0C,EAAapc,GAAQ4Z,GAASluC,QA2B9BynC,EAAQ,CAAItjB,EAASlU,EAAIC,EAAIC,EAAIC,EAAIzY,EAAOivB,EAAc,KAC5DzC,EAAQK,YAAc5L,EAAAjM,EAAA,CAAUhV,GAAOyH,cACvC+kB,EAAQQ,UAAYiC,EACpBzC,EAAQoC,YACRpC,EAAQ2C,OAAO7W,EAAIC,GACnBiU,EAAQ4C,OAAO5W,EAAIC,GACnB+T,EAAQ6C,UAGN2pB,EAAO,CAAI74C,EAAGG,EAAGE,EAAI,IAAML,EAAIiV,KAAKwD,IAAItY,EAAIE,GAC5Cy4C,EAAO,CAAI94C,EAAGG,EAAGE,EAAI,IAAML,EAAIiV,KAAKyD,IAAIvY,EAAIE,iBAkD9CoyC,QAhFO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBmsB,EAAapsB,EAAOd,MAAQ,EAC5BmtB,EAAarsB,EAAOb,OAAS,EAC7Bsa,EAA2B,GAAfzZ,EAAOd,MACnBotB,EAAcC,EAAoB9S,EAElC5F,EAAUuY,EACVtY,EAAUuY,EAMVnqB,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,SAmBtB,EAAAhY,OAAMA,EAAMC,QAAEA,cACXrK,EAAS,EAAGA,EAAS22B,EAAmB32B,IAAM,KAC/CskB,EACAC,EAEAuD,EAAQnnC,eAAeqf,KACvBskB,EAAKwD,EAAQ9nB,GAAQ7M,EACrBoxB,EAAKuD,EAAQ9nB,GAAQ5M,SAGnB2jC,EAAY/2B,EAAS02B,EACrBv4C,EAAI,EACJD,EAAI,EACJ84C,EAAUrgC,EAAiByW,GAASna,KAAKuB,GAAK,MAChDrB,EAAI8qB,EAAU4Y,EAAQE,EAAWC,EAAS74C,GAC1CiV,EAAI8qB,EAAU4Y,EAAQC,EAAWC,EAAS94C,SAExC8/B,EAAQrE,GAAexmB,EAAGC,EAAG6/B,EAAM,KACzC9/B,GAAK6qB,EACL5qB,GAAK4qB,QAECiZ,EAAYL,EAAW1wC,QAAQlD,KAAY,GAAPiwC,QAE/Bp0B,IAAPylB,QAA2BzlB,IAAP0lB,GACpBoJ,EAAStjB,EAASia,EAAIC,EAAIpxB,EAAGC,EAAG6jC,EAAW,IAG/CnP,EAAQ9nB,GAAM,GAAM7M,IAAGC,GAEvB6/B,GAAQ,OAGZ7lB,GAAS,EAELA,EAAQ,IAAG,CACXA,EAAQ,EAERupB,EAAoBrzB,EAAmB,IAAK,KAC5CozB,EAAc,QAERQ,EhC7CY,EAAIt3B,EAAQ,YAChCI,EAASsD,EAAmB,EAAG1D,GAC/BwN,EAAQ/J,EAAoB,EAAG3O,UAC5BvB,EAAG6M,EAAS/M,KAAKwD,IAAI2W,GAAQha,EAAG4M,EAAS/M,KAAKyD,IAAI0W,KgC0CtC+pB,CAA+C,KAA5B/sB,EAAOd,MAAQua,IAC/C5F,EAAUuY,EAAaU,EAAK/jC,EAC5B+qB,EAAUuY,EAAaS,EAAK9jC,EAC5BkZ,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,EAAgBx9B,SAAS,WWjE7DwyC,GAAE,CACE7G,KAAI,oCACJC,OZHqB,WACnBC,EAAM,CACR1Z,KAAI,mBACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,QAGP4Z,EACAC,EACAiE,EACAC,QACErC,EAAUrZ,GAASG,IACnBkH,EAAkBtjB,EAAAjM,EAAA,CAAS,aAE7BogC,EAAO,QAELoE,EAAY,CAAIC,EAASC,EAAQvE,EAAQz2C,EAAQi7C,EAAS,WAQtD/tB,EAAQ,IAAO/C,GAPV,CACPvT,EAAGokC,EACHnkC,EAAG4/B,EACHpsB,UAAW,EACXC,UAAW,EACXG,KAAM,IAGJqH,EAAM,WACH/xB,EAAI,EAAGA,EAAIC,EAAQD,IAAC,OACnB6X,EAAQmjC,EAAQ7tB,EAAStW,EAAGsW,EAASrW,GAErCgW,EAAQ5S,EAAYrC,GAC1BsV,EAAShB,WAAWW,GACpBK,EAAS1B,SAAW0B,EAAS1B,SAASmhB,MAAMsO,GAC5C/tB,EAASsnB,wBACT1iB,EAAO1qB,KAAI,CAAE8lB,EAAStW,EAAGsW,EAASrW,IAClCqW,EAAStB,aAAY,IAAOjV,EAAO,EAAG,UAEnCmb,GAOL2P,EAAQxa,IAFA,CAAIrQ,EAAGC,IAAM6mB,GAAkBqY,EAAaC,EAAcp/B,EAAGC,GACjE,CAAID,EAAGC,IAAM8mB,GAAcoY,EAAaC,EAAcp/B,EAAGC,OAG/DywB,EAccvgB,EAAmB,GAAI,WACnCm0B,EAAkBn0B,EAAmB,EAAG,kBAsB1CmtB,QAnCO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBioB,EAAcloB,EAAOd,MACrBipB,EAAenoB,EAAOb,OACtBitB,EAAapsB,EAAOd,MAAQ,EAC5BmtB,EAAarsB,EAAOb,OAAS,EAC7Bsa,EAA2B,GAAfzZ,EAAOd,MAEnBgD,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,GAE5B7B,GAAYnW,EAAQC,EAAS2T,EAAK,kBAAqB5T,EAAOd,MAAQ,GAAI,SAMpE,EAAAc,OAAMA,EAAMC,QAAEA,YACdxsB,EAAQ4lB,EAAM2wB,GACdvyB,EAAkB,EAAZgiB,EAEN6T,EAAS54B,EAAAC,GAAOgB,SAAS8jB,GAEzB1wB,EAAIukC,EAAO,GAAKlB,EAChBpjC,EAAIskC,EAAO,GAAKjB,EAChBpgC,EAAKlD,EAAI,EACTmD,EAAKlD,EAEL2lB,EAAQse,EAAarZ,EAAO7qB,EAAGC,EAAGyO,EAAK,GACvCmX,EAAQqe,EAAarZ,EAAO3nB,EAAIC,EAAIuL,EAAK,GAAGwf,UAzG1C,CAAIhX,GAAO,CAAM0O,EAAOC,EAAOn7B,EAAOqvB,GAAS,EAAOgM,EAAY,WACxEye,EAAS5e,EAAM,GAAG,GAClB6e,EAAS7e,EAAM,GAAG,GAElB8e,GADO7e,EAAM,GAAG,GACTA,EAAM,GAAG,GAAKE,GAErBqI,EAASziB,EAAAjM,EAAA,CAAUhV,GAAOqI,QAC1BmzB,EAAWhP,EAAQiP,qBAAqB,EAAGse,EAAS1e,EAAW,EAAG2e,EAAO3e,GAC/EG,EAASG,aAAa,EAAG+H,EAAOj8B,eAChC+zB,EAASG,aAAa,EAAG+H,EAAOr7B,QAAQnD,OAAO,IAAIuC,eAEnD+kB,EAAQoC,YACRpC,EAAQ2C,OAAO2qB,EAAQC,GACvB7e,EAAM1N,SAAO,CAAElO,EAAG7gB,KACdykC,GAAgB1W,EAASlN,EAAG7gB,EAAG,EAAe,GAAZ48B,MAEtCF,EAAM3N,SAAO,CAAElO,EAAG7gB,KACdykC,GAAgB1W,EAASlN,EAAG7gB,EAAG48B,EAAuB,GAAZA,MAE9C7O,EAAQ4C,OAAO0qB,EAAQC,GAEnB1qB,IACA7C,EAAQK,YAAc6W,EAAOx+B,OAAO,IAAIuC,cACxC+kB,EAAQQ,UAAY,IACpBR,EAAQ6C,UAGZ7C,EAAQM,UAAY0O,EACpBhP,EAAQsC,QA+EJmrB,CAAWztB,EAAXytB,CAAoB/e,EAAOC,EAAOn7B,GAAO,EAAO45C,GAEhDxE,GAAQ,QYzEZ8E,GAAE,CACExH,KAAI,oCACJC,OVuBsB,WACpBC,EAAM,CACR1Z,KAAI,mBACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,QAGP8d,EACAC,QACErC,EAAUrZ,GAAQ,WAClBqH,EAAkBtjB,EAAAjM,EAAA,CAAS,aAE7BogC,EAAO,QAELoE,EAAY,CAAIC,EAASC,EAAQvE,EAAQz2C,EAAQi7C,EAAS,WAQtD/tB,EAAQ,IAAO/C,GAPV,CACPvT,EAAGokC,EACHnkC,EAAG4/B,EACHpsB,UAAW,EACXC,UAAW,EACXG,KAAM,IAGJqH,EAAM,WACH/xB,EAAI,EAAGA,EAAIC,EAAQD,IAAC,OACnB6X,EAAQmjC,EAAQ7tB,EAAStW,EAAGsW,EAASrW,GAErCgW,EAAQ5S,EAAYrC,GAC1BsV,EAAShB,WAAWW,GACpBK,EAAS1B,SAAW0B,EAAS1B,SAASmhB,MAAMsO,GAC5C/tB,EAASsnB,wBACT1iB,EAAO1qB,KAAI,CAAE8lB,EAAStW,EAAGsW,EAASrW,IAClCqW,EAAStB,aAAY,IAAOjV,EAAO,EAAG,UAEnCmb,GAOL2P,EAAQxa,IAFA,CAAIrQ,EAAGC,IAAM6mB,GAAkB7P,OAAOd,MAAOc,OAAOb,OAAQpW,EAAGC,GACnE,CAAID,EAAGC,IAAM8mB,GAAc9P,OAAOd,MAAOc,OAAOb,OAAQpW,EAAGC,OAGjEywB,QAmBEmU,EAAY10B,EAAmB,IAAK,KACpCm0B,EAAkBn0B,EAAmB,IAAK,KAE1C20B,EAAiB30B,EAAmB,GAAI,QAC1C40B,EAAoB,gBAwBpBzH,QA7CO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBmsB,EAAapsB,EAAOd,MAAQ,EAC5BmtB,EAAarsB,EAAOb,OAAS,EAC7Bsa,EAA2B,GAAfzZ,EAAOd,MAEnBgD,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,SAkBtB,EAAAhY,OAAMA,EAAMC,QAAEA,YACdxsB,EAAQ4lB,EAAM2wB,GACdvyB,EAAMm2B,EAGNN,EAAM,CAAIp0B,EAAmB,EAAG8G,EAAOd,OAAQhG,EAAmB,EAAG8G,EAAOb,SAE5EpW,EAAIukC,EAAO,GACXtkC,EAAIskC,EAAO,GACXrhC,EAAKlD,EAAI,EACTmD,EAAKlD,EAEL2lB,EAAQse,EAAarZ,EAAO7qB,EAAGC,EAAGyO,EAAK,GACvCmX,EAAQqe,EAAarZ,EAAO3nB,EAAIC,EAAIuL,EAAK,MAC/Cof,GAAW5W,EAAX4W,CAAoBlI,EAAOC,EAAOn7B,GAAO,EAAO45C,GAEhDxE,GAAQ,MAEFiF,EAAoBD,EAAc,OAAS,MU3GrDE,GAAE,CACE5H,KAAI,0CACJC,OGlDgB,WACdC,EAAM,CACR1Z,KAAI,cACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,QAKP4Y,EACAC,EACAC,EACAgD,QACE4D,EAAK,GACKrd,GAASG,QACrB+X,EAAO,gBAiFPxC,QA/EO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBinB,EAAgBlnB,EAAOd,MAAQ,EAC/BioB,EAAgBnnB,EAAOb,OAAS,EAChCioB,EAAepnB,EAAOb,OAAS,EAE/B+C,GAAWlC,EAAQC,EAAnBiC,CAA4BoO,IAEXA,GAAWx0B,QAAQnD,OAAO,IAAIL,SAAS,UAIlD21C,EAAaplC,KAAK5V,MAAM+sB,EAAOd,MAAQ,IACvCgvB,EAAarlC,KAAK5V,MAAMg7C,EAAa,GAE3C7D,EAAOpX,GAAahT,EAAOd,MAAOc,EAAOb,OAAQ,EAAG,GAAI8uB,EAAYC,GAEpE9D,EAAKhwB,OAAO6G,SAAO,CAAEjrB,EAAG9D,KACpB87C,EAAMz0C,KAAI,IACFq+B,GAAG,QACH5X,UACAC,EACAlX,EAAG/S,EAAE,GACLgT,EAAGhT,EAAE,GACLkpB,MAAOkrB,EAAK3W,YACZtU,OAAQirB,EAAK1W,oBAKrBya,EAAO,YAEXH,EAAM/sB,SAAO,CAAEntB,EAAGs6C,WACRC,EAAS,GAEfv6C,EAAEkkC,gBAAkB3H,GAAWv0B,QAC/BhI,EAAEikC,UAAS,CAAIhvB,EAAGC,EAAG9S,IAAMq5B,GAAexmB,EAAGC,EAAG9S,EAAGi4C,GACnDA,GAAQ,aACCj8C,EAAI,EAAGA,EA/CH,GA+CqBA,IAAC,OACzBkrB,EAAQ6B,GAA2Be,GACnCiE,EAASnwB,EAAEw6C,cAAcx6C,EAAEy6C,kBAAiB,WAClDnxB,EAAMrU,EAAIkb,EAAOlb,EACjBqU,EAAMpU,EAAIib,EAAOjb,EACjBoU,EAAMZ,UAAY,EAClBY,EAAMX,UAAY,EAClBW,EAAMxH,OAAS,EACfwH,EAAM3pB,MAAQ26C,GAAQ,EAAI/d,GAAWv0B,QAAUw0B,GAAWx0B,QAC1DuyC,EAAU90C,KAAI,IAAK+iB,GAASc,IAEhCtpB,EAAEg0B,SAAWumB,EAEb/T,GAAmBra,EAAnBqa,CAA4BxmC,EAAEiV,EAAGjV,EAAEkV,EAAGlV,EAAEorB,MAAOprB,EAAEqrB,OAAQrrB,EAAEkkC,gBAAiBoW,EAAO,OAOhF,QAGD,EAAApuB,OAAMA,EAAMC,QAAEA,MACpB+tB,EAAM/sB,SAASutB,IACXA,EAAIC,aACJD,EAAI1mB,SAAS7G,SAAS5B,UACZtV,EAAQykC,EAAIzW,UAAU1Y,EAAStW,EAAGsW,EAASrW,EAAG6/B,GAC9C7pB,EAAQ5S,EAAYrC,GAC1BsV,EAAShB,WAAWW,GACpBK,EAAS1B,SAAW0B,EAAS1B,SAASmhB,MAAM,GAC5Czf,EAASsnB,wBACTtnB,EAAStB,aAAY,IAAOjV,EAAO,EAAG,GACtC0lC,EAAIE,iBAAiBrvB,GACrB+C,GAAMnC,EAANmC,CAAe/C,EAAStW,EAAGsW,EAASrW,EAAGqW,EAAS5rB,MAAK,SAAY,OAErE+6C,EAAIG,gBAER9F,GAAQ,OHxCZ+F,GAAE,CACEzI,KAAI,yDACJC,OIxDmB,WACjBC,EAAM,CACR1Z,KAAI,gBACJ8B,MAAOX,GAAMM,OAEblO,MAAOoO,QAGPugB,EACA3G,EACAC,EACAjB,EACAC,EACAC,EACAjS,EACAC,EACA+X,EACAzE,EACAE,EACAD,QACExV,EAAS,GAGT6E,EAAkB1H,GAAWx0B,QAC7Bi5B,EAAK,IAAOJ,GAAOjgB,EAAAqmB,KAEnB+T,EAAgBp6B,EAAAjM,EAAA,CAAS,WACzBsmC,EAAmBr6B,EAAAjM,EAAA,CAAS,WAE5BumC,EAAgBt6B,EAAAjM,EAAA,CAAS,WACzBwmC,EAAmBv6B,EAAAjM,EAAA,CAAS,WA8D5BymC,EAAe,CAAI9pB,EAAO+pB,WACtBpmC,EAAIqc,EAAM,GACVpc,EAAIoc,EAAM,GAGV3nB,EAAOs3B,EAAMqa,wBAAwBrmC,EAAGC,EAAGqkC,EAAqB,IAAK,KAAO,QAC9EgC,EAAU,EAGVF,IACAE,GAAiB,EAAP5xC,GAIdoxC,EAAIhsB,OAAO9Z,EAAIsmC,EAASrmC,IA6BtBsmC,EAAgBl1B,IAClBA,EAAO6G,SAASsuB,IACRA,EAAKp9C,QA5BD,EAAIw8B,EAAOl7B,EAAOqvB,GAAS,WACjCqU,EAASziB,EAAAjM,EAAA,CAAUhV,GAAOqI,QAC1BmzB,EAAW4f,EAAI3f,qBAAqB,EAAG0Z,EAAQ,EAAGD,GACxD1Z,EAASG,aAAa,EAAG4f,EAAc9zC,eACvC+zB,EAASG,aAAa,EAAG6f,EAAiB/zC,eAE1C2zC,EAAIxsB,YACJwsB,EAAIjsB,OAAO+L,EAAM,GAAIA,EAAM,IAC3BA,EAAM1N,SAASlO,IACXm8B,EAAgBn8B,GAAG,MAEvB4b,EAAMsI,UAAUhW,SAASlO,IACrBm8B,EAAgBn8B,GAAG,MAEvB87B,EAAIrsB,YAEAM,IACA+rB,EAAIvuB,YAAc6W,EAAOx+B,OAAO,IAAIuC,cACpC2zC,EAAIpuB,UAAY,IAChBouB,EAAI/rB,UAGR+rB,EAAItuB,UAAY0O,EAChB4f,EAAItsB,QAMIitB,CAAWD,EAAI,OAAS,OAS9BE,EAAoB,CAAIC,EAASC,SAG/B3mC,EAAI,QACFjV,EAAI8U,KAAKuB,GAAK,EACdgQ,EAAM,WACHrR,EAAI,EAAGA,EAAIm/B,EAAan/B,IAAC,OACxBjV,EAAIiV,EAEVC,EAPQ,GAOEH,KAAKyD,KAAKtD,EAAIjV,EAAID,GARnB,IAQgCiV,EAAIhV,QACvCqmC,EAAKrxB,EAAI2mC,EACTrV,EAAKrxB,EAAI2mC,EACXvV,EAAK+S,GAAU/S,EAAKsO,GAAQrO,EAAKuO,GAAUvO,EAAKsO,GAChDvuB,EAAO7gB,KAAI,CAAE6gC,EAAIC,WAGlBjgB,iBAkBPisB,QArJO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrB8U,EAAMmX,KAAKlsB,EAAQC,GAEnB4uB,EAAM5uB,EACNioB,EAAcloB,EAAOd,MACrBipB,EAAenoB,EAAOb,OACtB+nB,EAAgBlnB,EAAOd,MAAQ,EAC/BioB,EAAgBnnB,EAAOb,OAAS,EAChCioB,EAAepnB,EAAOb,OAAS,EAE/BgW,EAAanV,EAAOd,MAAQiU,IAC5BiC,EAAcpV,EAAOb,OAASgU,IAE9Bga,EAASha,EACTuV,EAAO1oB,EAAOd,MAAQiU,EACtByV,EAASzV,EACTwV,EAAO3oB,EAAOb,OAASgU,EAEvBjR,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,SAoHtB,EAAAhY,OAAMA,EAAMC,QAAEA,YACd7F,EAAM,GA/GC,YAEPw1B,GAASzc,WAINpqB,EAAIokC,EAASyC,EAAQ7mC,EAAI2/B,EAAOkH,EAAQ7mC,GAL9BskC,EAK6C,IAAA,IACnDrkC,EAAI4/B,EAASgH,EAAQ5mC,EAAI2/B,EAAOiH,EAAQ5mC,GANlCqkC,EAMiD,OAEtDwC,EADU9a,EAAMa,qBAAqB7sB,EAAGC,GACjBnP,gBACvBi2C,EAAShkC,EAAS,IAAK,IAAK,EAAG,GAAI+jC,GAEnCp8C,EAAQihB,EAAAjM,GAAU5L,IAAIiyC,EAAeC,EAAkBjjC,EAAS88B,EAAQD,EAAM,EAAG,IAAK3/B,IAEtFvL,EAbK4vC,EAePwC,EAAe,KAAKp8C,EAAMgF,SAASq3C,GAEnCD,GAAgB,IAAMA,GAAgB,KACtCp8C,EAAMmF,KAAK,IAUfwpB,GAAMysB,EAANzsB,CAAWrZ,EAAGC,EAAGvV,EAAK,SAAYgK,KAoF1CsyC,WAEShnC,GAAyB,GAApBosB,EAAa,KAAWpsB,EAAiB,EAAbosB,EAAgBpsB,GAtJtC,GAuJhBqR,EAAO7gB,KAAKk2C,EAAqB1mC,EAAG,WAGxCumC,EAAal1B,IAEN,MJvHX41B,GAAE,CACE7J,KAAI,8EACJC,OK3BsB,WACpBC,EAAM,CACR1Z,KAAI,sBACJ8B,MAAOX,GAAMG,OACb/N,MAAOoO,GACP2Z,YAAapa,QAKbghB,EACAzC,EACAC,QACEhE,EAAchC,EAAOnmB,MACrB+vB,EAAM,OACRpH,EAAO,QAEL7Q,EAAkBzH,GAOlBqD,EAAK,CAAI7qB,EAAGC,IAAMqmB,GAAetmB,EAAGC,EAAG,oBAmIzCq9B,QA7HO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrB4uB,EAAM5uB,EACNmsB,EAAapsB,EAAOd,MAAQ,EAC5BmtB,EAAarsB,EAAOb,OAAS,EAC7B+C,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,SACtBkY,EAAa11B,GAjED,GAAA0E,MAAMA,EAAKC,OAAEA,GAAUguB,EAAQvE,EAAQrL,EAAQ,YAC/DtZ,EAAM,GACNksB,EAAOtnC,KAAK5V,MAAMisB,EAAQqe,GAC1B6S,EAAOlxB,EAAQ,UACZhtB,EAAIi7C,EAAQj7C,EAAIgtB,EAAOhtB,GAAKi+C,EAAI,OAE/BE,EAAUxnC,KAAK5V,MAAMm9C,EAAOvnC,KAAKX,IAAIhW,EAAIk+C,IACzCpnC,EAAIgQ,EAAyB4vB,EAASyH,EAASzH,EAASyH,GAE9DpsB,EAAO1qB,KAAI,CAAErH,EAAG8W,WAEpBib,EAAO1qB,KAAI,CAAE2lB,EAAO0pB,IACb3kB,GAqD2CqsB,CAAqBtwB,EAAQ,EAAGqsB,EAAY,KACpFkE,EAAW/1B,GAnDD,GAAA0E,MAAMA,EAAKC,OAAEA,GAAUguB,EAAQvE,EAAQrL,EAAQ,YAC7DtZ,EAAM,GACNksB,EAAOtnC,KAAK5V,MAAMksB,EAASoe,GAC3BiT,EAAOrxB,EAAS,UACbjtB,EAAI02C,EAAQ12C,EAAIitB,EAAQjtB,GAAKi+C,EAAI,OAEhCE,EAAUxnC,KAAK5V,MAAMu9C,EAAO3nC,KAAKX,IAAIhW,EAAIs+C,IACzCznC,EAAIiQ,EAAyBm0B,EAASkD,EAASlD,EAASkD,GAE9DpsB,EAAO1qB,KAAI,CAAEwP,EAAG7W,WAEpB+xB,EAAO1qB,KAAI,CAAE4zC,EAAQhuB,IACd8E,GAuCyCwsB,CAAmBzwB,EAAQosB,EAAY,EAAG,KAChFsE,ExBhFgB,EAAIC,EAASC,EAASh7B,EAAQ2nB,EAAO3iB,GAAQ,WAGjER,EAAM,WACH4I,EAHU,IAGUA,EAFZ,IAE8BA,GAASua,EAAK,OACnDxzB,EAAQiZ,GAASna,KAAKuB,GAAK,KAC3BrB,EAAIF,KAAKwD,IAAItC,GAAS6L,EAAS+6B,EAC/B3nC,EAAIH,KAAKyD,IAAIvC,GAAS6L,EAASg7B,EACrCx2B,EAAO7gB,KAAI,CAAEwP,EAAGC,OAEhB4R,EAAK,OACC7Q,EATO,IASiBlB,KAAKuB,GAAK,IAAf,EACnBrB,EAAIF,KAAKwD,IAAItC,GAAS6L,EAAS+6B,EAC/B3nC,EAAIH,KAAKyD,IAAIvC,GAAS6L,EAASg7B,EACrCx2B,EAAO7gB,KAAI,CAAEwP,EAAGC,WAEboR,GwBgEYy2B,CAAkBzE,EAAYC,EAAYD,EAAa,EAAa,EAAVvjC,KAAKuB,IAAQ,GAEhF0mC,EACe,IADfA,EAEY,KAFZA,EAGY,EAHZA,EAIS,EAJTA,EAKW,EALXA,EAMS,IAGTC,EAAW,IAAO/U,GAAgB0U,EAAM,YAvB/B,GAyBXjT,kBAxBY,GAyBZlB,eAAgB,EAChBK,eAAgB,EAChBN,SAAS,EACTD,cAAc,EAEdK,gBAAiBoU,EACjBnU,aAAcmU,EACd7T,UAAW6T,EACX5T,oBAAqB4T,EACrBtU,qBAAsBsU,EACtBhU,UAAWgU,EACX9T,gBAAiB8T,EAIjB1T,QAASxJ,EACTuJ,UAAS,MACTE,oBAAqB,EACrBC,cAAe,KA2Bb0T,GAxBa,IAAOhV,GAAgBuU,EAAQ,YA/CnC,GAiDX9S,kBAhDY,GAiDZlB,eAAgB,EAChBK,eAAgB,EAChBN,QAjDQ,MAkDRD,cAAc,EAEdK,gBAAiBoU,EACjBnU,aAAcmU,EACd7T,UAAW6T,EACX5T,oBAAqB4T,EACrBtU,qBAAsBsU,EACtBhU,UAAWgU,EACX9T,gBAAiB8T,EAIjB1T,QAASxJ,EACTuJ,UAAS,MACTE,oBAAqB,EACrBC,cAAe,KAGE,IAAOtB,GAAgBkU,EAAU,YAvEvC,GAyEXzS,kBAxEY,GAyEZlB,eAAgB,EAChBK,eAAgB,EAChBN,QAzEQ,MA0ERD,cAAc,EAEdK,gBAAiBoU,EACjBnU,aAAcmU,EACd7T,UAAW6T,EACX5T,oBAAqB4T,EACrBtU,qBAAsBsU,EACtBhU,UAAWgU,EACX9T,gBAAiB8T,EAIjB1T,QAASxJ,EACTuJ,UAAS,MACTE,oBAAqB,EACrBC,cAAe,MAGnB2S,EAAO12C,KAAKw3C,EAAaC,SAGnB,EAAAhxB,OAAMA,EAAMC,QAAEA,YAKdgxB,EAAU,CAAI5gB,GAAY3b,EAAAjM,EAAA,CAAS,YACnCyoC,EAAM,EAAI,GAAM,GAGtBjB,EAAOhvB,SAASrtB,YACH1B,EAAI,EAAGA,EAAIm2C,EAAan2C,IAC7B0B,EAAEu9C,UAKVlB,EAAOhvB,SAAO,CAAErtB,EAAG1B,WACTkW,EAAI6oC,EAAW/+C,GAAG4J,QAAQtB,SAAS,KAOnC4f,EAAS4gB,GAAcpnC,EAAEwmB,OAAQ,GACnCA,EAAOjoB,QAAQ+xB,GAAY2qB,EAAZ3qB,CAAiB9J,EAAQhS,EAAG,EAAG8oC,EAAOh/C,OAG7D22C,GAAQ,QL1HZuI,GAAE,CACEjL,KAAI,iGACJC,OM3CsB,WACpBC,EAAM,CACR1Z,KAAI,sBACJ8B,MAAOX,GAAMG,OACb/N,MAAOoO,GACP2Z,YAAapa,QAGbghB,EACAzC,EACAC,QACEhE,EAAchC,EAAOnmB,MACrB+vB,EAAM,OACRpH,EAAO,QAEL7Q,EAAkBzH,GAElB0gB,EAAa1gB,GAAUz0B,QAAQrD,SAAS,IACxC44C,EAAaJ,EAAWn1C,QAGxBw1C,EADYtZ,EAAgBl8B,QAAQnD,OAAO,IACnBmD,QAAQnD,OAAO,GACvC44C,EAAevZ,EAAgBl8B,QAAQrD,SAAS,IAEhD+4C,EAAe98B,EAAAjM,EAAA,CAAS,qBACxBuhC,EAAO,CACTt1B,EAAAjM,EAAA,CAAS,oBACTiM,EAAAjM,EAAA,CAAS,oBACTiM,EAAAjM,EAAA,CAAS,qBACTiM,EAAAjM,EAAA,CAAS,sBACTiM,EAAAjM,GAAU5L,IAAG,mBAAqB20C,EAAc,IAChD98B,EAAAjM,GAAU5L,IAAG,mBAAqB20C,EAAc,IAChD98B,EAAAjM,GAAU5L,IAAG,oBAAsB20C,EAAc,IACjD98B,EAAAjM,GAAU5L,IAAG,qBAAuB20C,EAAc,IAClD98B,EAAAjM,GAAU5L,IAAG,mBAAqB20C,EAAc,IAChD98B,EAAAjM,GAAU5L,IAAG,mBAAqB20C,EAAc,IAChD98B,EAAAjM,GAAU5L,IAAG,oBAAsB20C,EAAc,IACjD98B,EAAAjM,GAAU5L,IAAG,qBAAuB20C,EAAc,IAClD98B,EAAAjM,GAAU5L,IAAG,mBAAqB20C,EAAc,IAChD98B,EAAAjM,GAAU5L,IAAG,mBAAqB20C,EAAc,IAChD98B,EAAAjM,GAAU5L,IAAG,oBAAsB20C,EAAc,IACjD98B,EAAAjM,GAAU5L,IAAG,qBAAuB20C,EAAc,KACpDva,cAEEwa,EAAa,KAAQpJ,QACnBzU,EAAK,CAAI7qB,EAAGC,IAAMqmB,GAAetmB,EAAGC,EAAGyoC,GA+DvCC,EAAmB,EAAIrJ,EAEvBsJ,EAAc,GAAKtJ,gBAqCrBhC,QAlGO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrB4uB,EAAM5uB,EACNmsB,EAAapsB,EAAOd,MAAQ,EAC5BmtB,EAAarsB,EAAOb,OAAS,QAEvByyB,EAAcp3B,GArEF,GAAA0E,MAAMA,EAAKC,OAAEA,GAAUguB,EAAQvE,EAAQrL,EAAQ,YAC/DtZ,EAAM,GACNksB,EAAOtnC,KAAK5V,MAAMisB,EAAQqe,GAC1B6S,EAAOlxB,EAAQ,UACZhtB,EAAIi7C,EAAQj7C,EAAIgtB,EAAOhtB,GAAKi+C,EAAI,OAE/BE,EAAUxnC,KAAK5V,MAAMm9C,EAAOvnC,KAAKX,IAAIhW,EAAIk+C,IACzCpnC,EAAIgQ,EAAyB4vB,EAASyH,EAASzH,EAASyH,GAE9DpsB,EAAO1qB,KAAI,CAAErH,EAAG8W,WAEpBib,EAAO1qB,KAAI,CAAE2lB,EAAO0pB,IACb3kB,GAyD4C4tB,CAAqB7xB,EAAQ,EAAGqsB,EAAY,KAErFyF,EAAa,KAEnBL,GAAcK,UAER5B,EAAU,IAAOlU,GAAgB4V,EAAW,YAdnC,GAgBXnU,kBAfY,GAgBZlB,eAAgB,EAEhBU,UAAW,EAAIoL,EACfnL,oBAAqB,EAAImL,EAEzB3L,gBAAiB,GACjBC,aAAc,MAEdH,qBAAsB,EAAI6L,EAAcyJ,EACxChV,UAAW,EAAIuL,EAAcyJ,EAC7B9U,gBAAiB,EAAIqL,EAAcyJ,EAEnCjV,iBAAkBiE,GAAkB,GAAKuL,GAEzCjP,QAASxJ,EACTuJ,UAAS,WACTE,oBAAqB,EACrBC,cAAe,KAGnB2S,EAAO12C,KAAK22C,WAGHh+C,EAAI,EAAGA,EAAI,GAAIA,IACpB+9C,EAAOhvB,SAASrtB,IACZA,EAAEu9C,UAIVjvB,GAAWlC,EAAQC,EAAnBiC,CAA4B8V,GAa5B2K,GAAe1iB,EAASD,EAAQ4T,EAAO,GAAKyU,EAAa,IAAMA,GAAa,EAVhE,EACNtF,MAAM,EAAIC,KAAM,EAAGC,MAAM,EAAIC,KAAM,EAAGzvC,MAAO89C,IAC7CxO,MAAM,EAAIC,MAAM,EAAIC,MAAM,EAAIC,KAAM,EAAGzvC,MAAO69C,IAC9CvO,MAAM,EAAIC,MAAM,EAAIC,MAAM,EAAIC,KAAM,EAAGzvC,MAAO69C,IAC9CvO,MAAM,EAAIC,KAAM,EAAGC,MAAM,EAAIC,KAAM,EAAGzvC,MAAO69C,IAC7CvO,KAAM,EAAGC,KAAM,EAAGC,MAAM,EAAIC,KAAM,EAAGzvC,MAAO89C,IAC5CxO,KAAM,EAAGC,KAAM,EAAGC,MAAM,EAAIC,KAAM,EAAGzvC,MAAO89C,IAC5CxO,KAAM,EAAGC,KAAM,EAAGC,MAAM,EAAIC,KAAM,EAAGzvC,MAAO89C,WAU5C,EAAAvxB,OAAMA,EAAMC,QAAEA,MAEpBgwB,EAAOhvB,SAASrtB,YACH1B,EAAI,EAAGA,EAAIm2C,EAAan2C,IAC7B0B,EAAEu9C,gBAIJY,EAAe/H,EAAQnhC,KAAK5V,MAAa,IAAP41C,GAAemB,EAAQ73C,eAG/D89C,EAAOhvB,SAAO,CAAErtB,EAAG1B,KACf0B,EAAEwoC,OAAOnb,SAAS1Z,UACRwL,EAAIlK,KAAKX,IAAI4D,EAAS,EAAGvE,EAAEy4B,YAAa,EAAG2R,EAAapqC,EAAE6S,OAAOjoB,SACvE+xB,GAAY2qB,EAAZ3qB,CAAiB3c,EAAE6S,OAAQ23B,EAAch/B,EAAI2+B,EAAmB,YAE9Dt3B,EAAS4gB,GAAcpnC,EAAEwmB,OAnBhB,GAoBf8J,GAAY2qB,EAAZ3qB,CAAiB9J,EAAQ23B,EAAcJ,EAAcD,MAIzDzB,EAAOhvB,SAAO,CAAErtB,EAAG1B,KACf0B,EAAEwoC,OAAOnb,SAAS1Z,UACRwL,EAAIlK,KAAKX,IAAI4D,EAAS,EAAGvE,EAAEy4B,YAAa2R,EAAc,EAAGA,EAAapqC,EAAE6S,OAAOjoB,SACrF+xB,GAAY2qB,EAAZ3qB,CAAiB3c,EAAE6S,OAAQi3B,EAAYt+B,YAErCqH,EAAS4gB,GAAcpnC,EAAEwmB,OA7BhB,GA8Bf8J,GAAY2qB,EAAZ3qB,CAAiB9J,EAAQ62B,EAAYU,GAAa,GAAO,MAG7D9I,IACO,MNlGXmJ,GAAE,CACE7L,KAAI,2BACJC,OOrEiB,WACfC,EAAM,CACR1Z,KAAI,2BACJ8B,MAAOX,GAAMM,OACblO,MAAOoO,QAIP4Z,EACAC,EAIA8J,EAFA9e,EAAS,UAIPhD,EAASiB,GAAS,EAAG,IAErB2D,EAAK,IAAOJ,GAAOjgB,EAAA6S,mBAmCrB8e,QAjCO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBioB,EAAcloB,EAAOd,MACrBipB,EAAenoB,EAAOb,OAEtB4V,EAAMmX,KAAKlsB,EAAQC,GAEnBkT,EAAS+U,EAAc,SAEjBxD,EAAQ,IAAOtD,GAAUjO,EAAQA,EAAQ+U,EAAuB,EAAT/U,EAAYgV,EAAwB,EAAThV,GAIlF/Y,EAAS2a,EAAMmd,kBAAkB,IAAK,KAC5CD,ERuFuB,EAAIE,EAAUC,EAAUh4B,EAAQi4B,EAAS,EAAGC,EAAO,WACxEL,EAAQ,IAAOxN,GAAS0N,EAAUC,EAAUC,EAAQC,UAC1Dl4B,EAAO6G,SAASjrB,GAAMi8C,EAASrM,OAAO5vC,KAC/Bi8C,GQ1FQM,CAAmB7N,EAAU,EAAGtqB,SAKrC,EAAA4F,OAAMA,EAAMC,QAAEA,MACpBiC,GAAWlC,EAAQC,EAAnBiC,CAA4BiO,EAAOmB,aAE7Bj+B,EAAM6lB,EAAmB,EAAG,IR6EX,IAAIs5B,SAAAA,EQ3ERP,ER2EeO,EAAGxM,UAAUyM,MAAI,CAAE1+C,EAAGD,IAAMC,EAAEga,MAAQja,EAAEia,SQ3E7CkT,SAAShrB,IAElCA,EAAEyuC,SAASgO,MAAQx5B,EAAmB,EAAG7lB,GT9CjC,EAAI4sB,EAAS4lB,EAAW8M,EAAI,QAAYC,EAAI,iBACtDnvB,EAAOoiB,EAAU9yB,EAAI,EACrB8/B,EAAQhN,EAAU9yB,EAAI,EACtB+/B,EAAoB,EAARD,EACZE,EAAQlN,EAAU9yB,EAAI,MAExBgxB,EAAY4O,EACZ3O,EAAY4O,SAEZ/M,EAAUvE,MAAQ,IAClByC,EAAY6O,EACZ5O,EAAY2O,GAGhB1yB,EAAQoC,YAERtB,GAAWd,EAAXc,CAAkB,CACdT,YAAa5L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cAClCqlB,UAAW7L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cAChCwlB,QAAO,OACPD,UAAWoyB,EACXlyB,SAAQ,UAGZ2C,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAG88B,EAAU78B,EAAG68B,EAAU9yB,EAAG8yB,EAAU9yB,EAAGixB,GAE1DJ,GAAUiC,EAAU6M,iBAI1BruB,GAAWpE,EAAXoE,CAAoBwhB,EAAU55B,GAAI45B,EAAU78B,EAAGya,EAAM5a,KAAKuB,GAAK,GAC/Dia,GAAWpE,EAAXoE,CAAoBwhB,EAAU98B,EAAG88B,EAAU35B,GAAIuX,EAAgB,IAAV5a,KAAKuB,kBAG1Dia,GAAWpE,EAAXoE,CAAoBwhB,EAAU98B,EAAG88B,EAAU78B,EAAGya,EAAM,GACpDY,GAAWpE,EAAXoE,CAAoBwhB,EAAU55B,GAAI45B,EAAU35B,GAAIuX,EAAM5a,KAAKuB,kBAG3DqY,GAAKxC,EAALwC,CAAcojB,EAAU98B,EAAG88B,EAAUjiB,GAAIiiB,EAAU55B,GAAI45B,EAAUjiB,kBAGjEnB,GAAKxC,EAALwC,CAAcojB,EAAUliB,GAAIkiB,EAAU78B,EAAG68B,EAAUliB,GAAIkiB,EAAU35B,kBAGjEuW,GAAKxC,EAALwC,CAAcojB,EAAU98B,EAAG88B,EAAUjiB,GAAIiiB,EAAU55B,GAAI45B,EAAUjiB,IACjEnB,GAAKxC,EAALwC,CAAcojB,EAAUliB,GAAIkiB,EAAU78B,EAAG68B,EAAUliB,GAAIkiB,EAAU35B,kCAMjEoX,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAG88B,EAAU78B,EAAG68B,EAAU9yB,EAAG8yB,EAAU9yB,EAAGgxB,mBAGxE1f,GAAWpE,EAAXoE,CAAoBwhB,EAAU98B,EAAG88B,EAAU78B,EAAGya,EAAM,mBAGpDY,GAAWpE,EAAXoE,CAAoBwhB,EAAU55B,GAAI45B,EAAU78B,EAAGya,EAAM5a,KAAKuB,GAAK,mBAG/Dia,GAAWpE,EAAXoE,CAAoBwhB,EAAU98B,EAAG88B,EAAU35B,GAAIuX,EAAgB,IAAV5a,KAAKuB,oBAG1Dia,GAAWpE,EAAXoE,CAAoBwhB,EAAU55B,GAAI45B,EAAU35B,GAAIuX,EAAM5a,KAAKuB,mBAG3DkZ,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAG88B,EAAU78B,EAAG68B,EAAU9yB,EAAG+/B,EAAW/O,kBAGtEzgB,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAG88B,EAAU78B,EAAI6pC,EAAOhN,EAAU9yB,EAAG+/B,EAAW/O,kBAG9EzgB,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAI8pC,EAAOhN,EAAU78B,EAAG8pC,EAAWjN,EAAU9yB,EAAGgxB,kBAG9EzgB,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAG88B,EAAU78B,EAAG8pC,EAAWjN,EAAU9yB,EAAGgxB,cAErE,WAGDzgB,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAG88B,EAAU78B,EAAG68B,EAAU9yB,EAAG8yB,EAAU9yB,EAAGgxB,GAIhF5gB,GAAalD,EAAbkD,CAAsB0iB,EAAU98B,EAAG88B,EAAU78B,EAAG6pC,EAAO7O,GACvD7gB,GAAalD,EAAbkD,CAAsB0iB,EAAU55B,GAAI45B,EAAU78B,EAAG6pC,EAAO7O,GACxD7gB,GAAalD,EAAbkD,CAAsB0iB,EAAU55B,GAAI45B,EAAU35B,GAAI2mC,EAAO7O,GACzD7gB,GAAalD,EAAbkD,CAAsB0iB,EAAU98B,EAAG88B,EAAU35B,GAAI2mC,EAAO7O,GAExD7gB,GAAalD,EAAbkD,CAAsB0iB,EAAUliB,GAAIkiB,EAAU78B,EAAG+pC,EAAOhP,GACxD5gB,GAAalD,EAAbkD,CAAsB0iB,EAAU55B,GAAI45B,EAAUjiB,GAAImvB,EAAOhP,GACzD5gB,GAAalD,EAAbkD,CAAsB0iB,EAAUliB,GAAIkiB,EAAU35B,GAAI6mC,EAAOhP,GACzD5gB,GAAalD,EAAbkD,CAAsB0iB,EAAU98B,EAAG88B,EAAUjiB,GAAImvB,EAAOhP,GAIxD9jB,EAAQuC,aShDAwwB,CAAQ/yB,EAAShqB,EAAEyuC,SAAUvU,EAAOoB,KAAMpB,EAAOmB,WAG9C,MPsBX2hB,GAAE,CACE9M,KAAI,2BACJC,OQxEmB,WACjBC,EAAM,CAAK1Z,KAAI,8BAAiC6B,QAElD0Z,EACAC,EAIA+K,EAFA/f,EAAS,UAIPhD,EAASiB,GAAS,EAAG,kBA+BvBiV,QA7BO,EAAArmB,OAAMA,EAAMC,QAAEA,MACrBioB,EAAcloB,EAAOd,MACrBipB,EAAenoB,EAAOb,OAEtBgU,EAAStqB,KAAK5V,MAAMi1C,EAAc,IAGlCgL,EAAa9Q,GAAejP,EAAQA,EAAQ+U,EAAuB,EAAT/U,EAAYgV,EAAwB,EAAThV,EAAY,GAAI,UAW/F,EAAAnT,OAAMA,EAAMC,QAAEA,MACpBiC,GAAWlC,EAAQC,EAAnBiC,CAA4BiO,EAAOmB,OAEnC4hB,EAAWjyB,SAASrtB,IAChBA,EAAE8+C,MAAQx5B,EAAmB,EAAG,GVsOd,EAC1B+G,EACA4lB,EACAsN,EAAQ,EACR1yB,EAAY,EACZ0S,EAAS,EACTwf,EAAI,QACJC,EAAI,eAEA7O,EAAY4O,EACZ3O,EAAY4O,SAEZ/M,EAAUvE,MAAQ,IAClByC,EAAY6O,EACZ5O,EAAY2O,GAGhB1yB,EAAQoC,YAERtB,GAAWd,EAAXc,CAAkB,CACdT,YAAa5L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cAClCqlB,UAAW7L,EAAAjM,EAAA,CAAUs7B,GAAW7oC,cAChCwlB,QAAO,iBACPD,EACAE,SAAQ,UAGZ2C,GAAWrD,EAAXqD,CAAoBuiB,EAAU98B,EAAG88B,EAAU78B,EAAG68B,EAAU9yB,EAAG8yB,EAAU9yB,EAAGixB,GAE1DQ,GAAoBqB,EAAU6M,gBAIpCvO,GAAoBlkB,EAApBkkB,CACI0B,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV8yB,EAAU9yB,EACV0N,EACA0yB,EACAhgB,EACA4Q,EACA6O,GAEJ9O,GAAsB7jB,EAAtB6jB,CACI+B,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV8yB,EAAU9yB,EACV0N,EACA0yB,EACAhgB,EACA4Q,EACA6O,iBAIJ9O,GAAsB7jB,EAAtB6jB,CACI+B,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV8yB,EAAU9yB,EACV0N,EACA0yB,EACAhgB,EACA4Q,EACA6O,GAEJzO,GAAoBlkB,EAApBkkB,CACI0B,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV8yB,EAAU9yB,EACV0N,EACA0yB,EACAhgB,EACA4Q,EACA6O,mBAIJrO,GAAgBtkB,EAAhBskB,CACIsB,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV0N,EACA,EACA0yB,EACAhgB,EACA4Q,EACA6O,mBAIJrO,GAAgBtkB,EAAhBskB,CACIsB,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV0N,EACA,EACA0yB,EACAhgB,EACA4Q,EACA6O,mBAIJrO,GAAgBtkB,EAAhBskB,CACIsB,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV0N,EACA,EACA0yB,EACAhgB,EACA4Q,EACA6O,mBAIJrO,GAAgBtkB,EAAhBskB,CACIsB,EAAU98B,EACV88B,EAAU78B,EACV68B,EAAU9yB,EACV0N,EACA,EACA0yB,EACAhgB,EACA4Q,EACA6O,GAQZ3yB,EAAQuC,aU9WA4wB,CAAkBnzB,EAASrsB,EAAG,EAAG,GAAK,EAAGu8B,EAAOoB,KAAMpB,EAAOmB,WAG1D,aCvCT+hB,GpCkEa,EAAIC,EAAYC,EAAQ,EAAGC,WACpC9M,EAAK,CACP39B,OAAG0L,EACHzL,OAAGyL,EACHg/B,QAAQ,EACR79B,OAAQ,KAGN89B,EAAWH,EACXI,EAAYH,MAKdI,EACAC,EACAC,EACAC,EAPAC,EAAU,KACVC,GAAa,EACb7oB,EAAM,EACN8oB,EAAW,EAKXC,GAAc,MAEdC,GAAW,QAITp0B,EAASgI,SAASqsB,eAAef,GACjCrzB,EAAUD,EAAOsJ,WAAU,MAM3BgrB,EAAaC,IACf7N,EAAM+M,QAAS,GAGbe,EAAaD,UACTlrC,EAAOuW,KAAkB,EAAI,EAC7B60B,EAAcz0B,EAAO00B,wBAC3BhO,EAAM39B,GAAKwrC,EAAIxrC,EAAI0rC,EAAY1rC,GAAKM,EACpCq9B,EAAM19B,GAAKurC,EAAIvrC,EAAIyrC,EAAYzrC,GAAKK,GAGlCsrC,EAAWJ,IACb7N,EAAM+M,QAAS,GAGbmB,EAAYL,IACd7N,EAAM39B,OAAI0L,EACViyB,EAAM19B,OAAIyL,EACViyB,EAAM+M,QAAS,GA+DboB,EAAG,CAAIC,EAAWC,KACpBnB,EAAqBkB,EACrBjB,EAAsBD,UAChBoB,EAAiBD,MAWnBE,GATCjB,GAAWL,IACZK,EAAO,IAAOt/B,EAAAiT,KACdqsB,EAAQprB,UAAU,GAClBZ,SAASmF,KAAKvF,YAAYosB,EAAQnsB,MAGtCqtB,IAEAhB,EAAW,MAIPiB,EAFAC,GAAY,EACZC,EAAoB,IAAOjqB,KAG/BnL,EAAQgC,UAAU,EAAG,EAAGjC,EAAOd,MAAOc,EAAOb,QAEzC00B,EAAoBt9C,eAAc,UAAS,cACnC8vC,GAAWwN,EAlFN,EAAIxN,EAAQl9B,QACzBuqC,IAAanlB,aAKbmlB,IAAanlB,GAAqB,aAIhCrP,EAAQ0K,GAAayc,EAAM,QAAWz9B,OAAO0sC,YAC7Cn2B,EAASyK,GAAayc,EAAM,SAAYz9B,OAAO2sC,iBACjDC,EAAat2B,EACbu2B,EAAct2B,QAEZu2B,EAAgB9rB,GAAayc,EAAM,aAAgBl9B,GACnDwsC,EAAiB/rB,GAAayc,EAAM,cAAiBxY,IACrD+nB,EAAWhsB,GAAayc,EAAM,QAAWvY,GAAMO,MAC/CwnB,EAAWjsB,GAAayc,EAAM,QAAW/X,OAE3CsnB,IAAa9nB,GAAMO,KACnBmnB,EAAat2B,EACbu2B,EAAct2B,UACPy2B,IAAa9nB,GAAMM,OAAM,OAC1B0nB,EAAqBjtC,KAAK1V,IAAI+rB,EAAOC,GAAUu2B,EACrDF,EAAaM,EACbL,EAAcK,UACPH,IAAmB9nB,GAAqB,KAC3C9a,EAAImM,EACJpqB,EAAI+T,KAAK5V,MAAM2iD,EAAW12B,SACxB62B,EAAQjhD,EAAIqqB,EACd42B,EAAQ,IACRhjC,GAAKgjC,EACLjhD,GAAKihD,GAETP,EAAaziC,EAAI2iC,EACjBD,EAAc3gD,EAAI4gD,UACXC,IAAmB9nB,GAAoB,KAC1C9a,EAAIlK,KAAK5V,MAAM2iD,EAAWz2B,GAC1BrqB,EAAIqqB,QACF42B,EAAQhjC,EAAImM,EACd62B,EAAQ,IACRhjC,GAAKgjC,EACLjhD,GAAKihD,GAETP,EAAaziC,EAAI2iC,EACjBD,EAAc3gD,EAAI4gD,EAGtBF,EAAa/pC,EA/EU,EA+EyB+pC,GAChDC,EAAchqC,EAhFS,EAgF0BgqC,GAEjD11B,GAAaC,EAAQC,EAASu1B,EAAYC,EAAaI,GAEvD/8B,QAAQD,IAAG,eAAgB28B,OAAgBC,QAAkB7sC,OAAOuX,wBA6BhE61B,CAAgB3P,EAhHK,IAiHjBA,EAAOjb,MACPA,EAAMib,EAAOjb,IACbiqB,EAAoB,IAAOjqB,GAE3Bib,EAAO4P,UAAY,IACnBhB,EAAmB5O,EAAO4P,gBAI9Bl2B,GAAaC,EAAQC,EAASrX,OAAO0sC,WAAY1sC,OAAO2sC,mBAUtDW,EAAW,KACbttC,OAAOutC,oBAAmB,OAASD,GACnCjC,GAAa,EAGbF,EAAc,IAAO5oB,GAAenL,GAEpC6zB,EAAoBuC,MAAK,QAAGp2B,UAAQC,iBAAS+0B,UAEvCqB,EAAS,QACcjC,EAAQ,OACtB,EAEXF,IACIF,GAASA,EAAQnrB,cACf7N,EAAM64B,EAAoByC,KAAI,QAAGt2B,UAAQC,QAASymB,WACpDsN,GAASA,EAAQlrB,MACd9N,GAGLu7B,EAAM,MAEO,IADAF,OA3BfpB,GACOf,EAAWe,KA4BdnB,EAAc0C,sBAAsBD,KAItCE,EAAW,KACTrB,IACAtB,EAAclrC,OAAO4tC,sBAAsBC,UAGzCnuB,EAAMxZ,KAAKwZ,MACXouB,EAAUpuB,EAAM6sB,KAElBuB,EAAUrB,EAAiB,CAC3BF,EAAyB7sB,EAAOouB,EAAUrB,IAE3B,IADAgB,KACOpB,GAAoBf,GAAYe,KAClDG,GAAY,KAKnBhqB,GAGD+pB,EAAyBrmC,KAAKwZ,MAC9BwrB,EAAclrC,OAAO4tC,sBAAsBC,IAH3C3C,EAAclrC,OAAO4tC,sBAAsBD,IAO9CtC,EAGDiC,IAFAttC,OAAOuf,iBAAgB,OAAS+tB,IAMlC5pB,EAAI,KACNqqB,IACA/tC,OAAOguC,qBAAqB9C,IAG1B+C,EAAgBtC,IAEdT,IACAxnB,IACAuoB,EAAIjB,KAINkD,EAAevC,IACMH,GAAW,GAGhC2C,EAAcxC,IACOH,GAAW,GAGhCc,EAAar1B,IACfjX,OAAOuf,iBAAgB,YAAcmsB,GACrC1rC,OAAOuf,iBAAgB,aAAemsB,GACtC1rC,OAAOuf,iBAAgB,YAAcqsB,GACrC5rC,OAAOuf,iBAAgB,YAAcqsB,GACrC5rC,OAAOuf,iBAAgB,UAAYwsB,GACnC/rC,OAAOuf,iBAAgB,WAAawsB,GACpC/rC,OAAOuf,iBAAgB,WAAaysB,GACpChsC,OAAOuf,iBAAgB,cAAgBysB,GACvChsC,OAAOuf,iBAAgB,SAAW0uB,GAClCjuC,OAAOuf,iBAAgB,OAAS4uB,GAChCnuC,OAAOuf,iBAAgB,QAAU2uB,IAG/BH,EAAgB92B,IAClBjX,OAAOutC,oBAAmB,YAAc7B,GACxC1rC,OAAOutC,oBAAmB,aAAe7B,GACzC1rC,OAAOutC,oBAAmB,YAAc3B,GACxC5rC,OAAOutC,oBAAmB,YAAc3B,GACxC5rC,OAAOutC,oBAAmB,UAAYxB,GACtC/rC,OAAOutC,oBAAmB,WAAaxB,GACvC/rC,OAAOutC,oBAAmB,WAAavB,GACvChsC,OAAOutC,oBAAmB,cAAgBvB,GAC1ChsC,OAAOutC,oBAAmB,SAAWU,GACrCjuC,OAAOutC,oBAAmB,OAASY,GACnCnuC,OAAOutC,oBAAmB,QAAUW,IAGlCE,EAAgB,WACZ3oC,EhBhVqBqG,EAAAC,GAAS2B,cgBiVhCqW,EAAI,kBAEJknB,GACAA,EAAoBt9C,eAAc,WAClCs9C,EAAoBxN,OAAO9vC,eAAc,UAEzCo2B,EAAOknB,EAAoBxN,OAAO1Z,gBAErBA,KAAQte,KAgCvB4oC,EAAoB1C,IACtBA,EAAInsB,kBAGF8uB,EAAoBC,GAAsB5C,IAC5CA,EAAInsB,iBACJmsB,EAAI6C,wBAGExpB,EADK2mB,EAAI8C,aACAC,MAAM,OAIhB1pB,EAAId,KAAKv4B,MAAK,uBACfukB,QAAQkT,MAAK,qCAAuC4B,EAAId,YAGtDyqB,EAAM,IAAOC,WACnBD,EAAOthB,OAAM,SAAa9nB,GACtBgpC,EAAiBhpC,EAAEspC,OAAOxpC,SAE9BspC,EAAOG,cAAc9pB,WAoBrB+pB,cAAeX,EACfh3B,OAhUeH,GAAMG,EAiUrBC,QAhUgBJ,GAAMI,EAiUtBymB,MAhUc7mB,GAAM6mB,MAiUpBmO,OACAvoB,oBA3EuBioB,IACvBz7B,QAAQD,IAAG,iBAAmB07B,SACxBqD,EAAW53B,EAAO63B,UAAS,oBACjCtD,EAAIkD,OAAOK,aAAY,WAAW,GAAKd,WACvCzC,EAAIkD,OAAOxqB,KAAO2qB,EAClBrD,EAAI6C,mBACG,uBAIkB7C,GACpBR,GAIDI,GACAA,GAAc,EACdJ,EAAeznB,OACfynB,EAAetnB,KAAI,GAAIuqB,YACvBl+B,QAAQD,IAAG,wBAEXs7B,GAAc,EACdJ,EAAe3pB,QACftR,QAAQD,IAAG,uBAEf07B,EAAI6C,mBACG,IAdHt+B,QAAQkT,MAAK,gCACN,oBAwCWmrB,IACtBr+B,QAAQD,IAAG,yBACNmH,GAKLA,EAAOmI,iBAAgB,WAAa8uB,GAAkB,GACtDj3B,EAAOmI,iBAAgB,OAAS+uB,EAAiBC,IAAmB,IALhEr+B,QAAQ2E,KAAI,+DAQOoC,IACvBG,EAAOm2B,oBAAmB,WAAac,GACvCj3B,EAAOm2B,oBAAmB,OAASe,EAAiBC,sBoCxZlDY,CAAc,SAAW,GAFrB,GASRC,GAAgB/jD,IAFT,IAAIkyC,EAAAA,EAGLlyC,EAAEkyC,KAHane,SAASqsB,eAAc,QAAS4D,UAAY9R,EAInEkN,GAAEwB,IAAI5gD,EAAEmyC,OAAQiN,KAGd6E,GAAmBjmD,OAAOD,KAAKi0C,IAC/BkS,GAASC,GAAcC,iBAAgB,cAAiBH,GAAiBA,GAAiB/lD,OAAS,GAI9FgmD,IAAUlS,GAAgB1vC,eAAe4hD,KAChDr/B,QAAQD,IAAIs/B,GAAQlS,GAAgB1vC,eAAe4hD,KACnDH,GAAa/R,GAAgBkS,MAE7BH,GAAa/R,GAAgBiS,GAAiBA,GAAiB/lD,OAAS,KAG5E61B,SAASqsB,eAAc,YAAalsB,iBAAgB,QAAUkrB,GAAEiF,mBAChEtwB,SAASqsB,eAAc,UAAWlsB,iBAAgB,QAAUkrB,GAAEkF","sources":["node_modules/@parcel/runtime-js/lib/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-a52967878ae4740b8f29c8b272794ec6.js","node_modules/tinycolor2/tinycolor.js","scripts/rndrgen/math/Vector.js","scripts/rndrgen/math/math.js","node_modules/seed-random/index.js","node_modules/simplex-noise/simplex-noise.js","node_modules/defined/index.js","scripts/rndrgen/math/random.js","node_modules/canvas-sketch-util/random.js","scripts/rndrgen/math/points.js","scripts/rndrgen/math/curve-calc.js","scripts/rndrgen/systems/Particle.js","scripts/rndrgen/canvas/canvas.js","scripts/rndrgen/canvas/primatives.js","scripts/rndrgen/canvas/particles.js","scripts/released/variation5.js","node_modules/@parcel/runtime-js/lib/bundle-url.js","node_modules/@parcel/runtime-js/lib/relative-path.js","node_modules/@parcel/runtime-js/lib/runtime-3653ab9177b3fcc8a4bff7a8bdb405ad.js","scripts/released/hiImage01.js","node_modules/stats.js/build/stats.min.js","scripts/rndrgen/utils.js","scripts/rndrgen/canvas/CanvasRecorder.js","scripts/rndrgen/sketch.js","scripts/rndrgen/canvas/ribbon.js","scripts/rndrgen/math/attractors.js","node_modules/nice-color-palettes/100.json","scripts/rndrgen/color/palettes.js","scripts/released/waves01b.js","scripts/scratch/shapes.js","scripts/rndrgen/canvas/text.js","scripts/rndrgen/math/grids.js","scripts/released/lissajous01.js","scripts/released/flow-field-arcs.js","scripts/rndrgen/canvas/Bitmap.js","node_modules/@parcel/runtime-js/lib/runtime-76d649921a4fc1fa2445c4f7b57ecaa8.js","scripts/rndrgen/canvas/fields.js","scripts/released/flow-field-image.js","scripts/released/flow-field-ribbons.js","scripts/released/radial-noise.js","scripts/released/flow-field-ribbons-2.js","scripts/rndrgen/systems/Box.js","scripts/rndrgen/canvas/textures.js","node_modules/@parcel/runtime-js/lib/runtime-9a662b2068db4a4521105ee582bba8cc.js","scripts/rndrgen/math/segments.js","scripts/rndrgen/systems/MeanderingRiver.js","scripts/rndrgen/math/Rectangle.js","scripts/rndrgen/systems/marchingSquares.js","scripts/rndrgen/systems/truchetTiles.js","scripts/rndrgen/math/QuadTree.js","scripts/variationsIndex.js","scripts/released/threeAttractors.js","scripts/released/flow-field-particles.js","scripts/released/shaded-boxes.js","scripts/released/larrycarlson02.js","scripts/released/meandering-river-02.js","scripts/released/meandering-river-01.js","scripts/released/truchet-tiles.js","scripts/released/truchet-tiles-02.js","scripts/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./bundle-manifest').register(JSON.parse(\"{\\\"3FB7m\\\":\\\"index.717b18b8.js\\\",\\\"4c6VI\\\":\\\"hi1.d2cf5c8e.png\\\",\\\"3GCfi\\\":\\\"kristijan-arsov-woman-400.839b20ff.png\\\",\\\"9waZR\\\":\\\"alexander-krivitskiy-2wOEPBkaH7o-unsplash.c5f8387d.png\\\",\\\"595dK\\\":\\\"index.45781f91.css\\\"}\"));","// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","// Vector class originally from https://evanw.github.io/lightgl.js/docs/vector.html\n// Edited and expanded to match p5's vectors\n// ref - p5 vector https://p5js.org/reference/#/p5.Vector\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-vectors/a/more-vector-math\n\nconst fromAngles = (theta, phi) =>\n    new Vector(Math.cos(theta) * Math.cos(phi), Math.sin(phi), Math.sin(theta) * Math.cos(phi));\nconst randomDirection = () => fromAngles(Math.random() * Math.PI * 2, Math.asin(Math.random() * 2 - 1));\nconst min = (a, b) => new Vector(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.min(a.z, b.z));\nconst max = (a, b) => new Vector(Math.max(a.x, b.x), Math.max(a.y, b.y), Math.max(a.z, b.z));\nconst lerp = (a, b, fraction) => b.sub(a).mult(fraction).add(a);\nconst fromArray = (a) => new Vector(a[0], a[1], a[2]);\nconst angleBetween = (a, b) => a.angleTo(b);\n\nexport class Vector {\n    constructor(x, y, z) {\n        this.x = x || 0;\n        this.y = y || 0;\n        this.z = z || 0;\n    }\n\n    toString() {\n        return `${this.x}, ${this.y}`;\n    }\n\n    negative() {\n        return new Vector(-this.x, -this.y, -this.z);\n    }\n\n    add(v) {\n        if (v instanceof Vector) return new Vector(this.x + v.x, this.y + v.y, this.z + v.z);\n        return new Vector(this.x + v, this.y + v, this.z + v);\n    }\n\n    sub(v) {\n        if (v instanceof Vector) return new Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n        return new Vector(this.x - v, this.y - v, this.z - v);\n    }\n\n    mult(v) {\n        if (v instanceof Vector) return new Vector(this.x * v.x, this.y * v.y, this.z * v.z);\n        return new Vector(this.x * v, this.y * v, this.z * v);\n    }\n\n    // https://github.com/openrndr/openrndr/blob/master/openrndr-math/src/main/kotlin/org/openrndr/math/Vector2.kt\n    mix(b, fraction) {\n        // return this.mult(1 - mix).add(o.mult(mix));\n        return lerp(this, b, fraction);\n    }\n\n    div(v) {\n        if (v instanceof Vector) return new Vector(this.x / v.x, this.y / v.y, this.z / v.z);\n        return new Vector(this.x / v, this.y / v, this.z / v);\n    }\n\n    equals(v) {\n        return this.x === v.x && this.y === v.y && this.z === v.z;\n    }\n\n    dot(v) {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    }\n\n    cross(v) {\n        return new Vector(this.y * v.z - this.z * v.y, this.z * v.x - this.x * v.z, this.x * v.y - this.y * v.x);\n    }\n\n    length() {\n        return Math.sqrt(this.dot(this));\n    }\n\n    mag() {\n        return this.length();\n    }\n\n    magSq() {\n        const m = this.length();\n        return m * m;\n    }\n\n    setMag(m) {\n        const c = this.mag();\n        const r = m / c;\n        return this.mult(r);\n    }\n\n    normalize() {\n        let mag = this.mag();\n        mag = mag || 1;\n        return this.div(mag);\n    }\n\n    unit() {\n        return this.div(this.length());\n    }\n\n    min() {\n        return Math.min(Math.min(this.x, this.y), this.z);\n    }\n\n    max() {\n        return Math.max(Math.max(this.x, this.y), this.z);\n    }\n\n    limit(v) {\n        const cm = this.mag();\n        if (cm > v) {\n            return this.setMag(v);\n        }\n        return this;\n    }\n\n    angle() {\n        return Math.atan2(this.y, this.x);\n    }\n\n    toAngles() {\n        return {\n            theta: Math.atan2(this.z, this.x),\n            phi: Math.asin(this.y / this.length()),\n        };\n    }\n\n    angleTo(a) {\n        return Math.acos(this.dot(a) / (this.length() * a.length()));\n    }\n\n    toArray(n) {\n        return [this.x, this.y, this.z].slice(0, n || 3);\n    }\n\n    clone() {\n        return new Vector(this.x, this.y, this.z);\n    }\n\n    ceil() {\n        return new Vector(Math.ceil(this.x), Math.ceil(this.y), Math.ceil(this.z));\n    }\n\n    floor() {\n        return new Vector(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));\n    }\n\n    round() {\n        return new Vector(Math.round(this.x), Math.round(this.y), Math.round(this.z));\n    }\n}\n\nconst negative = (a, b) => {\n    b.x = -a.x;\n    b.y = -a.y;\n    b.z = -a.z;\n    return b;\n};\nconst add = (a, b, c) => {\n    if (b instanceof Vector) {\n        c.x = a.x + b.x;\n        c.y = a.y + b.y;\n        c.z = a.z + b.z;\n    } else {\n        c.x = a.x + b;\n        c.y = a.y + b;\n        c.z = a.z + b;\n    }\n    return c;\n};\nconst subtract = (a, b, c) => {\n    if (b instanceof Vector) {\n        c.x = a.x - b.x;\n        c.y = a.y - b.y;\n        c.z = a.z - b.z;\n    } else {\n        c.x = a.x - b;\n        c.y = a.y - b;\n        c.z = a.z - b;\n    }\n    return c;\n};\nconst multiply = (a, b, c) => {\n    if (b instanceof Vector) {\n        c.x = a.x * b.x;\n        c.y = a.y * b.y;\n        c.z = a.z * b.z;\n    } else {\n        c.x = a.x * b;\n        c.y = a.y * b;\n        c.z = a.z * b;\n    }\n    return c;\n};\nconst divide = (a, b, c) => {\n    if (b instanceof Vector) {\n        c.x = a.x / b.x;\n        c.y = a.y / b.y;\n        c.z = a.z / b.z;\n    } else {\n        c.x = a.x / b;\n        c.y = a.y / b;\n        c.z = a.z / b;\n    }\n    return c;\n};\nconst cross = (a, b, c) => {\n    c.x = a.y * b.z - a.z * b.y;\n    c.y = a.z * b.x - a.x * b.z;\n    c.z = a.x * b.y - a.y * b.x;\n    return c;\n};\nconst unit = (a, b) => {\n    const length = a.length();\n    b.x = a.x / length;\n    b.y = a.y / length;\n    b.z = a.z / length;\n    return b;\n};\n","/*\n  Math Snippets\n  https://github.com/terkelg/math\n*/\n\nimport { Vector } from './Vector';\n\n// Math aliases\nexport const π = Math.PI;\nexport const { PI } = Math;\nexport const TAU = Math.PI * 2;\nexport const { abs } = Math;\nexport const { sin } = Math;\nexport const { cos } = Math;\nexport const { tan } = Math;\nexport const { pow } = Math;\nexport const { round } = Math;\nexport const { floor } = Math;\n\n// φ phi\nexport const golden = 1.6180339887498948482;\n// g angles: 222.5, 137.5\n\nexport const fibonacci = [\n    0,\n    1,\n    1,\n    2,\n    3,\n    5,\n    8,\n    13,\n    21,\n    34,\n    55,\n    89,\n    144,\n    233,\n    377,\n    610,\n    987,\n    1597,\n    2584,\n    4181,\n    6765,\n    10946,\n    17711,\n    28657,\n    46368,\n    75025,\n    121393,\n    196418,\n    317811,\n];\n\nexport const checkBoundsLeft = (b, v) => (v < b ? b : v);\nexport const checkBoundsRight = (b, v) => (v > b ? b : v);\n\nexport const clamp = (min = 0, max = 1, a) => Math.min(max, Math.max(min, a));\n\nexport const snapNumber = (snap, n) => Math.floor(n / snap) * snap;\n\nexport const percentage = (total, num) => Math.round(num * (total / 100));\nexport const percentageFloor = (total, num) => Math.floor(num * (total / 100));\n\n// Hough transform\n// https://stackoverflow.com/questions/24372921/how-to-calculate-quantized-angle\nexport const houghQuantize = (numAngles, theta) => Math.floor((numAngles * theta) / TAU + 0.5);\n\n// https://stackoverflow.com/questions/47047691/how-to-quantize-directions-in-canny-edge-detector-in-python\nexport const quantize = (numAngles, theta) => (Math.round(theta * (numAngles / Math.PI)) + numAngles) % numAngles;\n\nexport const round2 = (num) => Math.round((num + Number.EPSILON) * 100) / 100;\n\nexport const roundToNearest = (near, num) => Math.round(num / near) * near;\n\n// -> -1 ... 1\nexport const loopingValue = (t, m = 0.5) => Math.sin(t * m);\n\n// t is 0-1, -> -1 ... 1\nexport const pingPontValue = (t) => Math.sin(t * Math.PI);\n\n// x,y offsets for the current circleOld position\nexport const pointOnCircle = (x, y, r, a) => ({ x: r * Math.sin(a) + x, y: r * Math.cos(a) + y });\n\n// returns value between 0-1, 250,500,0 => .5\nexport const normalize = (min, max, val) => (val - min) / (max - min);\nexport const normalizeInverse = (min, max, val) => 1 - normalize(min, max, val);\n\n// https://twitter.com/mattdesl/status/1031305279227478016\n// https://www.trysmudford.com/blog/linear-interpolation-functions/\n// lerp(20, 80, 0.5) -> 40\nexport const lerp = (x, y, a) => x * (1 - a) + y * a;\n\n// invlerp(50, 100, 75)  -> 0.5\nexport const invlerp = (x, y, a) => clamp(0, 1, (a - x) / (y - x));\n\n// range(10, 100, 2000, 20000, 50) -> 10000\nexport const mapRange = (x1, y1, x2, y2, a) => lerp(x2, y2, invlerp(x1, y1, a));\n\nexport const isValueInRange = (testVal, val, range) =>\n    val === testVal || (val - range < testVal && val + range > testVal);\n\nexport const mapToTau = (start, end, value) => mapRange(start, end, 0, TAU, value);\n\n// https://stackoverflow.com/questions/38457053/find-n-logarithmic-intervals-between-two-end-points\nexport const logInterval = (total_intervals, start, end) => {\n    const startInterVal = 1;\n    const endInterval = total_intervals;\n    const minLog = Math.log(start);\n    const maxLog = Math.log(end);\n    const scale = (maxLog - minLog) / (endInterval - startInterVal);\n    const result = [];\n    for (let i = 1; i < total_intervals; i++) {\n        result.push(Math.exp(minLog + scale * (i - startInterVal)));\n    }\n    result.push(end);\n    return result;\n};\n\nexport const angleFromVector = ({ x, y }) => Math.atan2(y, x);\nexport const uvFromAngle = (a) => new Vector(Math.cos(a), Math.sin(a));\n\n// Accepts a value 0-1 and returns a value 0-1 in a sin wave\nexport const toSinValue = (value) => Math.abs(Math.sin(value * TAU));\n\nexport const radiansToDegrees = (rad) => (rad * 180) / Math.PI;\nexport const degreesToRadians = (deg) => (deg * Math.PI) / 180;\n\nexport const circleX = (theta, amp, freq) => Math.cos(theta / freq) * amp;\nexport const circleY = (theta, amp, freq) => Math.sin(theta / freq) * amp;\n","'use strict';\r\n\r\nvar width = 256;// each RC4 output is 0 <= x < 256\r\nvar chunks = 6;// at least six RC4 outputs for each double\r\nvar digits = 52;// there are 52 significant digits in a double\r\nvar pool = [];// pool: entropy pool starts empty\r\nvar GLOBAL = typeof global === 'undefined' ? window : global;\r\n\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\nvar startdenom = Math.pow(width, chunks),\r\n    significance = Math.pow(2, digits),\r\n    overflow = significance * 2,\r\n    mask = width - 1;\r\n\r\n\r\nvar oldRandom = Math.random;\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\nmodule.exports = function(seed, options) {\r\n  if (options && options.global === true) {\r\n    options.global = false;\r\n    Math.random = module.exports(seed, options);\r\n    options.global = true;\r\n    return Math.random;\r\n  }\r\n  var use_entropy = (options && options.entropy) || false;\r\n  var key = [];\r\n\r\n  // Flatten the seed string or build one from local entropy if needed.\r\n  var shortseed = mixkey(flatten(\r\n    use_entropy ? [seed, tostring(pool)] :\r\n    0 in arguments ? seed : autoseed(), 3), key);\r\n\r\n  // Use the seed to initialize an ARC4 generator.\r\n  var arc4 = new ARC4(key);\r\n\r\n  // Mix the randomness into accumulated entropy.\r\n  mixkey(tostring(arc4.S), pool);\r\n\r\n  // Override Math.random\r\n\r\n  // This function returns a random double in [0, 1) that contains\r\n  // randomness in every bit of the mantissa of the IEEE 754 value.\r\n\r\n  return function() {         // Closure to return a random double:\r\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n        x = 0;                          //   and no 'extra last byte'.\r\n    while (n < significance) {          // Fill up all significant digits by\r\n      n = (n + x) * width;              //   shifting numerator and\r\n      d *= width;                       //   denominator and generating a\r\n      x = arc4.g(1);                    //   new least-significant-byte.\r\n    }\r\n    while (n >= overflow) {             // To avoid rounding up, before adding\r\n      n /= 2;                           //   last byte, shift everything\r\n      d /= 2;                           //   right using integer Math until\r\n      x >>>= 1;                         //   we have exactly the desired bits.\r\n    }\r\n    return (n + x) / d;                 // Form the number within [0, 1).\r\n  };\r\n};\r\n\r\nmodule.exports.resetGlobal = function () {\r\n  Math.random = oldRandom;\r\n};\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n/** @constructor */\r\nfunction ARC4(key) {\r\n  var t, keylen = key.length,\r\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n  // The empty key [] is treated as [0].\r\n  if (!keylen) { key = [keylen++]; }\r\n\r\n  // Set up S using the standard key scheduling algorithm.\r\n  while (i < width) {\r\n    s[i] = i++;\r\n  }\r\n  for (i = 0; i < width; i++) {\r\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n    s[j] = t;\r\n  }\r\n\r\n  // The \"g\" method returns the next (count) outputs as one number.\r\n  (me.g = function(count) {\r\n    // Using instance members instead of closure state nearly doubles speed.\r\n    var t, r = 0,\r\n        i = me.i, j = me.j, s = me.S;\r\n    while (count--) {\r\n      t = s[i = mask & (i + 1)];\r\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n    }\r\n    me.i = i; me.j = j;\r\n    return r;\r\n    // For robust unpredictability discard an initial batch of values.\r\n    // See http://www.rsa.com/rsalabs/node.asp?id=2009\r\n  })(width);\r\n}\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\nfunction flatten(obj, depth) {\r\n  var result = [], typ = (typeof obj)[0], prop;\r\n  if (depth && typ == 'o') {\r\n    for (prop in obj) {\r\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n    }\r\n  }\r\n  return (result.length ? result : typ == 's' ? obj : obj + '\\0');\r\n}\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\nfunction mixkey(seed, key) {\r\n  var stringseed = seed + '', smear, j = 0;\r\n  while (j < stringseed.length) {\r\n    key[mask & j] =\r\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n  }\r\n  return tostring(key);\r\n}\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto if available.\r\n//\r\n/** @param {Uint8Array=} seed */\r\nfunction autoseed(seed) {\r\n  try {\r\n    GLOBAL.crypto.getRandomValues(seed = new Uint8Array(width));\r\n    return tostring(seed);\r\n  } catch (e) {\r\n    return [+new Date, GLOBAL, GLOBAL.navigator && GLOBAL.navigator.plugins,\r\n            GLOBAL.screen, tostring(pool)];\r\n  }\r\n}\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\nfunction tostring(a) {\r\n  return String.fromCharCode.apply(0, a);\r\n}\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to intefere with determinstic PRNG state later,\r\n// seedrandom will not call Math.random on its own again after\r\n// initialization.\r\n//\r\nmixkey(Math.random(), pool);\r\n","/*\n * A fast javascript implementation of simplex noise by Jonas Wagner\n\nBased on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\nWhich is based on example code by Stefan Gustavson (stegu@itn.liu.se).\nWith Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\nBetter rank ordering method by Stefan Gustavson in 2012.\n\n\n Copyright (c) 2018 Jonas Wagner\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n(function() {\n  'use strict';\n\n  var F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\n  var G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n  var F3 = 1.0 / 3.0;\n  var G3 = 1.0 / 6.0;\n  var F4 = (Math.sqrt(5.0) - 1.0) / 4.0;\n  var G4 = (5.0 - Math.sqrt(5.0)) / 20.0;\n\n  function SimplexNoise(randomOrSeed) {\n    var random;\n    if (typeof randomOrSeed == 'function') {\n      random = randomOrSeed;\n    }\n    else if (randomOrSeed) {\n      random = alea(randomOrSeed);\n    } else {\n      random = Math.random;\n    }\n    this.p = buildPermutationTable(random);\n    this.perm = new Uint8Array(512);\n    this.permMod12 = new Uint8Array(512);\n    for (var i = 0; i < 512; i++) {\n      this.perm[i] = this.p[i & 255];\n      this.permMod12[i] = this.perm[i] % 12;\n    }\n\n  }\n  SimplexNoise.prototype = {\n    grad3: new Float32Array([1, 1, 0,\n      -1, 1, 0,\n      1, -1, 0,\n\n      -1, -1, 0,\n      1, 0, 1,\n      -1, 0, 1,\n\n      1, 0, -1,\n      -1, 0, -1,\n      0, 1, 1,\n\n      0, -1, 1,\n      0, 1, -1,\n      0, -1, -1]),\n    grad4: new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n      0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n      1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n      -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n      1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n      -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n      1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n      -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]),\n    noise2D: function(xin, yin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0 = 0; // Noise contributions from the three corners\n      var n1 = 0;\n      var n2 = 0;\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin) * F2; // Hairy factor for 2D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var t = (i + j) * G2;\n      var X0 = i - t; // Unskew the cell origin back to (x,y) space\n      var Y0 = j - t;\n      var x0 = xin - X0; // The x,y distances from the cell origin\n      var y0 = yin - Y0;\n      // For the 2D case, the simplex shape is an equilateral triangle.\n      // Determine which simplex we are in.\n      var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n      if (x0 > y0) {\n        i1 = 1;\n        j1 = 0;\n      } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n      else {\n        i1 = 0;\n        j1 = 1;\n      } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n      // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n      // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n      // c = (3-sqrt(3))/6\n      var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n      var y1 = y0 - j1 + G2;\n      var x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n      var y2 = y0 - 1.0 + 2.0 * G2;\n      // Work out the hashed gradient indices of the three simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      // Calculate the contribution from the three corners\n      var t0 = 0.5 - x0 * x0 - y0 * y0;\n      if (t0 >= 0) {\n        var gi0 = permMod12[ii + perm[jj]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n      }\n      var t1 = 0.5 - x1 * x1 - y1 * y1;\n      if (t1 >= 0) {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n      }\n      var t2 = 0.5 - x2 * x2 - y2 * y2;\n      if (t2 >= 0) {\n        var gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to return values in the interval [-1,1].\n      return 70.0 * (n0 + n1 + n2);\n    },\n    // 3D simplex noise\n    noise3D: function(xin, yin, zin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0, n1, n2, n3; // Noise contributions from the four corners\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin + zin) * F3; // Very nice and simple skew factor for 3D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var k = Math.floor(zin + s);\n      var t = (i + j + k) * G3;\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var x0 = xin - X0; // The x,y,z distances from the cell origin\n      var y0 = yin - Y0;\n      var z0 = zin - Z0;\n      // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n      // Determine which simplex we are in.\n      var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n      var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n      if (x0 >= y0) {\n        if (y0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // X Y Z order\n        else if (x0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // X Z Y order\n        else {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // Z X Y order\n      }\n      else { // x0<y0\n        if (y0 < z0) {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Z Y X order\n        else if (x0 < z0) {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Y Z X order\n        else {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // Y X Z order\n      }\n      // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n      // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n      // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n      // c = 1/6.\n      var x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords\n      var y1 = y0 - j1 + G3;\n      var z1 = z0 - k1 + G3;\n      var x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords\n      var y2 = y0 - j2 + 2.0 * G3;\n      var z2 = z0 - k2 + 2.0 * G3;\n      var x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords\n      var y3 = y0 - 1.0 + 3.0 * G3;\n      var z3 = z0 - 1.0 + 3.0 * G3;\n      // Work out the hashed gradient indices of the four simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      // Calculate the contribution from the four corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to stay just inside [-1,1]\n      return 32.0 * (n0 + n1 + n2 + n3);\n    },\n    // 4D simplex noise, better simplex rank ordering method 2012-03-09\n    noise4D: function(x, y, z, w) {\n      var perm = this.perm;\n      var grad4 = this.grad4;\n\n      var n0, n1, n2, n3, n4; // Noise contributions from the five corners\n      // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n      var s = (x + y + z + w) * F4; // Factor for 4D skewing\n      var i = Math.floor(x + s);\n      var j = Math.floor(y + s);\n      var k = Math.floor(z + s);\n      var l = Math.floor(w + s);\n      var t = (i + j + k + l) * G4; // Factor for 4D unskewing\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var W0 = l - t;\n      var x0 = x - X0; // The x,y,z,w distances from the cell origin\n      var y0 = y - Y0;\n      var z0 = z - Z0;\n      var w0 = w - W0;\n      // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n      // To find out which of the 24 possible simplices we're in, we need to\n      // determine the magnitude ordering of x0, y0, z0 and w0.\n      // Six pair-wise comparisons are performed between each possible pair\n      // of the four coordinates, and the results are used to rank the numbers.\n      var rankx = 0;\n      var ranky = 0;\n      var rankz = 0;\n      var rankw = 0;\n      if (x0 > y0) rankx++;\n      else ranky++;\n      if (x0 > z0) rankx++;\n      else rankz++;\n      if (x0 > w0) rankx++;\n      else rankw++;\n      if (y0 > z0) ranky++;\n      else rankz++;\n      if (y0 > w0) ranky++;\n      else rankw++;\n      if (z0 > w0) rankz++;\n      else rankw++;\n      var i1, j1, k1, l1; // The integer offsets for the second simplex corner\n      var i2, j2, k2, l2; // The integer offsets for the third simplex corner\n      var i3, j3, k3, l3; // The integer offsets for the fourth simplex corner\n      // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n      // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n      // impossible. Only the 24 indices which have non-zero entries make any sense.\n      // We use a thresholding to set the coordinates in turn from the largest magnitude.\n      // Rank 3 denotes the largest coordinate.\n      i1 = rankx >= 3 ? 1 : 0;\n      j1 = ranky >= 3 ? 1 : 0;\n      k1 = rankz >= 3 ? 1 : 0;\n      l1 = rankw >= 3 ? 1 : 0;\n      // Rank 2 denotes the second largest coordinate.\n      i2 = rankx >= 2 ? 1 : 0;\n      j2 = ranky >= 2 ? 1 : 0;\n      k2 = rankz >= 2 ? 1 : 0;\n      l2 = rankw >= 2 ? 1 : 0;\n      // Rank 1 denotes the second smallest coordinate.\n      i3 = rankx >= 1 ? 1 : 0;\n      j3 = ranky >= 1 ? 1 : 0;\n      k3 = rankz >= 1 ? 1 : 0;\n      l3 = rankw >= 1 ? 1 : 0;\n      // The fifth corner has all coordinate offsets = 1, so no need to compute that.\n      var x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords\n      var y1 = y0 - j1 + G4;\n      var z1 = z0 - k1 + G4;\n      var w1 = w0 - l1 + G4;\n      var x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords\n      var y2 = y0 - j2 + 2.0 * G4;\n      var z2 = z0 - k2 + 2.0 * G4;\n      var w2 = w0 - l2 + 2.0 * G4;\n      var x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords\n      var y3 = y0 - j3 + 3.0 * G4;\n      var z3 = z0 - k3 + 3.0 * G4;\n      var w3 = w0 - l3 + 3.0 * G4;\n      var x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords\n      var y4 = y0 - 1.0 + 4.0 * G4;\n      var z4 = z0 - 1.0 + 4.0 * G4;\n      var w4 = w0 - 1.0 + 4.0 * G4;\n      // Work out the hashed gradient indices of the five simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      var ll = l & 255;\n      // Calculate the contribution from the five corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);\n      }\n      var t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n      if (t4 < 0) n4 = 0.0;\n      else {\n        var gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;\n        t4 *= t4;\n        n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);\n      }\n      // Sum up and scale the result to cover the range [-1,1]\n      return 27.0 * (n0 + n1 + n2 + n3 + n4);\n    }\n  };\n\n  function buildPermutationTable(random) {\n    var i;\n    var p = new Uint8Array(256);\n    for (i = 0; i < 256; i++) {\n      p[i] = i;\n    }\n    for (i = 0; i < 255; i++) {\n      var r = i + ~~(random() * (256 - i));\n      var aux = p[i];\n      p[i] = p[r];\n      p[r] = aux;\n    }\n    return p;\n  }\n  SimplexNoise._buildPermutationTable = buildPermutationTable;\n\n  function alea() {\n    // Johannes Baagøe <baagoe@baagoe.com>, 2010\n    var s0 = 0;\n    var s1 = 0;\n    var s2 = 0;\n    var c = 1;\n\n    var mash = masher();\n    s0 = mash(' ');\n    s1 = mash(' ');\n    s2 = mash(' ');\n\n    for (var i = 0; i < arguments.length; i++) {\n      s0 -= mash(arguments[i]);\n      if (s0 < 0) {\n        s0 += 1;\n      }\n      s1 -= mash(arguments[i]);\n      if (s1 < 0) {\n        s1 += 1;\n      }\n      s2 -= mash(arguments[i]);\n      if (s2 < 0) {\n        s2 += 1;\n      }\n    }\n    mash = null;\n    return function() {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n      s0 = s1;\n      s1 = s2;\n      return s2 = t - (c = t | 0);\n    };\n  }\n  function masher() {\n    var n = 0xefc8249d;\n    return function(data) {\n      data = data.toString();\n      for (var i = 0; i < data.length; i++) {\n        n += data.charCodeAt(i);\n        var h = 0.02519603282416938 * n;\n        n = h >>> 0;\n        h -= n;\n        h *= n;\n        n = h >>> 0;\n        h -= n;\n        n += h * 0x100000000; // 2^32\n      }\n      return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n  }\n\n  // amd\n  if (typeof define !== 'undefined' && define.amd) define(function() {return SimplexNoise;});\n  // common js\n  if (typeof exports !== 'undefined') exports.SimplexNoise = SimplexNoise;\n  // browser\n  else if (typeof window !== 'undefined') window.SimplexNoise = SimplexNoise;\n  // nodejs\n  if (typeof module !== 'undefined') {\n    module.exports = SimplexNoise;\n  }\n\n})();\n","module.exports = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (arguments[i] !== undefined) return arguments[i];\n    }\n};\n","import csRandom from 'canvas-sketch-util/random';\nimport { TAU } from './math';\n\ncsRandom.setSeed(csRandom.getRandomSeed());\nconsole.log(`Using seed ${csRandom.getSeed()}`);\n\nexport const getRandomSeed = () => csRandom.getSeed();\nexport const setRandomSeed = (s) => csRandom.setRandomSeed(s);\n// Box-Muller Transform\n// https://stackoverflow.com/questions/25582882/javascript-math-random-normal-distribution-gaussian-bell-curve\nexport const randomNormalBM = () => {\n    let u = 0;\n    let v = 0;\n    while (u === 0) u = csRandom.value(); // Converting [0,1) to (0,1)\n    while (v === 0) v = csRandom.value();\n    let num = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\n    num = num / 10.0 + 0.5; // Translate to 0 -> 1\n    if (num > 1 || num < 0) return randomNormalBM(); // resample between 0 and 1\n    return num;\n};\n// same source as above\n// better solution https://spin.atomicobject.com/2019/09/30/skew-normal-prng-javascript/\nexport const randomNormalBM2 = (min = 0, max = 1, skew = 1) => {\n    let u = 0;\n    let v = 0;\n    while (u === 0) u = csRandom.value(); // Converting [0,1) to (0,1)\n    while (v === 0) v = csRandom.value();\n    let num = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\n\n    num = num / 10.0 + 0.5; // Translate to 0 -> 1\n    if (num > 1 || num < 0) {\n        // // resample between 0 and 1 if out of range\n        num = randomNormalBM2(min, max, skew);\n    } else {\n        num = Math.pow(num, skew); // Skew\n        num *= max - min; // Stretch to fill range\n        num += min; // offset to min\n    }\n    return num;\n};\nexport const randomNormalNumberBetween = (min, max) => randomNormalBM() * (max - min) + min;\nexport const randomNormalWholeBetween = (min, max) => Math.round(randomNormalBM() * (max - min) + min);\nexport const randomNumberBetween = (min, max) => csRandom.valueNonZero() * (max - min) + min;\nexport const randomWholeBetween = (min, max) => Math.floor(csRandom.value() * (max - min) + min);\nexport const randomNumberBetweenMid = (min, max) => randomNumberBetween(min, max) - max / 2;\n\nexport const random = (max) => (max > 0 ? randomWholeBetween(0, max) : randomWholeBetween(max, 0));\nexport const randomN = (max) => (max > 0 ? randomNormalWholeBetween(0, max) : randomNormalWholeBetween(max, 0));\n\nexport const randomSign = () => (Math.round(csRandom.value()) === 1 ? 1 : -1);\nexport const randomBoolean = () => Math.round(csRandom.value()) === 1;\nexport const randomChance = (chance = 0.5) => csRandom.chance(chance);\n\nexport const oneOf = (arry) => {\n    const i = randomWholeBetween(0, arry.length - 1);\n    return arry[i];\n};\nexport const createRandomNumberArray = (len, min, max) =>\n    Array.from(new Array(len)).map(() => randomNumberBetween(min, max));\n\nexport const create2dNoise = (u, v, amplitude = 1, frequency = 0.5) =>\n    csRandom.noise2D(u * frequency, v * frequency) * amplitude;\n\nexport const create2dNoiseAbs = (u, v, amplitude = 1, frequency = 0.5) =>\n    Math.abs(csRandom.noise2D(u * frequency, v * frequency)) * amplitude;\n\nexport const create3dNoise = (u, v, t, amplitude = 1, frequency = 0.5) =>\n    csRandom.noise3D(u * frequency, v * frequency, t * frequency) * amplitude;\n\nexport const create3dNoiseAbs = (u, v, t, amplitude = 1, frequency = 0.5) =>\n    Math.abs(csRandom.noise3D(u * frequency, v * frequency, t * frequency)) * amplitude;\n\nexport const randomPointAround = (range = 20) => {\n    const radius = randomWholeBetween(0, range);\n    const angle = randomNumberBetween(0, TAU);\n    return { x: radius * Math.cos(angle), y: radius * Math.sin(angle) };\n};\n","var seedRandom = require('seed-random');\nvar SimplexNoise = require('simplex-noise');\nvar defined = require('defined');\n\nfunction createRandom (defaultSeed) {\n  defaultSeed = defined(defaultSeed, null);\n  var defaultRandom = Math.random;\n  var currentSeed;\n  var currentRandom;\n  var noiseGenerator;\n  var _nextGaussian = null;\n  var _hasNextGaussian = false;\n\n  setSeed(defaultSeed);\n\n  return {\n    value: value,\n    createRandom: function (defaultSeed) {\n      return createRandom(defaultSeed);\n    },\n    setSeed: setSeed,\n    getSeed: getSeed,\n    getRandomSeed: getRandomSeed,\n    valueNonZero: valueNonZero,\n    permuteNoise: permuteNoise,\n    noise1D: noise1D,\n    noise2D: noise2D,\n    noise3D: noise3D,\n    noise4D: noise4D,\n    sign: sign,\n    boolean: boolean,\n    chance: chance,\n    range: range,\n    rangeFloor: rangeFloor,\n    pick: pick,\n    shuffle: shuffle,\n    onCircle: onCircle,\n    insideCircle: insideCircle,\n    onSphere: onSphere,\n    insideSphere: insideSphere,\n    quaternion: quaternion,\n    weighted: weighted,\n    weightedSet: weightedSet,\n    weightedSetIndex: weightedSetIndex,\n    gaussian: gaussian\n  };\n\n  function setSeed (seed, opt) {\n    if (typeof seed === 'number' || typeof seed === 'string') {\n      currentSeed = seed;\n      currentRandom = seedRandom(currentSeed, opt);\n    } else {\n      currentSeed = undefined;\n      currentRandom = defaultRandom;\n    }\n    noiseGenerator = createNoise();\n    _nextGaussian = null;\n    _hasNextGaussian = false;\n  }\n\n  function value () {\n    return currentRandom();\n  }\n\n  function valueNonZero () {\n    var u = 0;\n    while (u === 0) u = value();\n    return u;\n  }\n\n  function getSeed () {\n    return currentSeed;\n  }\n\n  function getRandomSeed () {\n    var seed = String(Math.floor(Math.random() * 1000000));\n    return seed;\n  }\n\n  function createNoise () {\n    return new SimplexNoise(currentRandom);\n  }\n\n  function permuteNoise () {\n    noiseGenerator = createNoise();\n  }\n\n  function noise1D (x, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise2D(x * frequency, 0);\n  }\n\n  function noise2D (x, y, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise2D(x * frequency, y * frequency);\n  }\n\n  function noise3D (x, y, z, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    if (!isFinite(z)) throw new TypeError('z component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise3D(\n      x * frequency,\n      y * frequency,\n      z * frequency\n    );\n  }\n\n  function noise4D (x, y, z, w, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    if (!isFinite(z)) throw new TypeError('z component for noise() must be finite');\n    if (!isFinite(w)) throw new TypeError('w component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise4D(\n      x * frequency,\n      y * frequency,\n      z * frequency,\n      w * frequency\n    );\n  }\n\n  function sign () {\n    return boolean() ? 1 : -1;\n  }\n\n  function boolean () {\n    return value() > 0.5;\n  }\n\n  function chance (n) {\n    n = defined(n, 0.5);\n    if (typeof n !== 'number') throw new TypeError('expected n to be a number');\n    return value() < n;\n  }\n\n  function range (min, max) {\n    if (max === undefined) {\n      max = min;\n      min = 0;\n    }\n\n    if (typeof min !== 'number' || typeof max !== 'number') {\n      throw new TypeError('Expected all arguments to be numbers');\n    }\n\n    return value() * (max - min) + min;\n  }\n\n  function rangeFloor (min, max) {\n    if (max === undefined) {\n      max = min;\n      min = 0;\n    }\n\n    if (typeof min !== 'number' || typeof max !== 'number') {\n      throw new TypeError('Expected all arguments to be numbers');\n    }\n\n    return Math.floor(range(min, max));\n  }\n\n  function pick (array) {\n    if (array.length === 0) return undefined;\n    return array[rangeFloor(0, array.length)];\n  }\n\n  function shuffle (arr) {\n    if (!Array.isArray(arr)) {\n      throw new TypeError('Expected Array, got ' + typeof arr);\n    }\n\n    var rand;\n    var tmp;\n    var len = arr.length;\n    var ret = arr.slice();\n    while (len) {\n      rand = Math.floor(value() * len--);\n      tmp = ret[len];\n      ret[len] = ret[rand];\n      ret[rand] = tmp;\n    }\n    return ret;\n  }\n\n  function onCircle (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var theta = value() * 2.0 * Math.PI;\n    out[0] = radius * Math.cos(theta);\n    out[1] = radius * Math.sin(theta);\n    return out;\n  }\n\n  function insideCircle (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    onCircle(1, out);\n    var r = radius * Math.sqrt(value());\n    out[0] *= r;\n    out[1] *= r;\n    return out;\n  }\n\n  function onSphere (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var u = value() * Math.PI * 2;\n    var v = value() * 2 - 1;\n    var phi = u;\n    var theta = Math.acos(v);\n    out[0] = radius * Math.sin(theta) * Math.cos(phi);\n    out[1] = radius * Math.sin(theta) * Math.sin(phi);\n    out[2] = radius * Math.cos(theta);\n    return out;\n  }\n\n  function insideSphere (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var u = value() * Math.PI * 2;\n    var v = value() * 2 - 1;\n    var k = value();\n\n    var phi = u;\n    var theta = Math.acos(v);\n    var r = radius * Math.cbrt(k);\n    out[0] = r * Math.sin(theta) * Math.cos(phi);\n    out[1] = r * Math.sin(theta) * Math.sin(phi);\n    out[2] = r * Math.cos(theta);\n    return out;\n  }\n\n  function quaternion (out) {\n    out = out || [];\n    var u1 = value();\n    var u2 = value();\n    var u3 = value();\n\n    var sq1 = Math.sqrt(1 - u1);\n    var sq2 = Math.sqrt(u1);\n\n    var theta1 = Math.PI * 2 * u2;\n    var theta2 = Math.PI * 2 * u3;\n\n    var x = Math.sin(theta1) * sq1;\n    var y = Math.cos(theta1) * sq1;\n    var z = Math.sin(theta2) * sq2;\n    var w = Math.cos(theta2) * sq2;\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n  }\n\n  function weightedSet (set) {\n    set = set || [];\n    if (set.length === 0) return null;\n    return set[weightedSetIndex(set)].value;\n  }\n\n  function weightedSetIndex (set) {\n    set = set || [];\n    if (set.length === 0) return -1;\n    return weighted(set.map(function (s) {\n      return s.weight;\n    }));\n  }\n\n  function weighted (weights) {\n    weights = weights || [];\n    if (weights.length === 0) return -1;\n    var totalWeight = 0;\n    var i;\n\n    for (i = 0; i < weights.length; i++) {\n      totalWeight += weights[i];\n    }\n\n    if (totalWeight <= 0) throw new Error('Weights must sum to > 0');\n\n    var random = value() * totalWeight;\n    for (i = 0; i < weights.length; i++) {\n      if (random < weights[i]) {\n        return i;\n      }\n      random -= weights[i];\n    }\n    return 0;\n  }\n\n  function gaussian (mean, standardDerivation) {\n    mean = defined(mean, 0);\n    standardDerivation = defined(standardDerivation, 1);\n\n    // https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/util/Random.java#L496\n    if (_hasNextGaussian) {\n      _hasNextGaussian = false;\n      var result = _nextGaussian;\n      _nextGaussian = null;\n      return mean + standardDerivation * result;\n    } else {\n      var v1 = 0;\n      var v2 = 0;\n      var s = 0;\n      do {\n        v1 = value() * 2 - 1; // between -1 and 1\n        v2 = value() * 2 - 1; // between -1 and 1\n        s = v1 * v1 + v2 * v2;\n      } while (s >= 1 || s === 0);\n      var multiplier = Math.sqrt(-2 * Math.log(s) / s);\n      _nextGaussian = (v2 * multiplier);\n      _hasNextGaussian = true;\n      return mean + standardDerivation * (v1 * multiplier);\n    }\n  }\n}\n\nmodule.exports = createRandom();\n","import { Vector } from './Vector';\nimport { cos, lerp, sin } from './math';\nimport { getCurvePoints } from './curve-calc';\n\nexport const point = (x, y) => ({ x, y });\nexport const pointA = (x, y) => [x, y];\n\nexport const pointArrayToPointObject = (a) => ({ x: a[0], y: a[1] });\nexport const pointArrayToVector = (a) => new Vector(a[0], a[1]);\nexport const vectorToPointArray = (v) => [v.x, v.y];\n// [[x,y]] => [{x:x,y:y}]\nexport const arrayPointArrayToObjectArray = (arry) => arry.map((a) => pointArrayToPointObject(a));\n// [[x,y]] => [Vector{x:x,y:y}]\nexport const arrayPointArrayToVectorArray = (arry) => arry.map((a) => pointArrayToVector(a));\nexport const arrayVectorToPointArray = (arry) => arry.map((a) => vectorToPointArray(a));\n\n// [[x,y]] => [x1, y1,  x2, y2, ... xn, yn]\nexport const flattenPointArray = (arry) =>\n    arry.reduce((acc, p) => {\n        if (p) {\n            acc.push(p[0]);\n            acc.push(p[1]);\n        }\n\n        return acc;\n    }, []);\n\n// [x1, y1,  x2, y2, ... xn, yn] => [[x,y]]\nexport const unflattenPointArray = (arry) => {\n    const points = [];\n    for (let i = 0; i < arry.length; i += 2) {\n        points.push([arry[i], arry[i + 1]]);\n    }\n    return points;\n};\n\nexport const uvPointToCanvas = ({ margin = 0, u, v, width, height }) => ({\n    x: lerp(margin, width - margin, u),\n    y: lerp(margin, height - margin, v),\n});\n\nexport const pointDistance = (pointA, pointB) => {\n    const dx = pointA.x - pointB.x;\n    const dy = pointA.y - pointB.y;\n    return Math.sqrt(dx * dx + dy * dy);\n};\n\n// https://stackoverflow.com/questions/13043945/how-do-i-calculate-the-position-of-a-point-in-html5-canvas-after-rotation\nexport const pointRotateCoord = (point, angle) => ({\n    x: point.x * cos(angle) - point.y * sin(angle),\n    y: point.y * cos(angle) + point.x * sin(angle),\n});\n\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-angular-movement/a/pointing-towards-movement\nexport const pointAngleFromVelocity = ({ velocityX, velocityY }) => Math.atan2(velocityY, velocityX);\n\n// Scale up point grid and center in the canvas\nexport const scalePointToCanvas = (canvasWidth, canvasHeight, width, height, zoomFactor, x, y) => {\n    const particleXOffset = canvasWidth / 2 - (width * zoomFactor) / 2;\n    const particleYOffset = canvasHeight / 2 - (height * zoomFactor) / 2;\n    return {\n        x: x * zoomFactor + particleXOffset,\n        y: y * zoomFactor + particleYOffset,\n    };\n};\n\nexport const pointsOrientation = (a, b) => Math.atan2(b.y - a.y, b.x - a.x);\n\nexport const pointsFromSegment = (seg) => {\n    const points = [];\n    for (let i = 0; i < seg.length; i++) {\n        points.push([seg[i].start.x, seg[i].start.y]);\n        points.push([seg[i].end.x, seg[i].end.y]);\n    }\n    return points;\n};\n\nexport const trimPointArray = (points, skip = 2) =>\n    points.reduce((acc, s, i) => {\n        if (i === 0 || i === points.length - 1) {\n            acc.push(s);\n        } else if (i % skip === 0) {\n            acc.push(s);\n        }\n        return acc;\n    }, []);\n\nexport const createSplineFromPointArray = (points) => unflattenPointArray(getCurvePoints(flattenPointArray(points)));\n\n// // For array of points from segments, take only the first start\n// export const startPointsOnly = (points) => {\n//     const p = [];\n//     for (let i = 0; i < points.length; i += 2) {\n//         p.push(points[i]);\n//     }\n//     // last end point\n//     p.push(last(points));\n//     return p;\n// };\n// Using https://github.com/gdenisov/cardinal-spline-js\n","// https://github.com/gdenisov/cardinal-spline-js\n// https://github.com/gdenisov/cardinal-spline-js/blob/master/src/curve_calc.js\n/*!\tCurve calc function for canvas 2.3.1\n *\tEpistemex (c) 2013-2014\n *\tLicense: MIT\n */\n\n/**\n * Calculates an array containing points representing a cardinal spline through given point array.\n * Points must be arranged as: [x1, y1, x2, y2, ..., xn, yn].\n *\n * The points for the cardinal spline are returned as a new array.\n *\n * @param {Array} points - point array\n * @param {Number} [tension=0.5] - tension. Typically between [0.0, 1.0] but can be exceeded\n * @param {Number} [numOfSeg=20] - number of segments between two points (line resolution)\n * @param {Boolean} [close=false] - Close the ends making the line continuous\n * @returns {Float32Array} New array with the calculated points that was added to the path\n */\nexport const getCurvePoints = (points, tension, numOfSeg, close) => {\n    // options or defaults\n    tension = typeof tension === 'number' ? tension : 0.5;\n    numOfSeg = numOfSeg || 25;\n\n    let pts; // for cloning point array\n    let i = 1;\n    let l = points.length;\n    let rPos = 0;\n    const rLen = (l - 2) * numOfSeg + 2 + (close ? 2 * numOfSeg : 0);\n\n    if (rLen < 0) {\n        return [];\n    }\n\n    const res = new Float32Array(rLen);\n    const cache = new Float32Array((numOfSeg + 2) * 4);\n    let cachePtr = 4;\n\n    pts = points.slice(0);\n\n    if (close) {\n        pts.unshift(points[l - 1]); // insert end point as first point\n        pts.unshift(points[l - 2]);\n        pts.push(points[0], points[1]); // first point as last point\n    } else {\n        pts.unshift(points[1]); // copy 1. point and insert at beginning\n        pts.unshift(points[0]);\n        pts.push(points[l - 2], points[l - 1]); // duplicate end-points\n    }\n\n    // cache inner-loop calculations as they are based on t alone\n    cache[0] = 1; // 1,0,0,0\n\n    for (; i < numOfSeg; i++) {\n        const st = i / numOfSeg;\n        const st2 = st * st;\n        const st3 = st2 * st;\n        const st23 = st3 * 2;\n        const st32 = st2 * 3;\n\n        cache[cachePtr++] = st23 - st32 + 1; // c1\n        cache[cachePtr++] = st32 - st23; // c2\n        cache[cachePtr++] = st3 - 2 * st2 + st; // c3\n        cache[cachePtr++] = st3 - st2; // c4\n    }\n\n    cache[++cachePtr] = 1; // 0,1,0,0\n\n    // calc. points\n    parse(pts, cache, l);\n\n    if (close) {\n        // l = points.length;\n        pts = [];\n        pts.push(points[l - 4], points[l - 3], points[l - 2], points[l - 1]); // second last and last\n        pts.push(points[0], points[1], points[2], points[3]); // first and second\n        parse(pts, cache, 4);\n    }\n\n    function parse(pts, cache, l) {\n        for (var i = 2, t; i < l; i += 2) {\n            const pt1 = pts[i];\n            const pt2 = pts[i + 1];\n            const pt3 = pts[i + 2];\n            const pt4 = pts[i + 3];\n\n            const t1x = (pt3 - pts[i - 2]) * tension;\n            const t1y = (pt4 - pts[i - 1]) * tension;\n            const t2x = (pts[i + 4] - pt1) * tension;\n            const t2y = (pts[i + 5] - pt2) * tension;\n\n            for (t = 0; t < numOfSeg; t++) {\n                const c = t << 2; // t * 4;\n                const c1 = cache[c];\n                const c2 = cache[c + 1];\n                const c3 = cache[c + 2];\n                const c4 = cache[c + 3];\n\n                res[rPos++] = c1 * pt1 + c2 * pt3 + c3 * t1x + c4 * t2x;\n                res[rPos++] = c1 * pt2 + c2 * pt4 + c3 * t1y + c4 * t2y;\n            }\n        }\n    }\n\n    // add last point\n    l = close ? 0 : points.length - 2;\n    res[rPos++] = points[l];\n    res[rPos] = points[l + 1];\n\n    return res;\n};\n","import tinycolor from 'tinycolor2';\nimport { clamp } from '../math/math';\nimport { Vector } from '../math/Vector';\nimport { randomNumberBetween, randomWholeBetween } from '../math/random';\nimport { pointAngleFromVelocity, pointDistance } from '../math/points';\n\n/*\nThis class is a mess 😅\n */\n\nconst maxParticleHistory = 30;\n\nexport class Particle {\n    #x;\n\n    #y;\n\n    #color;\n\n    constructor({\n        index,\n        x,\n        y,\n        velocityX,\n        velocityY,\n        accelerationX,\n        accelerationY,\n        radius,\n        mass,\n        color,\n        alpha,\n        rotation,\n        drawFn,\n        updateFn,\n        colorFn,\n        ...rest\n    }) {\n        this.props = rest;\n        this.index = index || 0;\n\n        // TODO remove separate x/y and just use a vector\n        this.#x = x || 0;\n        this.#y = y || 0;\n        this.xHistory = [x];\n        this.yHistory = [y];\n        this.oX = x || this.oX;\n        this.oY = y || this.oY;\n        this.velocityX = velocityX || 0;\n        this.velocityY = velocityY || 0;\n        this.accelerationX = accelerationX || 0;\n        this.accelerationY = accelerationY || 0;\n\n        this.mass = mass || 1;\n        this.radius = radius || 1;\n        this.#color = color ? tinycolor(color) : tinycolor({ r: 255, g: 255, b: 255 });\n        this.rotation = rotation || 0;\n        this.colorFn = colorFn;\n    }\n\n    get color() {\n        if (this.colorFn) {\n            // TODO type check to enforce string?\n            return tinycolor(this.colorFn(this));\n        }\n        return this.#color;\n    }\n\n    set color(value) {\n        this.#color = tinycolor(value);\n    }\n\n    get colorStr() {\n        if (this.colorFn) {\n            const res = this.colorFn(this);\n            if (typeof res !== 'string') {\n                console.warn('Particle color fn must return a string!');\n                return '#ff0000';\n            }\n            return res;\n        }\n        return this.#color.toRgbString();\n    }\n\n    get x() {\n        return this.#x;\n    }\n\n    set x(value) {\n        this.#x = value;\n        this.xHistory.unshift(value);\n        if (this.xHistory.length > maxParticleHistory) {\n            this.xHistory = this.xHistory.slice(0, maxParticleHistory);\n        }\n    }\n\n    get y() {\n        return this.#y;\n    }\n\n    set y(value) {\n        this.#y = value;\n        this.yHistory.unshift(value);\n        if (this.yHistory.length > maxParticleHistory) {\n            this.yHistory = this.yHistory.slice(0, maxParticleHistory);\n        }\n    }\n\n    get velocity() {\n        return new Vector(this.velocityX, this.velocityY, 0);\n    }\n\n    set velocity({ x, y }) {\n        this.velocityX = x;\n        this.velocityY = y;\n    }\n\n    get acceleration() {\n        return new Vector(this.accelerationX, this.accelerationY, 0);\n    }\n\n    set acceleration({ x, y }) {\n        this.accelerationX = x;\n        this.accelerationY = y;\n    }\n\n    // Rotation angle to point in direction of velocity\n    get heading() {\n        return pointAngleFromVelocity(this);\n    }\n\n    reverseVelocityX() {\n        this.velocityX *= -1;\n    }\n\n    reverseVelocityY() {\n        this.velocityY *= -1;\n    }\n\n    updatePosWithVelocity() {\n        this.x += this.velocity.x;\n        this.y += this.velocity.y;\n    }\n\n    applyForce(fVect) {\n        const fV = fVect.div(this.mass);\n        const aV = this.acceleration.add(fV);\n        const pV = this.velocity.add(aV);\n        this.acceleration = aV;\n        this.velocity = pV;\n    }\n\n    // https://www.youtube.com/watch?v=WBdhAuWS6X8\n    friction(mu = 0.1) {\n        const normal = this.mass;\n        const vfriction = this.velocity\n            .normalize()\n            .mult(-1)\n            .setMag(mu * normal);\n        this.applyForce(vfriction);\n    }\n\n    // https://www.youtube.com/watch?v=DxFDgOYEoy8\n    drag(coefficent = 0.1) {\n        const area = 1; // this.radius;\n        const velUnit = this.velocity.normalize().mult(-1);\n        const speed = this.velocity.magSq() * area * coefficent;\n        const vdrag = velUnit.setMag(speed);\n        this.applyForce(vdrag);\n    }\n\n    // https://www.youtube.com/watch?v=EpgB3cNhKPM\n    // mode 1 is attract, -1 is repel\n    // const attractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 50, g: 1 };\n    attract({ x, y, mass, g }, mode = 1, affectDist = 1000) {\n        if (pointDistance({ x, y }, { x: this.x, y: this.y }) < affectDist) {\n            g = g || 1;\n            const dir = new Vector(x, y).sub(new Vector(this.x, this.y));\n            const distanceSq = clamp(50, 5000, dir.magSq());\n            const strength = (mode * (g * (mass * this.mass))) / distanceSq;\n            const force = dir.setMag(strength);\n            this.applyForce(force);\n        }\n    }\n}\n\n//----------------------------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------------------------\n\nexport const createRandomParticleValues = ({ width, height }) => {\n    const vel = 2;\n    const radius = randomNumberBetween(5, 10);\n    return {\n        radius,\n        x: randomNumberBetween(0, width),\n        y: randomNumberBetween(0, height),\n        mass: randomNumberBetween(1, 10),\n        velocityX: randomNumberBetween(-vel, vel),\n        velocityY: randomNumberBetween(-vel, vel),\n        accelerationX: 0,\n        accelerationY: 0,\n        rotation: randomNumberBetween(-180, 180),\n        color: { r: randomNumberBetween(100, 255), g: randomNumberBetween(100, 255), b: randomNumberBetween(100, 255) },\n    };\n};\n\nexport const createRandomStaticParticle = ({ width, height }) => {\n    const props = createRandomParticleValues({ width, height });\n    props.x = randomWholeBetween(0, width);\n    props.y = randomWholeBetween(0, height);\n    props.velocityX = 0;\n    props.velocityY = 0;\n    return new Particle(props);\n};\n\n//----------------------------------------------------------------------------------------------------------------------\n//----------------------------------------------------------------------------------------------------------------------\n\nexport const edgeBounce = ({ width, height }, particle) => {\n    if (particle.x + particle.radius > width) {\n        particle.reverseVelocityX();\n        particle.x = width - particle.radius;\n    }\n    if (particle.x - particle.radius < 0) {\n        particle.reverseVelocityX();\n        particle.x = particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.reverseVelocityY();\n        particle.y = height - particle.radius;\n    }\n    if (particle.y - particle.radius < 0) {\n        particle.reverseVelocityY();\n        particle.y = particle.radius;\n    }\n};\n\nexport const edgeWrap = ({ width, height }, particle) => {\n    if (particle.x + particle.radius > width) {\n        particle.x = 0 + particle.radius;\n    } else if (particle.x - particle.radius < 0) {\n        particle.x = width - particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.y = 0 + particle.radius;\n    } else if (particle.y - particle.radius < 0) {\n        particle.y = height - particle.radius;\n    }\n};\n","import tinycolor from 'tinycolor2';\n\nlet isHiDPI = false;\nlet contextScale = 1;\n\nconst contextHistory = [];\n\nexport const isHiDPICanvas = (_) => isHiDPI;\nexport const currentContextScale = (_) => contextScale;\n\nexport const resizeCanvas = (canvas, context, width, height, scale) => {\n    contextScale = scale || window.devicePixelRatio;\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n\n    canvas.width = Math.floor(width * contextScale);\n    canvas.height = Math.floor(height * contextScale);\n\n    if (contextScale === 2) {\n        isHiDPI = true;\n        context.scale(1, 1);\n        // context.scale(2, 2); // not working\n    } else {\n        context.scale(contextScale, contextScale);\n    }\n};\n\nconst contextDefaults = {\n    strokeStyle: '#000',\n    fillStyle: '#000',\n    globalAlpha: 1,\n    lineWidth: 1,\n    lineCap: 'butt',\n    lineJoin: 'miter',\n    textAlign: 'left',\n    textBaseline: 'top',\n    globalCompositeOperation: 'source-over',\n};\n\nexport const setContext = (context) => (settings) => {\n    contextHistory.push(settings);\n    Object.keys(settings).forEach((k) => {\n        context[k] = settings[k];\n    });\n};\n\nexport const resetContext = (context) => {\n    setContext(context)(contextDefaults);\n    context.setLineDash([]);\n};\n\nexport const roundLines = (context) => (width, color) => {\n    setContext(context)({\n        lineWidth: width || context.lineWidth,\n        strokeStyle: color ? tinycolor(color).toRgbString() : context.strokeStyle,\n        lineCap: 'round',\n        lineJoin: 'round',\n    });\n};\n\nexport const squareLines = (context) => (width, color) =>\n    setContext(context)({\n        lineWidth: width || context.lineWidth,\n        strokeStyle: color ? tinycolor(color).toRgbString() : context.strokeStyle,\n        lineCap: 'butt',\n        lineJoin: 'miter',\n    });\n\n// https://www.rgraph.net/canvas/howto-antialias.html\nexport const sharpLines = (context) => context.translate(0.5, 0.5);\n\n// https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n// multiply, screen, overlay, soft-light, hard-light, color-dodge, color-burn, darken, lighten, difference, exclusion, hue, saturation, luminosity, color, add, subtract, average, negative\nexport const blendMode = (context) => (mode = 'source-over') => setContext(context)({ globalCompositeOperation: mode });\n\n// https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/filter\nexport const filter = (context) => (f = '') => setContext(context)({ filter: f });\n\nexport const strokeWeight = (context) => (w = 1) => setContext(context)({ lineWidth: w });\n\nexport const strokeColor = (context) => (color = '#000') =>\n    setContext(context)({ strokeStyle: tinycolor(color).toRgbString() });\n\nexport const strokeDash = (context) => (dash = []) => context.setLineDash(dash);\n\nexport const fillColor = (context) => (color = '#000') =>\n    setContext(context)({ fillStyle: tinycolor(color).toRgbString() });\n\nexport const clear = ({ width, height }, context) => (_) => context.clearRect(0, 0, width, height);\n\nexport const background = ({ width, height }, context) => (color = 'black') => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fillRect(0, 0, width, height);\n};\n","import tinycolor from 'tinycolor2';\nimport * as cnvs from './canvas';\nimport { snapNumber } from '../math/math';\n\nexport const pixel = (context) => (x, y, color = 'black', mode = 'square', size) => {\n    size = size || cnvs.currentContextScale();\n    context.beginPath();\n    context.fillStyle = tinycolor(color).toRgbString();\n    if (mode === 'circleOld') {\n        context.beginPath();\n        context.arc(x, y, size, 0, Math.PI * 2, false);\n        context.fill();\n    } else {\n        context.fillRect(x, y, size, size);\n    }\n    context.closePath();\n};\n\n// linecap = butt, round, square\nexport const line = (context) => (x1, y1, x2, y2, strokeWidth, linecap) => {\n    context.beginPath();\n    // color = 'black',\n    // context.strokeStyle = tinycolor(color).toRgbString();\n    if (strokeWidth) context.lineWidth = strokeWidth;\n    if (linecap) context.lineCap = linecap;\n\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n    context.closePath();\n};\n\nexport const lineAtAngle = (context) => (x1, y1, angle, length, strokeWidth, linecap) => {\n    const theta = (Math.PI * angle) / 180.0;\n    const x2 = x1 + length * Math.cos(theta);\n    const y2 = y1 + length * Math.sin(theta);\n    line(context)(x1, y1, x2, y2, strokeWidth, linecap);\n};\n\nexport const circleOld = (context) => (strokeWidth, x, y, radius, color) => {\n    context.beginPath();\n    if (color) {\n        context.strokeStyle = tinycolor(color).toRgbString();\n    }\n    context.lineWidth = strokeWidth;\n\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgba(255,255,255,.1)';\n    // context.fill();\n    context.stroke();\n    context.closePath();\n};\n\nexport const circle = (context) => (x, y, radius, color) => {\n    context.beginPath();\n    if (color) {\n        context.strokeStyle = tinycolor(color).toRgbString();\n    }\n\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.stroke();\n    context.closePath();\n};\n\nexport const circleFilled = (context) => (x, y, radius, color) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fill();\n    context.closePath();\n};\n\nexport const rect = (context) => (x, y, w, h, strokeWidth = 1, color) => {\n    context.beginPath();\n    if (color) {\n        context.strokeStyle = tinycolor(color).toRgbString();\n    }\n    context.lineWidth = strokeWidth;\n    context.rect(x, y, w, h);\n    context.stroke();\n    context.closePath();\n};\n\nexport const rectFilled = (context) => (x, y, w, h, color = 'white') => {\n    context.beginPath();\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fillRect(x, y, w, h);\n    context.closePath();\n};\n\nexport const squareFilled = (context) => (x, y, size, color) => {\n    rectFilled(context)(x, y, size, size, color);\n};\n\nexport const drawTriangleFilled = (context) => (x, y, size, color) => {\n    const half = size / 2;\n    context.beginPath();\n    context.moveTo(x - half, y - half);\n    context.lineTo(x + half, y);\n    context.lineTo(x - half, y + half);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n    context.closePath();\n};\n\n// https://www.scriptol.com/html5/canvas/rounded-rectangle.php\n// TODO center on x,y\nexport const quadRectFilled = (context) => (x, y, w, h, color) => {\n    const mx = x + w / 2;\n    const my = y + h / 2;\n    context.beginPath();\n    // context.strokeStyle = 'green';\n    // context.lineWidth = '4';\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.moveTo(x, my);\n    context.quadraticCurveTo(x, y, mx, y);\n    context.quadraticCurveTo(x + w, y, x + w, my);\n    context.quadraticCurveTo(x + w, y + h, mx, y + h);\n    context.quadraticCurveTo(x, y + h, x, my);\n    // context.stroke();\n    context.fill();\n    context.closePath();\n};\n\n// https://www.scriptol.com/html5/canvas/rounded-rectangle.php\n// TODO center on x,y\nexport const roundRectFilled = (context) => (x, y, w, h, corner, color) => {\n    if (w < corner || h < corner) {\n        corner = Math.min(w, h);\n    }\n\n    const r = x + w;\n    const b = y + h;\n    context.beginPath();\n    // context.strokeStyle = 'green';\n    // context.lineWidth = '4';\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.moveTo(x + corner, y);\n    context.lineTo(r - corner, y);\n    context.quadraticCurveTo(r, y, r, y + corner);\n    context.lineTo(r, y + h - corner);\n    context.quadraticCurveTo(r, b, r - corner, b);\n    context.lineTo(x + corner, b);\n    context.quadraticCurveTo(x, b, x, b - corner);\n    context.lineTo(x, y + corner);\n    context.quadraticCurveTo(x, y, x + corner, y);\n    // context.stroke();\n    context.fill();\n    context.closePath();\n};\n\nexport const pixelAtPoints = (context) => (points, color = 'black', width = 1) => {\n    points.forEach((coords, i) => {\n        pixel(context)(coords[0], coords[1], color, 'circleOld', width);\n    });\n};\n\nexport const pointPathPA = (context) => (points, color = 'black', width = 1, close = false, drawPoint = false) => {\n    context.beginPath();\n    context.strokeStyle = tinycolor(color).clone().toRgbString();\n\n    context.lineWidth = width;\n    context.lineCap = 'round';\n    context.lineJoin = 'round';\n\n    points.forEach((coords, i) => {\n        if (i === 0) {\n            context.moveTo(coords[0], coords[1]);\n        } else {\n            context.lineTo(coords[0], coords[1]);\n        }\n        if (drawPoint) {\n            circleFilled(context)(coords[0], coords[1], 1, 'red');\n        }\n    });\n    if (close) {\n        context.lineTo(points[0][0], points[0][1]);\n    }\n    context.stroke();\n    context.closePath();\n};\n\nexport const pointPathPO = (context) => (points, color = 'black', width = 1, close = false, drawPoint = false) => {\n    context.beginPath();\n    context.strokeStyle = tinycolor(color).clone().toRgbString();\n\n    context.lineWidth = width;\n    context.lineCap = 'round';\n    context.lineJoin = 'round';\n\n    points.forEach((coords, i) => {\n        if (i === 0) {\n            context.moveTo(coords.x, coords.y);\n        } else {\n            context.lineTo(coords.x, coords.y);\n        }\n        if (drawPoint) {\n            circleFilled(context)(coords.x, coords.y, 1, 'red');\n        }\n    });\n    if (close) {\n        context.lineTo(points[0].x, points[0].y);\n    }\n    context.stroke();\n    context.closePath();\n};\n\n/*\n// tl\narcQuarter(context)(square.x, square.y, arcRad, 0);\n// tr\narcQuarter(context)(square.x2, square.y, arcRad, Math.PI / 2);\n// bl\narcQuarter(context)(square.x, square.y2, arcRad, Math.PI * 1.5);\n// br\narcQuarter(context)(square.x, square.y2, arcRad, Math.PI);\n */\nexport const arcQuarter = (context) => (x, y, radius, startRadians, clockWise = false) => {\n    // context.strokeStyle = tinycolor(color).toRgbString();\n    // context.lineCap = 'butt';\n    // context.lineWidth = thickness;\n    const startR = snapNumber(Math.PI / 2, startRadians);\n    const endR = startR + Math.PI / 2;\n    context.beginPath();\n    context.arc(x, y, radius, startR, endR, clockWise);\n    context.stroke();\n    context.closePath();\n};\n","import { normalizeInverse } from '../math/math';\nimport { resetContext } from './canvas';\nimport { line } from './primatives';\nimport { pointDistance } from '../math/points';\n\n// TODO use pixel\nexport const particlePoint = (context) => ({ x, y, radius, color }) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n};\n\nexport const particleRotated = (ctx, drawFn, particle, ...args) => {\n    const pSaveX = particle.x;\n    const pSaveY = particle.y;\n    particle.x = 0;\n    particle.y = 0;\n    ctx.save();\n    ctx.translate(pSaveX, pSaveY);\n    ctx.rotate(particle.heading);\n    drawFn(ctx)(particle, args);\n    ctx.restore();\n    particle.x = pSaveX;\n    particle.y = pSaveY;\n};\n\nexport const particleHistoryTrail = (context) => (particle) => {\n    const trailLen = particle.xHistory.length;\n    context.lineWidth = particle.radius;\n    const pColor = particle.color;\n    const aFade = (100 / trailLen) * 0.01;\n    let alpha = 1;\n    const sFade = (particle.radius * 2) / trailLen;\n    let stroke = particle.radius * 2;\n    for (let i = 0; i < trailLen; i++) {\n        const startX = i === 0 ? particle.x : particle.xHistory[i - 1];\n        const startY = i === 0 ? particle.y : particle.yHistory[i - 1];\n        line(context)(startX, startY, particle.xHistory[i], particle.yHistory[i], stroke);\n        pColor.setAlpha(alpha);\n        context.strokeStyle = pColor.toRgbString();\n        alpha -= aFade;\n        stroke -= sFade;\n    }\n};\n\nexport const connectParticles = (context) => (pArray, proximity, useAlpha = true) => {\n    const len = pArray.length;\n    for (let a = 0; a < len; a++) {\n        // all consecutive particles\n        for (let b = a; b < len; b++) {\n            const pA = pArray[a];\n            const pB = pArray[b];\n            const distance = pointDistance(pA, pB);\n            if (distance < proximity) {\n                const pColor = pA.color;\n                if (useAlpha) {\n                    pColor.setAlpha(normalizeInverse(0, proximity, distance));\n                }\n                context.strokeStyle = pColor.toHslString();\n                line(context)(pA.x, pA.y, pB.x, pB.y, 0.5);\n            }\n        }\n    }\n    resetContext(context);\n};\n","import { edgeBounce, Particle, createRandomParticleValues } from '../rndrgen/systems/Particle';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { normalizeInverse } from '../rndrgen/math/math';\nimport { connectParticles, particlePoint } from '../rndrgen/canvas/particles';\nimport { randomNumberBetween } from '../rndrgen/math/random';\nimport { pointDistance } from '../rndrgen/math/points';\n\nconst gravityPoint = (mult = 0.2, f = 1) => (x, y, radius, particle) => {\n    const distance = pointDistance({ x, y }, particle);\n    if (distance < radius) {\n        const dx = x - particle.x;\n        const dy = y - particle.y;\n        const forceDirectionX = dx / distance;\n        const forceDirectionY = dy / distance;\n        const force = normalizeInverse(0, radius, distance) * f * mult;\n        const tempX = forceDirectionX * force * particle.radius * 2;\n        const tempY = forceDirectionY * force * particle.radius * 2;\n        particle.x += tempX;\n        particle.y += tempY;\n    }\n};\n\n// for moving points, push away/around from point\nconst avoidPoint = (point, particle, f = 1) => {\n    gravityPoint(1, (f *= -1))(point.x, point.y, point.radius, particle);\n};\n\nexport const variation5 = () => {\n    const config = {\n        numParticles: 50,\n    };\n\n    const particlesArray = [];\n    const circles = [];\n\n    const setup = ({ canvas, context }) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = canvas.width / 2;\n            props.y = canvas.height / 2;\n            props.color = { r: 0, g: 0, b: 0 };\n            props.radius = 0.5;\n            particlesArray.push(new Particle(props));\n        }\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const diameter = canvas.height / 4;\n        const steps = 30;\n        for (let theta = 0; theta < 360; theta += steps) {\n            const rad = theta * (Math.PI / 180);\n            const x = Math.cos(rad) * diameter + centerX;\n            const y = Math.sin(rad) * diameter + centerY;\n            circles.push([x, y, randomNumberBetween(20, 100)]);\n        }\n        background(canvas, context)('white');\n    };\n\n    const draw = ({ canvas, context, mouse }) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            particlesArray[i].updatePosWithVelocity();\n            edgeBounce(canvas, particlesArray[i]);\n            for (let c = 0; c < circles.length; c++) {\n                avoidPoint({ radius: circles[c][2], x: circles[c][0], y: circles[c][1] }, particlesArray[i], 4);\n            }\n            particlePoint(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 50);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","\"use strict\";\n\n/* globals document:readonly */\nvar bundleURL = null;\n\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  let matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nvar resolve = require('./bundle-manifest').resolve;\n\nmodule.exports = function (fromId, toId) {\n  return relative(dirname(resolve(fromId)), resolve(toId));\n};\n\nfunction dirname(_filePath) {\n  if (_filePath === '') {\n    return '.';\n  }\n\n  var filePath = _filePath[_filePath.length - 1] === '/' ? _filePath.slice(0, _filePath.length - 1) : _filePath;\n  var slashIndex = filePath.lastIndexOf('/');\n  return slashIndex === -1 ? '.' : filePath.slice(0, slashIndex);\n}\n\nfunction relative(from, to) {\n  if (from === to) {\n    return '';\n  }\n\n  var fromParts = from.split('/');\n\n  if (fromParts[0] === '.') {\n    fromParts.shift();\n  }\n\n  var toParts = to.split('/');\n\n  if (toParts[0] === '.') {\n    toParts.shift();\n  } // Find where path segments diverge.\n\n\n  var i;\n  var divergeIndex;\n\n  for (i = 0; (i < toParts.length || i < fromParts.length) && divergeIndex == null; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      divergeIndex = i;\n    }\n  } // If there are segments from \"from\" beyond the point of divergence,\n  // return back up the path to that point using \"..\".\n\n\n  var parts = [];\n\n  for (i = 0; i < fromParts.length - divergeIndex; i++) {\n    parts.push('..');\n  } // If there are segments from \"to\" beyond the point of divergence,\n  // continue using the remaining segments.\n\n\n  if (toParts.length > divergeIndex) {\n    parts.push.apply(parts, toParts.slice(divergeIndex));\n  }\n\n  return parts.join('/');\n}\n\nmodule.exports._dirname = dirname;\nmodule.exports._relative = relative;","module.exports = require('./bundle-url').getBundleURL() + require('./relative-path')(\"3FB7m\", \"4c6VI\")","import sourcePng from '../../media/images/hi1.png';\nimport { clear, background } from '../rndrgen/canvas/canvas';\nimport { createRandomParticleValues, edgeWrap, Particle } from '../rndrgen/systems/Particle';\nimport { particlePoint } from '../rndrgen/canvas/particles';\nimport { randomNumberBetween } from '../rndrgen/math/random';\n\nconst getImageDataFromImage = (context) => (image) => {\n    context.drawImage(image, 0, 0);\n    return context.getImageData(0, 0, image.width, image.width);\n};\n\nconst getImageDataColor = (imageData, x, y) => ({\n    r: imageData.data[y * 4 * imageData.width + x * 4],\n    g: imageData.data[y * 4 * imageData.width + x * 4 + 1],\n    b: imageData.data[y * 4 * imageData.width + x * 4 + 2],\n    a: imageData.data[y * 4 * imageData.width + x * 4 + 3],\n});\n\nexport const hiImage01 = (_) => {\n    const config = {\n        width: 600,\n        height: 600,\n    };\n\n    let imageZoomFactor;\n    const png = new Image();\n    png.src = sourcePng;\n    let imageData;\n\n    const numParticles = 500;\n    const particlesArray = [];\n    const particleColor = { r: 252, g: 3, b: 152 };\n\n    const setup = ({ canvas, context }) => {\n        imageData = getImageDataFromImage(context)(png);\n        clear(canvas, context)();\n        imageZoomFactor = canvas.width / imageData.width;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = randomNumberBetween(1, 5);\n            props.color = particleColor;\n            if (i % 2) {\n                props.x = 0;\n            } else {\n                props.x = canvas.width;\n            }\n            particlesArray.push(new Particle(props));\n        }\n\n        background(canvas, context)({ r: 255, g: 255, b: 0 });\n    };\n\n    const draw = ({ canvas, context, mouse }) => {\n        background(canvas, context)({ r: 255, g: 255, b: 0, a: 0.004 });\n\n        for (let i = 0; i < numParticles; i++) {\n            particlesArray[i].updatePosWithVelocity();\n            edgeWrap(canvas, particlesArray[i]);\n\n            const pxColor = getImageDataColor(\n                imageData,\n                Math.round(particlesArray[i].x / imageZoomFactor),\n                Math.round(particlesArray[i].y / imageZoomFactor)\n            );\n\n            if (pxColor.r > 250) {\n                particlesArray[i].drag(0.001);\n                particlesArray[i].color = { r: 3, g: 227, b: 252 };\n            } else {\n                particlesArray[i].color = particleColor;\n            }\n\n            particlePoint(context)(particlesArray[i]);\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","// stats.js - http://github.com/mrdoob/stats.js\n(function(f,e){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=e():\"function\"===typeof define&&define.amd?define(e):f.Stats=e()})(this,function(){var f=function(){function e(a){c.appendChild(a.dom);return a}function u(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?\"block\":\"none\";l=a}var l=0,c=document.createElement(\"div\");c.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\";c.addEventListener(\"click\",function(a){a.preventDefault();\nu(++l%c.children.length)},!1);var k=(performance||Date).now(),g=k,a=0,r=e(new f.Panel(\"FPS\",\"#0ff\",\"#002\")),h=e(new f.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var t=e(new f.Panel(\"MB\",\"#f08\",\"#201\"));u(0);return{REVISION:16,dom:c,addPanel:e,showPanel:u,begin:function(){k=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();h.update(c-k,200);if(c>g+1E3&&(r.update(1E3*a/(c-g),100),g=c,a=0,t)){var d=performance.memory;t.update(d.usedJSHeapSize/\n1048576,d.jsHeapSizeLimit/1048576)}return c},update:function(){k=this.end()},domElement:c,setMode:u}};f.Panel=function(e,f,l){var c=Infinity,k=0,g=Math.round,a=g(window.devicePixelRatio||1),r=80*a,h=48*a,t=3*a,v=2*a,d=3*a,m=15*a,n=74*a,p=30*a,q=document.createElement(\"canvas\");q.width=r;q.height=h;q.style.cssText=\"width:80px;height:48px\";var b=q.getContext(\"2d\");b.font=\"bold \"+9*a+\"px Helvetica,Arial,sans-serif\";b.textBaseline=\"top\";b.fillStyle=l;b.fillRect(0,0,r,h);b.fillStyle=f;b.fillText(e,t,v);\nb.fillRect(d,m,n,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d,m,n,p);return{dom:q,update:function(h,w){c=Math.min(c,h);k=Math.max(k,h);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,r,m);b.fillStyle=f;b.fillText(g(h)+\" \"+e+\" (\"+g(c)+\"-\"+g(k)+\")\",t,v);b.drawImage(q,d+a,m,n-a,p,d,m,n-a,p);b.fillRect(d+n-a,m,a,p);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(d+n-a,m,a,g((1-h/w)*p))}}};return f});\n","export const defaultValue = (obj, key, value) => (obj.hasOwnProperty(key) ? obj[key] : value);\n\nexport const first = (arry) => arry[0];\nexport const middle = (arry) => arry.slice(1, arry.length - 2);\nexport const last = (arry) => arry[arry.length - 1];\n\nexport const limitArrayLen = (max, arr) => {\n    const arrLength = arr.length;\n    if (arrLength > max) {\n        arr.splice(0, arrLength - max);\n    }\n    return arr;\n};\n\nexport const getArrayValuesFromStart = (arr, start, len) => {\n    const values = [];\n    let index = start;\n    for (let i = 0; i < len; i++) {\n        values.push(arr[index--]);\n        if (index < 0) index = arr.length - 1;\n    }\n    return values;\n};\n\n// Just getting an index by wrapping can be done w/ % https://benfrain.com/looping-infinitely-around-an-array-in-javascript/\nexport const getArrayValuesFromEnd = (arr, start, len) => {\n    const values = [];\n    let index = start;\n    for (let i = 0; i < len; i++) {\n        values.push(arr[index++]);\n        if (index === arr.length) index = 0;\n    }\n    return values;\n};\n\nexport const sumArray = (arry) => arry.reduce((a, b) => a + b);\nexport const averageNumArray = (arry) => arry.reduce((a, b) => a + b) / arry.length;\n\nexport const lowest = (arry) =>\n    arry.reduce((acc, v) => {\n        if (v < acc) {\n            acc = v;\n        }\n        return acc;\n    }, 0);\n\nexport const highest = (arry) =>\n    arry.reduce((acc, v) => {\n        if (v > acc) {\n            acc = v;\n        }\n        return acc;\n    }, 0);\n\nexport const getQueryVariable = (variable) => {\n    const query = window.location.search.substring(1);\n    const vars = query.split('&');\n    for (let i = 0; i < vars.length; i++) {\n        const pair = vars[i].split('=');\n        if (pair[0] === variable) {\n            return pair[1];\n        }\n    }\n    return false;\n};\n","// CanvasRecorder.js - smusamashah\n// To record canvas effitiently using MediaRecorder\n// https://webrtc.github.io/samples/src/content/capture/canvas-record/\n// Tweaks Matt Perkins, hello@mattperkins.me\n// - FPS option\n// - more Bitrates\n\n// https://stackoverflow.com/questions/65800159/how-do-you-determine-bitspersecond-for-media-recording\n// https://support.google.com/youtube/answer/1722171?hl=en#zippy=%2Cbitrate\nexport const bps = {\n    '4k': 40000000,\n    '2k': 16000000,\n    '1080p': 8000000,\n    '720p': 5000000,\n    '480p': 2500000,\n    '360p': 1000000,\n};\n\n// BITRATE = SCREEN_SIZE_VERTICAL x SCREEN_SIZE_HORIZONTAL X FPS X PIXEL_COLOR_DEPTH\n\nexport function CanvasRecorder(canvas, fps, video_bits_per_sec) {\n    this.start = startRecording;\n    this.stop = stopRecording;\n    this.save = download;\n\n    let recordedBlobs = [];\n    let supportedType = null;\n    let mediaRecorder = null;\n    const captureFPS = fps || 30;\n    const captureBPS = video_bits_per_sec || bps['1080p'];\n\n    const actualBPS = canvas.width * canvas.height * captureFPS * screen.colorDepth;\n\n    const stream = canvas.captureStream(captureFPS);\n    if (typeof stream === undefined || !stream) {\n        return;\n    }\n\n    const video = document.createElement('video');\n    video.style.display = 'none';\n\n    // console.log(`Canvas record, full ${actualBPS / 1000}kbps`);\n\n    function startRecording() {\n        const types = [\n            'video/webm',\n            'video/webm,codecs=vp9',\n            'video/vp8',\n            'video/webm;codecs=vp8',\n            'video/webm;codecs=daala',\n            'video/webm;codecs=h264',\n            'video/mpeg',\n        ];\n\n        for (const i in types) {\n            if (MediaRecorder.isTypeSupported(types[i])) {\n                supportedType = types[i];\n                break;\n            }\n        }\n        if (supportedType == null) {\n            console.log('No supported type found for MediaRecorder');\n        }\n\n        // https://w3c.github.io/mediacapture-record/MediaRecorder.html#mediarecorderoptions-section\n        const options = {\n            mimeType: supportedType,\n            videoBitsPerSecond: captureBPS,\n        };\n\n        recordedBlobs = [];\n        try {\n            mediaRecorder = new MediaRecorder(stream, options);\n        } catch (e) {\n            console.error('MediaRecorder is not supported by this browser.');\n            console.error('Exception while creating MediaRecorder:', e);\n            return;\n        }\n\n        // console.log('Created MediaRecorder', mediaRecorder, 'with options', options);\n        mediaRecorder.onstop = handleStop;\n        mediaRecorder.ondataavailable = handleDataAvailable;\n        mediaRecorder.start(100); // collect 100ms of data blobs\n        console.log(`MediaRecorder started at ${captureBPS / 1000}kbps, ${captureFPS}fps`);\n    }\n\n    function handleDataAvailable(event) {\n        if (event.data && event.data.size > 0) {\n            recordedBlobs.push(event.data);\n        }\n    }\n\n    function handleStop(event) {\n        // console.log('Recorder stopped: ', event);\n        const superBuffer = new Blob(recordedBlobs, { type: supportedType });\n        video.src = window.URL.createObjectURL(superBuffer);\n    }\n\n    function stopRecording() {\n        mediaRecorder.stop();\n        // console.log('Recorded Blobs: ', recordedBlobs);\n        video.controls = true;\n    }\n\n    function download(file_name) {\n        const name = file_name || 'recording.webm';\n        const blob = new Blob(recordedBlobs, { type: supportedType });\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = name;\n        document.body.appendChild(a);\n        a.click();\n        setTimeout(() => {\n            document.body.removeChild(a);\n            window.URL.revokeObjectURL(url);\n        }, 100);\n    }\n}\n","/*\nConvenience canvas sketch runner. Based on p5js\n\n\nconst variation = () => {\n    const config = {};\n\n    const setup = ({canvas, context}) => {\n        // create initial state\n    };\n\n    // will run every frame\n    const draw = ({canvas, context, mouse}) => {\n        // draw on every frame\n        return 1; // -1 to exit animation loop\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n\nTODO\n- [ ] merge screen shot code\n- [ ] Canvas Recorder  https://xosh.org/canvas-recorder/\n- [ ] coords of a mouse down to variation?\n- [ ] better touch input\n- [ ] svg https://github.com/canvg/canvg\n- [ ] great ideas here http://paperjs.org/features/\n*/\n\nimport Stats from 'stats.js';\nimport { isHiDPICanvas, resizeCanvas } from './canvas/canvas';\nimport { defaultValue } from './utils';\nimport { getRandomSeed } from './math/random';\nimport { roundToNearest, sin } from './math/math';\nimport { CanvasRecorder } from './canvas/CanvasRecorder';\n\nexport const orientation = {\n    portrait: 0,\n    landscape: 1,\n};\n\nexport const ratio = {\n    a4: 0.773, // 8.5x11\n    a3: 11 / 17, // 11x17\n    a3plus: 13 / 19, // 13x19\n    archd: 24 / 36, // arch d 24x36\n    golden: 0.6180339887498948482,\n    square: -1,\n    auto: 1,\n};\n\nexport const scale = {\n    standard: 1,\n    hidpi: 2,\n};\n\nexport const sketchSizeMode = {\n    js: 0,\n    css: 1,\n    sketch: 2,\n};\n\nexport const largePrint = {\n    ratio: ratio.a3plus,\n    scale: scale.hidpi,\n    multiplier: 1,\n    orientation: orientation.landscape,\n};\n\nexport const instagram = {\n    ratio: ratio.square,\n    scale: scale.standard,\n};\n\nexport const sketch = (canvasElId, smode = 0, debug) => {\n    const mouse = {\n        x: undefined,\n        y: undefined,\n        isDown: false,\n        radius: 100,\n    };\n\n    const sizeMode = smode;\n    const debugMode = debug;\n    let statsJS = null;\n    let hasStarted = false;\n    let fps = 0;\n    let drawRuns = 0;\n    let currentVariationFn;\n    let currentVariationRes;\n    let animationId;\n    let canvasRecorder;\n    let isRecording = false;\n    const pauseOnWindowBlur = true;\n    let isPaused = false;\n\n    const canvasSizeMultiple = 2;\n    const canvasSizeMultiplier = 0.9;\n    const canvas = document.getElementById(canvasElId);\n    const context = canvas.getContext('2d');\n\n    const getCanvas = (_) => canvas;\n    const getContext = (_) => context;\n    const getMouse = (_) => mouse;\n\n    const mouseDown = (evt) => {\n        mouse.isDown = true;\n    };\n\n    const mouseMove = (evt) => {\n        const mult = isHiDPICanvas() ? 2 : 1;\n        const canvasFrame = canvas.getBoundingClientRect();\n        mouse.x = (evt.x - canvasFrame.x) * mult;\n        mouse.y = (evt.y - canvasFrame.y) * mult;\n    };\n\n    const mouseUp = (evt) => {\n        mouse.isDown = false;\n    };\n\n    const mouseOut = (evt) => {\n        mouse.x = undefined;\n        mouse.y = undefined;\n        mouse.isDown = false;\n    };\n\n    const applyCanvasSize = (config, fraction) => {\n        if (sizeMode === sketchSizeMode.css) {\n            // const s = canvas.getBoundingClientRect();\n            // resizeCanvas(canvas, context, s.width, s.height, 1);\n            return;\n        }\n        if (sizeMode === sketchSizeMode.sketch) {\n            return;\n        }\n\n        const width = defaultValue(config, 'width', window.innerWidth);\n        const height = defaultValue(config, 'height', window.innerHeight);\n        let finalWidth = width;\n        let finalHeight = height;\n\n        const cfgMultiplier = defaultValue(config, 'multiplier', fraction);\n        const cfgOrientation = defaultValue(config, 'orientation', orientation.landscape);\n        const cfgRatio = defaultValue(config, 'ratio', ratio.auto);\n        const cfgScale = defaultValue(config, 'scale', scale.standard);\n\n        if (cfgRatio === ratio.auto) {\n            finalWidth = width;\n            finalHeight = height;\n        } else if (cfgRatio === ratio.square) {\n            const smallestWindowSize = Math.min(width, height) * cfgMultiplier;\n            finalWidth = smallestWindowSize;\n            finalHeight = smallestWindowSize;\n        } else if (cfgOrientation === orientation.landscape) {\n            let w = width;\n            let h = Math.round(cfgRatio * width);\n            const delta = h - height;\n            if (delta > 0) {\n                w -= delta;\n                h -= delta;\n            }\n            finalWidth = w * cfgMultiplier;\n            finalHeight = h * cfgMultiplier;\n        } else if (cfgOrientation === orientation.portrait) {\n            let w = Math.round(cfgRatio * height);\n            let h = height;\n            const delta = w - width;\n            if (delta > 0) {\n                w -= delta;\n                h -= delta;\n            }\n            finalWidth = w * cfgMultiplier;\n            finalHeight = h * cfgMultiplier;\n        }\n\n        finalWidth = roundToNearest(canvasSizeMultiple, finalWidth);\n        finalHeight = roundToNearest(canvasSizeMultiple, finalHeight);\n\n        resizeCanvas(canvas, context, finalWidth, finalHeight, cfgScale);\n\n        console.log(`Canvas size ${finalWidth} x ${finalHeight} at ${window.devicePixelRatio}dpr`);\n    };\n\n    /*\n    Passing in the sketch instance is jank. Refactor this to a class and just pass this\n     */\n    const run = (variation, sinstance) => {\n        currentVariationFn = variation;\n        currentVariationRes = currentVariationFn();\n        const sketchInstance = sinstance;\n\n        if (!statsJS && debugMode) {\n            statsJS = new Stats();\n            statsJS.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\n            document.body.appendChild(statsJS.dom);\n        }\n\n        addEvents();\n\n        drawRuns = 0;\n        let currentDrawLimit;\n        let rendering = true;\n        let targetFpsInterval = 1000 / fps;\n        let lastAnimationFrameTime;\n\n        context.clearRect(0, 0, canvas.width, canvas.height);\n\n        if (currentVariationRes.hasOwnProperty('config')) {\n            const { config } = currentVariationRes;\n            applyCanvasSize(config, canvasSizeMultiplier);\n            if (config.fps) {\n                fps = config.fps;\n                targetFpsInterval = 1000 / fps;\n            }\n            if (config.drawLimit > 0) {\n                currentDrawLimit = config.drawLimit;\n            }\n        } else {\n            // TODO check for sizeMode\n            resizeCanvas(canvas, context, window.innerWidth, window.innerHeight);\n        }\n\n        const checkDrawLimit = () => {\n            if (currentDrawLimit) {\n                return drawRuns < currentDrawLimit;\n            }\n            return true;\n        };\n\n        const startSketch = () => {\n            window.removeEventListener('load', startSketch);\n            hasStarted = true;\n\n            // default 1080p bps, 30fps\n            canvasRecorder = new CanvasRecorder(canvas);\n\n            currentVariationRes.setup({ canvas, context, sketchInstance });\n\n            const drawFrame = () => {\n                if (pauseOnWindowBlur && isPaused) {\n                    return 1;\n                }\n                drawRuns++;\n                if (statsJS) statsJS.begin();\n                const res = currentVariationRes.draw({ canvas, context, mouse });\n                if (statsJS) statsJS.end();\n                return res;\n            };\n\n            const render = () => {\n                const result = drawFrame();\n                if (result !== -1 && checkDrawLimit()) {\n                    animationId = requestAnimationFrame(render);\n                }\n            };\n\n            const renderAtFps = () => {\n                if (rendering) {\n                    animationId = window.requestAnimationFrame(renderAtFps);\n                }\n\n                const now = Date.now();\n                const elapsed = now - lastAnimationFrameTime;\n\n                if (elapsed > targetFpsInterval) {\n                    lastAnimationFrameTime = now - (elapsed % targetFpsInterval);\n                    const result = drawFrame();\n                    if (result === -1 || (currentDrawLimit && drawRuns >= currentDrawLimit)) {\n                        rendering = false;\n                    }\n                }\n            };\n\n            if (!fps) {\n                animationId = window.requestAnimationFrame(render);\n            } else {\n                lastAnimationFrameTime = Date.now();\n                animationId = window.requestAnimationFrame(renderAtFps);\n            }\n        };\n\n        if (!hasStarted) {\n            window.addEventListener('load', startSketch);\n        } else {\n            startSketch();\n        }\n    };\n\n    const stop = () => {\n        removeEvents();\n        window.cancelAnimationFrame(animationId);\n    };\n\n    const windowResize = (evt) => {\n        // clear and rerun to avoid artifacts\n        if (animationId) {\n            stop();\n            run(currentVariationFn);\n        }\n    };\n\n    const windowFocus = (evt) => {\n        if (pauseOnWindowBlur) isPaused = false;\n    };\n\n    const windowBlur = (evt) => {\n        if (pauseOnWindowBlur) isPaused = true;\n    };\n\n    const addEvents = (_) => {\n        window.addEventListener('mousedown', mouseDown);\n        window.addEventListener('touchstart', mouseDown);\n        window.addEventListener('mousemove', mouseMove);\n        window.addEventListener('touchmove', mouseMove);\n        window.addEventListener('mouseup', mouseUp);\n        window.addEventListener('touchend', mouseUp);\n        window.addEventListener('mouseout', mouseOut);\n        window.addEventListener('touchcancel', mouseOut);\n        window.addEventListener('resize', windowResize);\n        window.addEventListener('blur', windowBlur);\n        window.addEventListener('focus', windowFocus);\n    };\n\n    const removeEvents = (_) => {\n        window.removeEventListener('mousedown', mouseDown);\n        window.removeEventListener('touchstart', mouseDown);\n        window.removeEventListener('mousemove', mouseMove);\n        window.removeEventListener('touchmove', mouseMove);\n        window.removeEventListener('mouseup', mouseUp);\n        window.removeEventListener('touchend', mouseUp);\n        window.removeEventListener('mouseout', mouseOut);\n        window.removeEventListener('touchcancel', mouseOut);\n        window.removeEventListener('resize', windowResize);\n        window.removeEventListener('blur', windowBlur);\n        window.removeEventListener('focus', windowFocus);\n    };\n\n    const getVariationName = () => {\n        const seed = getRandomSeed();\n        let name = 'untitled';\n        if (\n            currentVariationRes &&\n            currentVariationRes.hasOwnProperty('config') &&\n            currentVariationRes.config.hasOwnProperty('name')\n        ) {\n            name = currentVariationRes.config.name;\n        }\n        return `sketch-${name}-${seed}`;\n    };\n\n    const saveCanvasCapture = (evt) => {\n        console.log('Saving capture', evt);\n        const imageURI = canvas.toDataURL('image/png');\n        evt.target.setAttribute('download', `${getVariationName()}.png`);\n        evt.target.href = imageURI;\n        evt.stopPropagation();\n        return false;\n    };\n\n    // https://xosh.org/canvas-recorder/\n    const saveCanvasRecording = (evt) => {\n        if (!canvasRecorder) {\n            console.error('No canvas recorder defined!');\n            return false;\n        }\n        if (isRecording) {\n            isRecording = false;\n            canvasRecorder.stop();\n            canvasRecorder.save(`${getVariationName()}.webm`);\n            console.log('Stopping recording');\n        } else {\n            isRecording = true;\n            canvasRecorder.start();\n            console.log('Starting recording');\n        }\n        evt.stopPropagation();\n        return false;\n    };\n\n    const onCanvasDragOver = (evt) => {\n        evt.preventDefault();\n    };\n\n    const onCanvasDragDrop = (imageDataHandler) => (evt) => {\n        evt.preventDefault();\n        evt.stopPropagation();\n        // console.log('drag drop', evt);\n        const dt = evt.dataTransfer;\n        const src = dt.files[0];\n        // loadImage(files[0], imageDataHandler);\n\n        //\tPrevent any non-image file type from being read.\n        if (!src.type.match(/image.*/)) {\n            console.error('The dropped file is not an image: ', src.type);\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = function (e) {\n            imageDataHandler(e.target.result);\n        };\n        reader.readAsDataURL(src);\n    };\n\n    const enableDragUpload = (imageDataHandler) => {\n        console.log('enabling drag upload!');\n        if (!canvas) {\n            console.warn('You need to init with a canvas el first!');\n            return;\n        }\n        // handling drag over is required to prevent browser from displaying dropped image\n        canvas.addEventListener('dragover', onCanvasDragOver, true);\n        canvas.addEventListener('drop', onCanvasDragDrop(imageDataHandler), true);\n    };\n\n    const disableDragUpload = (_) => {\n        canvas.removeEventListener('dragover', onCanvasDragOver);\n        canvas.removeEventListener('drop', onCanvasDragDrop(imageDataHandler));\n    };\n\n    return {\n        variationName: getVariationName,\n        canvas: getCanvas,\n        context: getContext,\n        mouse: getMouse,\n        run,\n        stop,\n        saveCanvasCapture,\n        saveCanvasRecording,\n        enableDragUpload,\n        disableDragUpload,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { randomWholeBetween, oneOf } from '../math/random';\nimport { sumArray } from '../utils';\nimport { percentage } from '../math/math';\n\nexport const lowestYPA = (arry) =>\n    arry.reduce((acc, p) => {\n        if (p[1] < acc) {\n            acc = p[1];\n        }\n        return acc;\n    }, 0);\n\nexport const highestYPA = (arry) =>\n    arry.reduce((acc, p) => {\n        if (p[1] > acc) {\n            acc = p[1];\n        }\n        return acc;\n    }, 0);\n\nexport const ribbonSegment = (context) => (sideA, sideB, sourceColor, stroke = false, thickness = 1) => {\n    const segStartX = sideA[0][0];\n    const segStartY = sideA[0][1];\n    const segEndX = sideB[0][0] + thickness;\n    const segEndY = sideB[0][1] + thickness;\n\n    const color = sourceColor.clone();\n\n    const gradient = context.createLinearGradient(0, lowestYPA(sideA), 0, highestYPA(sideB) + thickness);\n    // const gradient = context.createLinearGradient(0, segStartY - thickness, 0, segEndY + thickness);\n    // gradient.addColorStop(0, color.toRgbString());\n    gradient.addColorStop(0.5, color.toRgbString());\n    gradient.addColorStop(1, color.clone().darken(5).saturate(10).toRgbString());\n\n    context.beginPath();\n    context.moveTo(segStartX, segStartY);\n\n    sideA.forEach((point) => {\n        context.lineTo(point[0], point[1]);\n    });\n\n    sideB.forEach((point) => {\n        context.lineTo(point[0], point[1] + thickness);\n    });\n\n    context.lineTo(segStartX, segStartY);\n\n    if (stroke) {\n        // context.strokeStyle = color.darken(70).toRgbString();\n        // context.lineWidth = 1;\n        context.stroke();\n    }\n\n    context.fillStyle = gradient;\n    context.fill();\n    context.closePath();\n};\n\n/*\nsideA and B are an array of points [[x,y], [x,y], ...] that are roughly parallel to each other\nsegments is a value between 1 and n determining how to break up the ribbon\n */\n\nexport const ribbonSegmented = (context) => (\n    sideA,\n    sideB,\n    color,\n    { segments, gap, colors },\n    stroke = false,\n    thickness = 0\n) => {\n    if (segments === 1) {\n        ribbonSegment(context)(sideA, sideB.reverse(), color, stroke, thickness);\n        return;\n    }\n\n    // calculate segment sizes based on random percentages of the line length\n    const segmentGap = gap || 0;\n    const minSegPct = 5;\n    const minSegLength = segmentGap + minSegPct;\n    const segmentLengths = [];\n    let lenPctLeft = 100 - minSegLength;\n    for (let k = 0; k < segments - 1; k++) {\n        if (lenPctLeft > minSegPct) {\n            const pct = randomWholeBetween(minSegLength, lenPctLeft / 2);\n            segmentLengths.push(percentage(sideA.length, pct));\n            lenPctLeft -= pct;\n        }\n    }\n    // add whatever is left to the end\n    segmentLengths.push(sideA.length - sumArray(segmentLengths));\n\n    // break up the sides in to points based on segment lengths\n    let pos = 0;\n    for (let i = 0; i < segmentLengths.length; i++) {\n        let end = pos + segmentLengths[i];\n        if (i < segmentLengths.length - 1) {\n            end -= segmentGap;\n        }\n\n        // TODO color is a random pick from segment colors\n\n        let rcolor = color;\n        if (colors) {\n            rcolor = tinycolor(oneOf(colors));\n        }\n\n        ribbonSegment(context)(sideA.slice(pos, end), sideB.slice(pos, end).reverse(), rcolor, stroke, thickness);\n        pos += segmentLengths[i];\n    }\n};\n","import { TAU } from './math';\nimport { create2dNoise, create3dNoise, randomNumberBetween } from './random';\n\nexport const simplexNoise2d = (x, y, f = 0.0005) => create2dNoise(x, y, 1, f) * TAU;\nexport const simplexNoise3d = (x, y, t, f = 0.002) => create3dNoise(x, y, t, 1, f) * TAU;\nexport const diagLines = (x, y) => (x + y) * 0.01 * TAU;\n// From https://medium.com/@bit101/flow-fields-part-i-3ebebc688fd8\nexport const sinField = (x, y) => (Math.sin(x * 0.01) + Math.sin(y * 0.01)) * TAU;\n\nconst attractorScale = 0.01;\nconst attractorVarA = randomNumberBetween(-2, 2);\nconst attractorVarB = randomNumberBetween(-2, 2);\nconst attractorVarC = randomNumberBetween(-2, 2);\nconst attractorVarD = randomNumberBetween(-2, 2);\n\n// http://paulbourke.net/fractals/clifford/\nexport const cliffordAttractor = (width, height, x, y, scale) => {\n    scale = scale || attractorScale;\n    x = (x - width / 2) * scale;\n    y = (y - height / 2) * scale;\n    const x1 = Math.sin(attractorVarA * y) + attractorVarC * Math.cos(attractorVarA * x);\n    const y1 = Math.sin(attractorVarB * x) + attractorVarD * Math.cos(attractorVarB * y);\n    return Math.atan2(y1 - y, x1 - x);\n};\n\n// http://paulbourke.net/fractals/peterdejong/\nexport const jongAttractor = (width, height, x, y, scale) => {\n    scale = scale || attractorScale;\n    x = (x - width / 2) * scale;\n    y = (y - height / 2) * scale;\n    const x1 = Math.sin(attractorVarA * y) - Math.cos(attractorVarB * x);\n    const y1 = Math.sin(attractorVarC * x) - Math.cos(attractorVarD * y);\n    return Math.atan2(y1 - y, x1 - x);\n};\n\nconst simplex2d = (x, y) => simplexNoise2d(x, y, 0.002);\nconst simplex3d = (x, y) => simplexNoise3d(x, y, time, 0.0005);\nconst clifford = (x, y, scale) => cliffordAttractor(canvas.width, canvas.height, x, y, scale);\nconst jong = (x, y, scale) => jongAttractor(canvas.width, canvas.height, x, y, scale);\n\n// testing different attractor functions\nexport const fieldFlowAtPoint = (x, y) => {\n    const simplex = simplexNoise2d(x, y, 0.01);\n    const theta = simplex;\n    // const r1 = (Math.sin(1.2 * x) + 0.2 * Math.atan(2 * y)) * 8 * Math.PI;\n    // const r2 = (Math.pow(x, 2) + 0.8 * Math.pow(y, 1 / 2)) * 8 * Math.PI * 4;\n    // const theta = ((r1 + r2 + simplex) / 3) * 0.001;\n    // const theta = ((Math.cos(x) + x + Math.sin(y)) * 24) % (Math.PI / 2); // wander dl like like\n    // const theta = Math.atan2(y, x); // cones out from top left\n    // const theta = x + y + Math.cos(x * attractorScale) * Math.sin(x * attractorScale); // bl to tr diag and cross perp lines\n    // const theta = Math.cos(x * attractorScale) * Math.sin(x * attractorScale); // vertical lines\n    // const theta = Math.cos(x) * Math.sin(x) * attractorScale; // horizontal lines\n    // const theta = x * Math.sin(y) * attractorScale; // scribble\n    // const theta = Math.sin(x * attractorScale) + Math.sin(y * attractorScale); // diamonds\n    return theta * TAU;\n};\n","module.exports = JSON.parse(\"[[\\\"#69d2e7\\\",\\\"#a7dbd8\\\",\\\"#e0e4cc\\\",\\\"#f38630\\\",\\\"#fa6900\\\"],[\\\"#fe4365\\\",\\\"#fc9d9a\\\",\\\"#f9cdad\\\",\\\"#c8c8a9\\\",\\\"#83af9b\\\"],[\\\"#ecd078\\\",\\\"#d95b43\\\",\\\"#c02942\\\",\\\"#542437\\\",\\\"#53777a\\\"],[\\\"#556270\\\",\\\"#4ecdc4\\\",\\\"#c7f464\\\",\\\"#ff6b6b\\\",\\\"#c44d58\\\"],[\\\"#774f38\\\",\\\"#e08e79\\\",\\\"#f1d4af\\\",\\\"#ece5ce\\\",\\\"#c5e0dc\\\"],[\\\"#e8ddcb\\\",\\\"#cdb380\\\",\\\"#036564\\\",\\\"#033649\\\",\\\"#031634\\\"],[\\\"#490a3d\\\",\\\"#bd1550\\\",\\\"#e97f02\\\",\\\"#f8ca00\\\",\\\"#8a9b0f\\\"],[\\\"#594f4f\\\",\\\"#547980\\\",\\\"#45ada8\\\",\\\"#9de0ad\\\",\\\"#e5fcc2\\\"],[\\\"#00a0b0\\\",\\\"#6a4a3c\\\",\\\"#cc333f\\\",\\\"#eb6841\\\",\\\"#edc951\\\"],[\\\"#e94e77\\\",\\\"#d68189\\\",\\\"#c6a49a\\\",\\\"#c6e5d9\\\",\\\"#f4ead5\\\"],[\\\"#3fb8af\\\",\\\"#7fc7af\\\",\\\"#dad8a7\\\",\\\"#ff9e9d\\\",\\\"#ff3d7f\\\"],[\\\"#d9ceb2\\\",\\\"#948c75\\\",\\\"#d5ded9\\\",\\\"#7a6a53\\\",\\\"#99b2b7\\\"],[\\\"#ffffff\\\",\\\"#cbe86b\\\",\\\"#f2e9e1\\\",\\\"#1c140d\\\",\\\"#cbe86b\\\"],[\\\"#efffcd\\\",\\\"#dce9be\\\",\\\"#555152\\\",\\\"#2e2633\\\",\\\"#99173c\\\"],[\\\"#343838\\\",\\\"#005f6b\\\",\\\"#008c9e\\\",\\\"#00b4cc\\\",\\\"#00dffc\\\"],[\\\"#413e4a\\\",\\\"#73626e\\\",\\\"#b38184\\\",\\\"#f0b49e\\\",\\\"#f7e4be\\\"],[\\\"#ff4e50\\\",\\\"#fc913a\\\",\\\"#f9d423\\\",\\\"#ede574\\\",\\\"#e1f5c4\\\"],[\\\"#99b898\\\",\\\"#fecea8\\\",\\\"#ff847c\\\",\\\"#e84a5f\\\",\\\"#2a363b\\\"],[\\\"#655643\\\",\\\"#80bca3\\\",\\\"#f6f7bd\\\",\\\"#e6ac27\\\",\\\"#bf4d28\\\"],[\\\"#00a8c6\\\",\\\"#40c0cb\\\",\\\"#f9f2e7\\\",\\\"#aee239\\\",\\\"#8fbe00\\\"],[\\\"#351330\\\",\\\"#424254\\\",\\\"#64908a\\\",\\\"#e8caa4\\\",\\\"#cc2a41\\\"],[\\\"#554236\\\",\\\"#f77825\\\",\\\"#d3ce3d\\\",\\\"#f1efa5\\\",\\\"#60b99a\\\"],[\\\"#5d4157\\\",\\\"#838689\\\",\\\"#a8caba\\\",\\\"#cad7b2\\\",\\\"#ebe3aa\\\"],[\\\"#8c2318\\\",\\\"#5e8c6a\\\",\\\"#88a65e\\\",\\\"#bfb35a\\\",\\\"#f2c45a\\\"],[\\\"#fad089\\\",\\\"#ff9c5b\\\",\\\"#f5634a\\\",\\\"#ed303c\\\",\\\"#3b8183\\\"],[\\\"#ff4242\\\",\\\"#f4fad2\\\",\\\"#d4ee5e\\\",\\\"#e1edb9\\\",\\\"#f0f2eb\\\"],[\\\"#f8b195\\\",\\\"#f67280\\\",\\\"#c06c84\\\",\\\"#6c5b7b\\\",\\\"#355c7d\\\"],[\\\"#d1e751\\\",\\\"#ffffff\\\",\\\"#000000\\\",\\\"#4dbce9\\\",\\\"#26ade4\\\"],[\\\"#1b676b\\\",\\\"#519548\\\",\\\"#88c425\\\",\\\"#bef202\\\",\\\"#eafde6\\\"],[\\\"#5e412f\\\",\\\"#fcebb6\\\",\\\"#78c0a8\\\",\\\"#f07818\\\",\\\"#f0a830\\\"],[\\\"#bcbdac\\\",\\\"#cfbe27\\\",\\\"#f27435\\\",\\\"#f02475\\\",\\\"#3b2d38\\\"],[\\\"#452632\\\",\\\"#91204d\\\",\\\"#e4844a\\\",\\\"#e8bf56\\\",\\\"#e2f7ce\\\"],[\\\"#eee6ab\\\",\\\"#c5bc8e\\\",\\\"#696758\\\",\\\"#45484b\\\",\\\"#36393b\\\"],[\\\"#f0d8a8\\\",\\\"#3d1c00\\\",\\\"#86b8b1\\\",\\\"#f2d694\\\",\\\"#fa2a00\\\"],[\\\"#2a044a\\\",\\\"#0b2e59\\\",\\\"#0d6759\\\",\\\"#7ab317\\\",\\\"#a0c55f\\\"],[\\\"#f04155\\\",\\\"#ff823a\\\",\\\"#f2f26f\\\",\\\"#fff7bd\\\",\\\"#95cfb7\\\"],[\\\"#b9d7d9\\\",\\\"#668284\\\",\\\"#2a2829\\\",\\\"#493736\\\",\\\"#7b3b3b\\\"],[\\\"#bbbb88\\\",\\\"#ccc68d\\\",\\\"#eedd99\\\",\\\"#eec290\\\",\\\"#eeaa88\\\"],[\\\"#b3cc57\\\",\\\"#ecf081\\\",\\\"#ffbe40\\\",\\\"#ef746f\\\",\\\"#ab3e5b\\\"],[\\\"#a3a948\\\",\\\"#edb92e\\\",\\\"#f85931\\\",\\\"#ce1836\\\",\\\"#009989\\\"],[\\\"#300030\\\",\\\"#480048\\\",\\\"#601848\\\",\\\"#c04848\\\",\\\"#f07241\\\"],[\\\"#67917a\\\",\\\"#170409\\\",\\\"#b8af03\\\",\\\"#ccbf82\\\",\\\"#e33258\\\"],[\\\"#aab3ab\\\",\\\"#c4cbb7\\\",\\\"#ebefc9\\\",\\\"#eee0b7\\\",\\\"#e8caaf\\\"],[\\\"#e8d5b7\\\",\\\"#0e2430\\\",\\\"#fc3a51\\\",\\\"#f5b349\\\",\\\"#e8d5b9\\\"],[\\\"#ab526b\\\",\\\"#bca297\\\",\\\"#c5ceae\\\",\\\"#f0e2a4\\\",\\\"#f4ebc3\\\"],[\\\"#607848\\\",\\\"#789048\\\",\\\"#c0d860\\\",\\\"#f0f0d8\\\",\\\"#604848\\\"],[\\\"#b6d8c0\\\",\\\"#c8d9bf\\\",\\\"#dadabd\\\",\\\"#ecdbbc\\\",\\\"#fedcba\\\"],[\\\"#a8e6ce\\\",\\\"#dcedc2\\\",\\\"#ffd3b5\\\",\\\"#ffaaa6\\\",\\\"#ff8c94\\\"],[\\\"#3e4147\\\",\\\"#fffedf\\\",\\\"#dfba69\\\",\\\"#5a2e2e\\\",\\\"#2a2c31\\\"],[\\\"#fc354c\\\",\\\"#29221f\\\",\\\"#13747d\\\",\\\"#0abfbc\\\",\\\"#fcf7c5\\\"],[\\\"#cc0c39\\\",\\\"#e6781e\\\",\\\"#c8cf02\\\",\\\"#f8fcc1\\\",\\\"#1693a7\\\"],[\\\"#1c2130\\\",\\\"#028f76\\\",\\\"#b3e099\\\",\\\"#ffeaad\\\",\\\"#d14334\\\"],[\\\"#a7c5bd\\\",\\\"#e5ddcb\\\",\\\"#eb7b59\\\",\\\"#cf4647\\\",\\\"#524656\\\"],[\\\"#dad6ca\\\",\\\"#1bb0ce\\\",\\\"#4f8699\\\",\\\"#6a5e72\\\",\\\"#563444\\\"],[\\\"#5c323e\\\",\\\"#a82743\\\",\\\"#e15e32\\\",\\\"#c0d23e\\\",\\\"#e5f04c\\\"],[\\\"#edebe6\\\",\\\"#d6e1c7\\\",\\\"#94c7b6\\\",\\\"#403b33\\\",\\\"#d3643b\\\"],[\\\"#fdf1cc\\\",\\\"#c6d6b8\\\",\\\"#987f69\\\",\\\"#e3ad40\\\",\\\"#fcd036\\\"],[\\\"#230f2b\\\",\\\"#f21d41\\\",\\\"#ebebbc\\\",\\\"#bce3c5\\\",\\\"#82b3ae\\\"],[\\\"#b9d3b0\\\",\\\"#81bda4\\\",\\\"#b28774\\\",\\\"#f88f79\\\",\\\"#f6aa93\\\"],[\\\"#3a111c\\\",\\\"#574951\\\",\\\"#83988e\\\",\\\"#bcdea5\\\",\\\"#e6f9bc\\\"],[\\\"#5e3929\\\",\\\"#cd8c52\\\",\\\"#b7d1a3\\\",\\\"#dee8be\\\",\\\"#fcf7d3\\\"],[\\\"#1c0113\\\",\\\"#6b0103\\\",\\\"#a30006\\\",\\\"#c21a01\\\",\\\"#f03c02\\\"],[\\\"#000000\\\",\\\"#9f111b\\\",\\\"#b11623\\\",\\\"#292c37\\\",\\\"#cccccc\\\"],[\\\"#382f32\\\",\\\"#ffeaf2\\\",\\\"#fcd9e5\\\",\\\"#fbc5d8\\\",\\\"#f1396d\\\"],[\\\"#e3dfba\\\",\\\"#c8d6bf\\\",\\\"#93ccc6\\\",\\\"#6cbdb5\\\",\\\"#1a1f1e\\\"],[\\\"#f6f6f6\\\",\\\"#e8e8e8\\\",\\\"#333333\\\",\\\"#990100\\\",\\\"#b90504\\\"],[\\\"#1b325f\\\",\\\"#9cc4e4\\\",\\\"#e9f2f9\\\",\\\"#3a89c9\\\",\\\"#f26c4f\\\"],[\\\"#a1dbb2\\\",\\\"#fee5ad\\\",\\\"#faca66\\\",\\\"#f7a541\\\",\\\"#f45d4c\\\"],[\\\"#c1b398\\\",\\\"#605951\\\",\\\"#fbeec2\\\",\\\"#61a6ab\\\",\\\"#accec0\\\"],[\\\"#5e9fa3\\\",\\\"#dcd1b4\\\",\\\"#fab87f\\\",\\\"#f87e7b\\\",\\\"#b05574\\\"],[\\\"#951f2b\\\",\\\"#f5f4d7\\\",\\\"#e0dfb1\\\",\\\"#a5a36c\\\",\\\"#535233\\\"],[\\\"#8dccad\\\",\\\"#988864\\\",\\\"#fea6a2\\\",\\\"#f9d6ac\\\",\\\"#ffe9af\\\"],[\\\"#2d2d29\\\",\\\"#215a6d\\\",\\\"#3ca2a2\\\",\\\"#92c7a3\\\",\\\"#dfece6\\\"],[\\\"#413d3d\\\",\\\"#040004\\\",\\\"#c8ff00\\\",\\\"#fa023c\\\",\\\"#4b000f\\\"],[\\\"#eff3cd\\\",\\\"#b2d5ba\\\",\\\"#61ada0\\\",\\\"#248f8d\\\",\\\"#605063\\\"],[\\\"#ffefd3\\\",\\\"#fffee4\\\",\\\"#d0ecea\\\",\\\"#9fd6d2\\\",\\\"#8b7a5e\\\"],[\\\"#cfffdd\\\",\\\"#b4dec1\\\",\\\"#5c5863\\\",\\\"#a85163\\\",\\\"#ff1f4c\\\"],[\\\"#9dc9ac\\\",\\\"#fffec7\\\",\\\"#f56218\\\",\\\"#ff9d2e\\\",\\\"#919167\\\"],[\\\"#4e395d\\\",\\\"#827085\\\",\\\"#8ebe94\\\",\\\"#ccfc8e\\\",\\\"#dc5b3e\\\"],[\\\"#a8a7a7\\\",\\\"#cc527a\\\",\\\"#e8175d\\\",\\\"#474747\\\",\\\"#363636\\\"],[\\\"#f8edd1\\\",\\\"#d88a8a\\\",\\\"#474843\\\",\\\"#9d9d93\\\",\\\"#c5cfc6\\\"],[\\\"#046d8b\\\",\\\"#309292\\\",\\\"#2fb8ac\\\",\\\"#93a42a\\\",\\\"#ecbe13\\\"],[\\\"#f38a8a\\\",\\\"#55443d\\\",\\\"#a0cab5\\\",\\\"#cde9ca\\\",\\\"#f1edd0\\\"],[\\\"#a70267\\\",\\\"#f10c49\\\",\\\"#fb6b41\\\",\\\"#f6d86b\\\",\\\"#339194\\\"],[\\\"#ff003c\\\",\\\"#ff8a00\\\",\\\"#fabe28\\\",\\\"#88c100\\\",\\\"#00c176\\\"],[\\\"#ffedbf\\\",\\\"#f7803c\\\",\\\"#f54828\\\",\\\"#2e0d23\\\",\\\"#f8e4c1\\\"],[\\\"#4e4d4a\\\",\\\"#353432\\\",\\\"#94ba65\\\",\\\"#2790b0\\\",\\\"#2b4e72\\\"],[\\\"#0ca5b0\\\",\\\"#4e3f30\\\",\\\"#fefeeb\\\",\\\"#f8f4e4\\\",\\\"#a5b3aa\\\"],[\\\"#4d3b3b\\\",\\\"#de6262\\\",\\\"#ffb88c\\\",\\\"#ffd0b3\\\",\\\"#f5e0d3\\\"],[\\\"#fffbb7\\\",\\\"#a6f6af\\\",\\\"#66b6ab\\\",\\\"#5b7c8d\\\",\\\"#4f2958\\\"],[\\\"#edf6ee\\\",\\\"#d1c089\\\",\\\"#b3204d\\\",\\\"#412e28\\\",\\\"#151101\\\"],[\\\"#9d7e79\\\",\\\"#ccac95\\\",\\\"#9a947c\\\",\\\"#748b83\\\",\\\"#5b756c\\\"],[\\\"#fcfef5\\\",\\\"#e9ffe1\\\",\\\"#cdcfb7\\\",\\\"#d6e6c3\\\",\\\"#fafbe3\\\"],[\\\"#9cddc8\\\",\\\"#bfd8ad\\\",\\\"#ddd9ab\\\",\\\"#f7af63\\\",\\\"#633d2e\\\"],[\\\"#30261c\\\",\\\"#403831\\\",\\\"#36544f\\\",\\\"#1f5f61\\\",\\\"#0b8185\\\"],[\\\"#aaff00\\\",\\\"#ffaa00\\\",\\\"#ff00aa\\\",\\\"#aa00ff\\\",\\\"#00aaff\\\"],[\\\"#d1313d\\\",\\\"#e5625c\\\",\\\"#f9bf76\\\",\\\"#8eb2c5\\\",\\\"#615375\\\"],[\\\"#ffe181\\\",\\\"#eee9e5\\\",\\\"#fad3b2\\\",\\\"#ffba7f\\\",\\\"#ff9c97\\\"],[\\\"#73c8a9\\\",\\\"#dee1b6\\\",\\\"#e1b866\\\",\\\"#bd5532\\\",\\\"#373b44\\\"],[\\\"#805841\\\",\\\"#dcf7f3\\\",\\\"#fffcdd\\\",\\\"#ffd8d8\\\",\\\"#f5a2a2\\\"]]\");","import tinycolor from 'tinycolor2';\nimport * as nicepalettes from 'nice-color-palettes';\nimport { mapRange } from '../math/math';\nimport { oneOf, randomNormalNumberBetween, randomWholeBetween } from '../math/random';\n\nexport const arrayToTinyColor = (arry) => arry.map((c) => tinycolor(c));\n\n/*\nTODO - fn for this from grid-dither-image\nconst grey = image.averageGreyFromCell(p[0], p[1], grid.columnWidth, grid.rowHeight);\nconst amount = mapRange(0, 255, 1, 10, 255 - grey);\n */\n\n// hslFromRange(50, 90,270, v);\nexport const hslFromRange = (y1, x2, y2, v) => {\n    const h = mapRange(0, y1, x2, y2, v);\n    const s = 100;\n    const l = 50;\n    return tinycolor(`hsl(${h},${s}%,${l}%)`);\n};\n\nexport const brightest = (arry) => {\n    const colors = arrayToTinyColor(arry);\n    return colors.reduce((acc, c) => {\n        if (c.getBrightness() > acc.getBrightness()) {\n            acc = c;\n        }\n        return acc;\n    }, colors[0]);\n};\n\nexport const darkest = (arry) => {\n    const colors = arrayToTinyColor(arry);\n    return colors.reduce((acc, c) => {\n        if (c.getBrightness() < acc.getBrightness()) {\n            acc = c;\n        }\n        return acc;\n    }, colors[0]);\n};\n\nexport const bicPenBlue = tinycolor('hsl(250,79,29)').clone();\nexport const paperWhite = tinycolor('hsl(53,3,100)').clone();\n\n// hsl(46, 45%, 85%)\nexport const warmWhite = tinycolor('hsl(42, 14%, 86%)').clone();\nexport const warmPink = tinycolor('hsl(29, 42%, 86%)').clone();\n\nexport const coolGreyDark = tinycolor('#1f2933').clone();\n// hsl(43, 57%, 11%)\nexport const warmGreyDark = tinycolor('#27241d').clone();\n\nexport const palettes = {\n    greyWarm: [\n        '#faf97f',\n        '#e8e6e1',\n        '#d3cec4',\n        '#b8b2a7',\n        '#a39e93',\n        '#857f72',\n        '#625d52',\n        '#504a40',\n        '#423d33',\n        '#27241d',\n    ],\n    greyCool: [\n        '#f5f7fa',\n        '#e4e7eb',\n        '#cbd2d9',\n        '#9aa5b1',\n        '#7b8794',\n        '#616e7c',\n        '#52606d',\n        '#3e4c59',\n        '#323f4b',\n        '#1f2933',\n    ],\n    pop: ['#ed3441', '#ffd630', '#329fe3', '#154296', '#303030'],\n    '60s_psyc': ['#ffeb00', '#fc0019', '#01ff4f', '#ff01d7', '#5600cc', '#00edf5'],\n    '70s': ['#73BFA3', '#F2DBAE', '#F29829', '#D9631E', '#593C2C'],\n    '80s_pastells': ['#FF3F3F', '#FF48C4', '#F3EA5F', '#C04DF9', '#2BD1FC', '#38CEF6'],\n    '80s_pop': ['#FF82E2', '#70BAFF', '#FED715', '#0037B3', '#FE0879'],\n    '90s': ['#42C8B0', '#4575F3', '#6933B0', '#D36F88', '#FC8D45'],\n    retro_sunset: ['#FFD319', '#FF2975', '#F222FF', '#8C1EFF', '#FF901F'],\n    vapor_wave: ['#F6A3EF', '#50D8EC', '#DD6DFB', '#EECD69', '#6FEAE6'],\n    // https://www.colourlovers.com/palette/694737/Thought_Provoking\n    thought_provoking: [\n        'hsl(46, 75%, 70%)',\n        'hsl(10, 66%, 56%)',\n        'hsl(350, 65%, 46%)',\n        'hsl(336, 40%, 24%)',\n        'hsl(185, 19%, 40%)',\n    ],\n};\n\nexport const nicePalette = (_) => nicepalettes[randomWholeBetween(0, 99)];\nexport const palette = (_) => palettes[oneOf(Object.keys(palettes))];\n\nexport const get2Tone = (l = 10, d = 25) => {\n    const pal = nicePalette();\n    const light = brightest(pal).clone().lighten(l);\n    const dark = darkest(pal).clone().darken(d);\n    const text = light.clone().darken(15).desaturate(20);\n    return { palette, light, dark, text };\n};\n\n// Original implementation idea from Sebastian @void43544164\n// https://twitter.com/void43544164/status/1408133809384591366\n// Returns Tinycolors https://github.com/bgrins/TinyColor\nexport class Palette {\n    constructor(colorsArray) {\n        this.colors = arrayToTinyColor(colorsArray || nicePalette());\n    }\n\n    get brightest() {\n        return brightest(this.colors);\n    }\n\n    get darkest() {\n        return darkest(this.colors);\n    }\n\n    get length() {\n        return this.colors.length;\n    }\n\n    // TODO weighted random\n\n    oneOf() {\n        return oneOf(this.colors);\n    }\n\n    getAtIndex(index) {\n        const n = Math.abs(Math.round(index)) % this.colors.length;\n        return this.colors[n].clone();\n    }\n\n    get(index, variance = 0, alpha = 1) {\n        const c = this.getAtIndex(index);\n        if (variance > 0) {\n            c.spin(randomNormalNumberBetween(variance * -1, variance));\n        }\n        // TODO if a > 255 => a/255 ?\n        if (alpha < 1) {\n            c.setAlpha(alpha);\n        }\n        return c;\n    }\n}\n","import tinycolor from 'tinycolor2';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, orientation, scale } from '../rndrgen/Sketch';\nimport { mapRange} from '../rndrgen/math/math';\nimport { randomNumberBetween } from '../rndrgen/math/random';\nimport { ribbonSegmented ribbonSegment } from '../rndrgen/canvas/ribbon';\nimport { splatter } from '../scratch/shapes';\nimport { cliffordAttractor, simplexNoise2d, simplexNoise3d } from '../rndrgen/math/attractors';\nimport {nicePalette} from \"../rndrgen/color/palettes\";\n\n/*\nOriginal inspiration\nChurn by Kenny Vaden\nhttps://www.reddit.com/r/generative/comments/lq8r11/churn_r_code/\n */\n\nconst drawDots = (context, path, yorigin, sourceColor, scale, stroke = false) => {\n    let color = sourceColor.clone();\n\n    path.forEach((point) => {\n        const rnd = randomNumberBetween(0, yorigin);\n        if (rnd < 2) {\n            let radius = randomNumberBetween(1, 2 * scale);\n            let quantity = 3;\n            if (rnd < 0.005) {\n                radius = randomNumberBetween(25 * scale, 50 * scale);\n                quantity = 1;\n                color = color.clone().darken(10);\n            } else {\n                color = color.clone().lighten(5).saturate(10);\n            }\n            // x, y, color, size, amount = 3, range = 20\n            splatter(context)(point[0], point[1], color.toRgbString(), radius, quantity, 35 * scale);\n        }\n    });\n\n    if (stroke) {\n        // context.strokeStyle = color.darken(70).toRgbString();\n        // context.lineWidth = 1;\n        // context.stroke();\n    }\n};\n\nexport const waves01b = () => {\n    const config = {\n        name: 'waves01b',\n        orientation: orientation.landscape,\n        // ratio: ratio.a3,\n        ratio: ratio.square,\n        // scale: scale.hidpi,\n        scale: scale.standard,\n    };\n\n    let canvasWidth;\n    let canvasHeight;\n    let canvasMiddle;\n    const renderScale = config.scale; // 1 or 2\n\n    const colorBackground = 'hsl(46, 75%, 70%)';\n    const colorTop = 'hsl(185, 100%, 18%)'; // 'hsl(350, 65%, 46%)';\n    const colorBottom = 'hsl(182, 100%, 29%)'; // 'hsl(185, 19%, 40%)';\n\n    const waveYValues = [];\n    let numWaveXPoints;\n    const waveDensity = renderScale;\n    let numWaveRows;\n\n    const startX = 0;\n    let maxX;\n    let startY = 0;\n    let maxY;\n    let time = 0;\n\n    const createNoiseValues = (idx, distance, frequency, amplitude) => {\n        const points = [];\n        for (let i = 0; i < numWaveXPoints; i++) {\n            const n = simplexNoise3d(i, distance, idx, frequency) * amplitude;\n            // const n = simplexNoise3d(i, idx, time, frequency) * amplitude;\n            // const n = simplexNoise2d(i, idx * 2, frequency) * amplitude;\n            points.push(n);\n        }\n\n        return points;\n    };\n\n    const createRow = (idx) => {\n        time += 1;\n        const mid = numWaveRows / 2;\n        const distFromCenter = Math.abs(mid - idx);\n        const frequency =\n            mapRange(0, mid, 1.25, 0.5, distFromCenter + randomNumberBetween(-5, 5)) *\n            (randomNumberBetween(9, 12) * 0.001);\n        const amplitude = mapRange(0, mid, 10, 20, distFromCenter * randomNumberBetween(0, 2));\n\n        return {\n            top: createNoiseValues(idx, distFromCenter, frequency, amplitude),\n            bottom: createNoiseValues(idx, distFromCenter, frequency, amplitude),\n        };\n    };\n\n    const setup = ({ canvas, context }) => {\n        canvasWidth = canvas.width;\n        canvasHeight = canvas.height;\n        maxX = canvas.width;\n        numWaveXPoints = canvas.width / 5;\n        canvasMiddle = canvas.height / 2;\n        numWaveRows = canvasHeight / waveDensity;\n        const yBufferSpace = canvasHeight / 7;\n        startY = yBufferSpace;\n        maxY = canvasHeight - yBufferSpace * 1.25;\n\n        for (let i = 0; i < numWaveRows; i++) {\n            waveYValues.push(createRow(i + 1));\n        }\n\n        background(canvas, context)(tinycolor(colorBackground).lighten(20));\n    };\n\n    const draw = ({ canvas, context }) => {\n        let currentY = startY;\n        const incrementX = Math.ceil((maxX - startX) / numWaveXPoints) + 1;\n        const incrementY = (maxY - startY) / numWaveRows;\n\n        const canvasFocal = (canvasHeight / 3) * 2;\n        const focalRange = canvasFocal * 0.75;\n\n        const maxWaveHeight = 40 * renderScale;\n        const minWaveHeight = 3;\n\n        const palette = nicePalette();\n\n        for (let i = 0; i < waveYValues.length; i++) {\n            const color = tinycolor\n                .mix(colorTop, colorBottom, mapRange(startY, maxY, 0, 100, currentY))\n                .brighten(15)\n                .spin(randomNumberBetween(-10, 10));\n\n            const distFromMiddle = Math.abs(canvasFocal - currentY);\n            color.spin(mapRange(0, focalRange, 20, -20, distFromMiddle));\n            color.brighten(mapRange(0, focalRange, 50, 0, distFromMiddle + randomNumberBetween(0, 100)));\n            color.darken(mapRange(0, canvasFocal, 0, 15, distFromMiddle + randomNumberBetween(0, 50)));\n            // color.saturate(mapRange(0, focalRange, 10, 0, distFromMiddle + randomNumberBetween(0, 100)));\n\n            const waveheight = mapRange(startY, maxY, maxWaveHeight, minWaveHeight, currentY);\n\n            const waveTop = [];\n            const waveBottom = [];\n            let currentX = 0;\n            for (let j = 0; j < numWaveXPoints; j++) {\n                waveTop.push([currentX, currentY + waveYValues[i].top[j]]);\n                waveBottom.push([currentX, currentY + waveYValues[i].bottom[j] + waveheight]);\n                currentX += incrementX;\n            }\n\n            context.strokeStyle = color.clone().darken(60).toRgbString();\n            context.lineWidth = renderScale;\n\n            ribbonSegment(context)(waveTop, waveBottom.reverse(), color, true, 0);\n            drawDots(context, waveTop, currentY, color, renderScale, false);\n            // ribbonSegmented(context)(waveTop, waveBottom, color, { segments: 15, gap: 0, colors: palette });\n\n\n            currentY += incrementY;\n        }\n\n        return -1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { circleX, circleY, mapRange, pointOnCircle, TAU } from '../rndrgen/math/math';\nimport { circleFilled, line, pixel } from '../rndrgen/canvas/primatives';\nimport { randomNumberBetween, randomWholeBetween } from '../rndrgen/math/random';\n\n/*\nctx.lineWidth = oxbowWeight;\nctx.strokeStyle = oxbowColor.toRgbString();\nbezierCurveFromPoints(ctx)(arrayPointArrayToObjectArray(oxpoints));\n */\n// BUG it spikes Y pos\n// https://www.geeksforgeeks.org/how-to-draw-smooth-curve-through-multiple-points-using-javascript/\n// export const bezierCurveFromPoints = (context) => (points, f, t) => {\n//     if (typeof f === 'undefined') f = 0.3;\n//     if (typeof t === 'undefined') t = 0.6;\n//\n//     context.beginPath();\n//     context.moveTo(points[0].x, points[0].y);\n//\n//     let m = 0;\n//     let dx1 = 0;\n//     let dy1 = 0;\n//\n//     let preP = points[0];\n//\n//     for (let i = 1; i < points.length; i++) {\n//         const curP = points[i];\n//         const nexP = points[i + 1];\n//         let dx2;\n//         let dy2;\n//         if (nexP) {\n//             m = lineSlope(preP, nexP);\n//             dx2 = (nexP.x - curP.x) * -f;\n//             dy2 = dx2 * m * t;\n//         } else {\n//             dx2 = 0;\n//             dy2 = 0;\n//         }\n//\n//         context.bezierCurveTo(preP.x - dx1, preP.y - dy1, curP.x + dx2, curP.y + dy2, curP.x, curP.y);\n//\n//         dx1 = dx2;\n//         dy1 = dy2;\n//         preP = curP;\n//     }\n//     context.stroke();\n// };\n\n// Spikes is an array of angles\nexport const spikedCircle = (context) => ({ x, y, radius, color }, spikes, spikeLength = 5) => {\n    const circleStroke = 1;\n    const spikeStroke = 2;\n    context.strokeStyle = color.toRgbString();\n    context.lineWidth = circleStroke;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgba(255,255,255,.1)';\n    // context.fill();\n    context.stroke();\n    for (let s = 0; s < spikes.length; s++) {\n        const pointA = pointOnCircle(x, y, radius, spikes[s]);\n        const pointB = pointOnCircle(x, y, radius + spikeLength, spikes[s]);\n        context.strokeStyle = color.toRgbString();\n        line(context)(pointA.x, pointA.y, pointB.x, pointB.y, spikeStroke);\n    }\n};\n\nexport const DONTUSETHISpathRibbon = (context) => (path, color, thickness = 1, stroke = false) => {\n    // const rColor = tinycolor(color).clone();\n    // const gradient = context.createLinearGradient(0, startY, 0, maxY);\n    // gradient.addColorStop(0, colorLinesTop.toRgbString());\n    // gradient.addColorStop(1, colorLinesBottom.toRgbString());\n\n    context.beginPath();\n    context.moveTo(path[0], path[0]);\n    path.forEach((point, i) => {\n        const x = point[0];\n        const y = point[1];\n        context.lineTo(x, y);\n    });\n    path.reverse().forEach((point, i) => {\n        const x = point[0];\n        const y = point[1];\n        const distFromCenter = Math.abs(path.length / 2 - i);\n        const size = mapRange(0, path.length / 2, 1, thickness, distFromCenter);\n        context.lineTo(x + size, y + size);\n    });\n    context.closePath();\n\n    // if (stroke) {\n    //     context.strokeStyle = rColor.darken(70).toRgbString();\n    //     context.lineWidth = 0.75;\n    //     context.stroke();\n    // }\n\n    // context.fillStyle = gradient;\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fill();\n};\n\nexport const splatter = (context) => (x, y, color, size, amount = 3, range = 20) => {\n    for (let i = 0; i < amount; i++) {\n        const s = randomWholeBetween(size * 0.25, size * 3);\n        // circleOld dist\n        const radius = randomWholeBetween(0, range);\n        const angle = randomNumberBetween(0, TAU);\n        const xoff = radius * Math.cos(angle);\n        const yoff = radius * Math.sin(angle);\n        // square dist\n        // const xoff = randomWholeBetween(-range, range);\n        // const yoff = randomWholeBetween(-range, range);\n        circleFilled(context)(x + xoff, y + yoff, s, color);\n    }\n};\n\nconst lineCap = 'butt';\nconst lineJoin = 'miter';\n\nexport const turtleLineMode = (m = 'butt') => {\n    if (m === 'butt') {\n        lineCap = 'butt';\n        lineJoin = 'miter';\n    } else if (m === 'round') {\n        lineCap = 'round';\n        lineJoin = 'round';\n    }\n};\n\nexport const drawPointsTaper = (ctx) => (points, color = 'black', width = 1) => {\n    ctx.strokeStyle = tinycolor(color).clone().toRgbString();\n\n    const mid = points.length / 2;\n\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n\n    points.forEach((coords, i) => {\n        const dist = Math.abs(mid - i);\n        const w = mapRange(0, mid, width, 1, dist);\n        ctx.lineWidth = w;\n        ctx.beginPath();\n        ctx.moveTo(coords[0], coords[1]);\n        ctx.lineTo(coords[0], coords[1]);\n        ctx.stroke();\n    });\n};\n\nexport const circleAtPoint = (context) => (points, color = 'black', radius = 5) => {\n    points.forEach((coords) => {\n        circleFilled(context)(coords[0], coords[1], radius, color);\n    });\n};\n\nexport const variableCircleAtPoint = (context) => (points, color = 'black', radius = 5, freq = 10, amp = 2) => {\n    points.forEach((coords) => {\n        const v = Math.sin(coords[0] / freq) * amp;\n        circleFilled(context)(coords[0], coords[1], Math.abs(radius - v), color);\n    });\n};\n\nexport const drawSegment = (ctx) => (segments, color, weight, points = false) => {\n    ctx.lineCap = 'round';\n    // ctx.lineJoin = 'round';\n    ctx.strokeStyle = tinycolor(color).clone().toRgbString();\n    ctx.lineWidth = weight;\n    ctx.beginPath();\n    segments.forEach((seg, i) => {\n        if (i === 0) {\n            ctx.moveTo(seg.start.x, seg.start.y);\n        } else {\n            ctx.lineTo(seg.start.x, seg.start.y);\n        }\n        ctx.lineTo(seg.end.x, seg.end.y);\n    });\n    ctx.stroke();\n    if (points) {\n        segments.forEach((seg, i) => {\n            const rad = i === 0 || i === segments.length - 1 ? 3 : 1;\n            circleFilled(ctx)(seg.start.x, seg.start.y, rad, 'green');\n            circleFilled(ctx)(seg.end.x, seg.end.y, rad, 'red');\n        });\n    }\n};\n\nexport const drawSegmentTaper = (ctx) => (segments, color, maxWeight, minWeight = 1, points = false) => {\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n    ctx.strokeStyle = tinycolor(color).clone().toRgbString();\n\n    const mid = segments.length / 2;\n\n    segments.forEach((seg, i) => {\n        const dist = Math.abs(mid - i);\n        const w = mapRange(0, mid, maxWeight, minWeight, dist);\n\n        ctx.beginPath();\n        ctx.lineWidth = w;\n        if (i === 0) {\n            ctx.moveTo(seg.start.x, seg.start.y);\n        } else {\n            ctx.lineTo(seg.start.x, seg.start.y);\n        }\n        ctx.lineTo(seg.end.x, seg.end.y);\n        ctx.stroke();\n    });\n\n    if (points) {\n        segments.forEach((seg, i) => {\n            const rad = i === 0 || i === segments.length - 1 ? 3 : 1;\n            circleFilled(ctx)(seg.start.x, seg.start.y, rad, 'green');\n            circleFilled(ctx)(seg.end.x, seg.end.y, rad, 'red');\n        });\n    }\n};\n\nconst horizontalSinWave = (ctx, startX, maxX, yoffset, pixelColor) => {\n    const freq = 5;\n    const amp = 15;\n    const step = 2;\n    let theta = 0;\n    for (let x = startX; x < maxX; x += step) {\n        const y = circleY(theta, amp, freq) + yoffset;\n        pixel(ctx)(x, y, pixelColor, 'circle', 2);\n        theta++;\n    }\n};\n\nconst verticalSinWave = (ctx, startX, maxX, yoffset, pixelColor) => {\n    const freq = 5;\n    const amp = 15;\n    const step = 2;\n    let theta = 0;\n    for (let y = startY; y < maxY; y += step) {\n        const x = circleY(theta, amp, freq) + xoffset;\n        pixel(ctx)(x, y, pixelColor, 'circle', 2);\n        theta++;\n    }\n};\n\nconst fullScreenSin = (xoffset, yoffset) => {\n    const freq = 30;\n    const amp = 5;\n    const step = 5;\n    let theta = 0;\n    for (let sx = startX; sx < maxX; sx += step) {\n        for (let sy = startY; sy < maxY; sy += step) {\n            const x = circleX(theta, amp, freq) + xoffset + sx;\n            const y = circleY(theta, amp, freq) + yoffset + sy;\n            plot(x + xoffset, y + yoffset);\n            theta++;\n        }\n    }\n};\n\n/*\n    https://www.desmos.com/calculator/rzwar3xxpy\n    y-x = amp * Math.sin((y+x)/freq)\n     */\nconst plotDiagSinWave = (xoffset, yoffset) => {\n    const freq = 30; // 30\n    const amp = 5; // 5\n    let y = 0;\n    const a = Math.PI / 3; // angle of the wave, 1 is 45\n    for (let x = 0; x < canvasWidth + 10; x++) {\n        const b = Math.sin(x / Math.PI) * 5;\n        // x = y - Math.sin(y+x)\n        y = amp * Math.sin((y + b) / freq) + x * a;\n        plot(x + xoffset, y + yoffset);\n    }\n};\n\nexport const debugShowAttractor = (context) => ({ x, y, mass, g }, mode, radius) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(0,0,0,.1)';\n    context.fill();\n\n    context.beginPath();\n    context.arc(x, y, Math.sqrt(mass) * g, 0, Math.PI * 2, false);\n    context.fillStyle = mode === 1 ? 'rgba(0,255,0,.25)' : 'rgba(255,0,0,.25)';\n    context.fill();\n};\n\nconst plotFFPointLines = (num) => {\n    for (let i = 0; i < num; i++) {\n        const coords = createFFParticleCoords(noise, 0, randomWholeBetween(0, canvasMidY * 2), 2000, 1);\n        pointPathPA(ctx)(coords, tinycolor('rgba(0,0,0,.5'), 1);\n    }\n};\n\nexport const createFFParticleCoords = (fieldFn, startX, startY, length, fMag = 1, vlimit = 1) => {\n    const props = {\n        x: startX,\n        y: startY,\n        velocityX: 0,\n        velocityY: 0,\n        mass: 1,\n    };\n    const particle = new Particle(props);\n    const coords = [];\n    for (let i = 0; i < length; i++) {\n        const theta = fieldFn(particle.x, particle.y);\n        // theta = quantize(4, theta);\n        const force = uvFromAngle(theta).setMag(fMag);\n\n        particle.applyForce(force);\n        particle.velocity = particle.velocity.limit(vlimit);\n        particle.updatePosWithVelocity();\n        coords.push([particle.x, particle.y]);\n        particle.acceleration = new Vector(0, 0);\n    }\n    return coords;\n};\n","import tinycolor from 'tinycolor2';\nimport { currentContextScale } from './canvas';\n\nexport const setTextAlignLeftTop = (context) => {\n    context.textAlign = 'left';\n    context.textBaseline = 'top';\n};\nexport const setTextAlignAllCenter = (context) => {\n    context.textAlign = 'center';\n    context.textBaseline = 'middle';\n};\n// https://www.cssfontstack.com/\nexport const textStyles = {\n    size: (s) => `${s * currentContextScale()}px \"Helvetica Neue\",Helvetica,Arial,sans-serif`,\n    sansHelvetica: (s) => `${s * currentContextScale()}px \"Helvetica Neue\",Helvetica,Arial,sans-serif`,\n    monoCourier: (s) =>\n        `${\n            s * currentContextScale()\n        }px \"Courier New\", Courier, \"Lucida Sans Typewriter\", \"Lucida Typewriter\", monospace`,\n    monoLucidia: (s) =>\n        `${\n            s * currentContextScale()\n        }px \"Lucida Sans Typewriter\", \"Lucida Console\", monaco, \"Bitstream Vera Sans Mono\", monospace`,\n    serifGeorgia: (s) => `${s * currentContextScale()}px Georgia, Times, \"Times New Roman\", serif`,\n    default: '16px \"Helvetica Neue\",Helvetica,Arial,sans-serif',\n    small: '12px \"Helvetica Neue\",Helvetica,Arial,sans-serif',\n};\n\nexport const textFilled = (context) => (text, x, y, color, style) => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.font = style || textStyles.sansHelvetica(16);\n    context.fillText(text, x, y);\n    // https://developer.mozilla.org/en-US/docs/Web/API/TextMetrics\n    return context.measureText(text);\n};\n","// [[x,y], ...]\nimport { point } from './points';\n\nexport const getPointsOnCircle = (offsetX, offsetY, radius, steps, close = false) => {\n    const startAngle = 270;\n    const maxAngle = 360 + startAngle;\n    const points = [];\n    for (let angle = startAngle; angle < maxAngle; angle += steps) {\n        const theta = angle * (Math.PI / 180);\n        const x = Math.cos(theta) * radius + offsetX;\n        const y = Math.sin(theta) * radius + offsetY;\n        points.push([x, y]);\n    }\n    if (close) {\n        const theta = maxAngle - 1 * (Math.PI / 180);\n        const x = Math.cos(theta) * radius + offsetX;\n        const y = Math.sin(theta) * radius + offsetY;\n        points.push([x, y]);\n    }\n    return points;\n};\n\nexport const getGridCells = (width, height, columns, rows, margin = 0, gutter = 0) => {\n    const points = [];\n\n    const colStep = Math.ceil((width - margin * 2 - gutter * (columns - 1)) / columns);\n    const rowStep = Math.ceil((height - margin * 2 - gutter * (rows - 1)) / rows);\n\n    for (let row = 0; row < rows; row++) {\n        const y = margin + row * rowStep + gutter * row;\n        for (let col = 0; col < columns; col++) {\n            const x = margin + col * colStep + gutter * col;\n            points.push([x, y]);\n        }\n    }\n\n    return { points, columnWidth: colStep, rowHeight: rowStep };\n};\n\nexport const getPointGrid = (x, y, w, h, cols = 2, rows = 2) => {\n    const points = [];\n    const colw = Math.round(w / (cols - 1));\n    const rowh = Math.round(h / (rows - 1));\n\n    for (let i = 0; i < cols; i++) {\n        for (let j = 0; j < rows; j++) {\n            const rx = i * colw + x;\n            const ry = j * rowh + y;\n            points.push(point(rx, ry));\n        }\n    }\n\n    return points;\n};\n","import { background, currentContextScale } from '../rndrgen/canvas/canvas';\nimport { round2 } from '../rndrgen/math/math';\nimport { brightest, darkest, nicePalette } from '../rndrgen/color/palettes';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { textFilled, setTextAlignLeftTop, textStyles } from '../rndrgen/canvas/text';\nimport { getGridCells } from '../rndrgen/math/grids';\nimport { create2dNoiseAbs, oneOf, randomWholeBetween } from '../rndrgen/math/random';\nimport { rect, pixel } from '../rndrgen/canvas/primatives';\nimport { pointDistance } from '../rndrgen/math/points';\n\nclass Curve {\n    constructor(x, y, radius, angle, speed, noise) {\n        this.x = x;\n        this.y = y;\n        this.originX = x;\n        this.originY = y;\n        this.radius = radius;\n        this.speed = speed || 1;\n        this.angle = angle || 0;\n        this.noise = noise;\n\n        // Randomize some noise possibilities\n        this.xa = oneOf([randomWholeBetween(1, 5), round2(this.noise)]);\n        this.xb = oneOf([randomWholeBetween(1, 5), round2(this.noise)]);\n        this.ya = oneOf([randomWholeBetween(1, 5), round2(this.noise)]);\n        this.yb = oneOf([randomWholeBetween(1, 5), round2(this.noise)]);\n    }\n\n    get size() {\n        return this.radius * 2;\n    }\n\n    get centerX() {\n        return this.originX + this.radius;\n    }\n\n    get centerY() {\n        return this.originY + this.radius;\n    }\n\n    get distFromCenter() {\n        return pointDistance({ x: this.centerX, y: this.centerY }, { x: this.x, y: this.y });\n    }\n}\n\nexport const lissajous01 = () => {\n    const config = {\n        name: 'lissajous01',\n        ratio: ratio.square,\n        scale: scale.hidpi,\n    };\n\n    const renderBatch = 10;\n    const curves = [];\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n    const columns = 3;\n    let margin;\n    const palette = nicePalette();\n    const colorBackground = brightest(palette).clone().lighten(10);\n    const colorCurve = darkest(palette).clone().darken(25);\n    const colorText = colorBackground.clone().darken(15).desaturate(20);\n    let tick = 0;\n    let grid;\n\n    const setup = ({ canvas, context }) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n        margin = 50 * currentContextScale();\n        if (columns === 1) {\n            curves.push(new Curve(canvasCenterX, canvasCenterY, centerRadius, 0, 0.05));\n        } else {\n            grid = getGridCells(canvas.width, canvas.width, columns, columns, margin, margin / 2);\n            grid.points.forEach((point) => {\n                const x = point[0];\n                const y = point[1];\n                curves.push(new Curve(x, y, grid.columnWidth / 2, 0, 0.05, create2dNoiseAbs(x, y)));\n            });\n        }\n\n        background(canvas, context)(colorBackground);\n    };\n\n    // k is # of petals\n    // https://en.wikipedia.org/wiki/Rose_(mathematics)\n    // http://xahlee.info/SpecialPlaneCurves_dir/Rose_dir/rose.html\n    const roseX = (curve, k = 1, a = 1, b = 1) =>\n        curve.radius * Math.cos(k * curve.angle * a) * Math.cos(curve.angle * b);\n    const roseY = (curve, k = 1, a = 1, b = 1) =>\n        curve.radius * Math.cos(k * curve.angle * a) * Math.sin(curve.angle * b);\n\n    const linearYDown = (curve) => {\n        let { y } = curve;\n        if (++y > curve.size) y = 0;\n        return y;\n    };\n\n    const draw = ({ context }) => {\n        grid.points.forEach((point) => {\n            rect(context)(point[0], point[1], grid.columnWidth, grid.rowHeight, 1, colorText);\n        });\n        for (let b = 0; b < renderBatch; b++) {\n            for (let i = 0; i < curves.length; i++) {\n                // const idx = i + 1;\n                // const pointRad = 1;\n                const c = curves[i];\n\n                const k = round2(((i + 1) * 2) / 9);\n\n                const { xa } = c;\n                const { xb } = c;\n                const { ya } = c;\n                const { yb } = c;\n\n                // c.x = circleX(c);\n                // c.y = circleY(c);\n                c.x = roseX(c, k, xa, xb);\n                c.y = roseY(c, k, ya, yb);\n                // c.y = linearYDown(c);\n\n                // TODO, put a/b on the canvas so i can remember them!\n\n                c.angle += c.speed;\n\n                // const h = mapRange(0, c.radius, 180, 270, c.distFromCenter);\n                // const s = 100;\n                // const l = 30;\n                // const a = 0.75;\n                // const color = `hsla(${h},${s}%,${l}%,${a})`;\n\n                pixel(context)(c.x + c.centerX, c.y + c.centerY, colorCurve);\n\n                setTextAlignLeftTop(context);\n                textFilled(context)(\n                    `k=${k}, ${xa}, ${xb}, ${ya}, ${yb}`,\n                    c.originX,\n                    c.originY + c.size + 10,\n                    colorText,\n                    textStyles.size(10)\n                );\n            }\n            tick++;\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\n\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { nicePalette, hslFromRange } from '../rndrgen/color/palettes';\nimport {\n    simplexNoise2d,\n    simplexNoise3d,\n    sinField,\n    cliffordAttractor,\n    jongAttractor,\n    diagLines,\n} from '../rndrgen/math/attractors';\nimport { mapRange, snapNumber } from '../rndrgen/math/math';\nimport { lineAtAngle } from '../rndrgen/canvas/primatives';\n\nconst TAU = Math.PI * 2;\n\nconst arc = (context, x, y, size, thick, color, theta) => {\n    const startR = snapNumber(Math.PI / 2, theta);\n    const endR = startR + Math.PI / 2;\n    const clockWise = true;\n    context.strokeStyle = tinycolor(color).toRgbString();\n    context.lineCap = 'round';\n    context.lineWidth = thick;\n    context.beginPath();\n    context.arc(x + size, y + size, size, startR, endR, clockWise);\n    context.stroke();\n};\n\nconst circle = (context, x, y, size, color, theta) => {\n    const startR = 0; // snapNumber(Math.PI / 2, theta);\n    const endR = TAU; // startR + Math.PI / 2;\n    const clockWise = true;\n    const rad = mapRange(0, 5, size * 0.2, size * 0.6, Math.abs(theta));\n\n    context.beginPath();\n    context.arc(x + size, y + size, rad, startR, endR, clockWise);\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fill();\n};\n\nconst line = (context, x, y, size, thick, color, theta) => {\n    const startR = snapNumber(Math.PI / 2, theta) + Math.PI / 2;\n    context.strokeStyle = tinycolor(color).toRgbString();\n    lineAtAngle(context)(x + size, y + size, startR, size * 2, thick, 'round');\n};\n\nexport const flowFieldArcs = () => {\n    const config = {\n        name: 'flowFieldArcs',\n        ratio: ratio.square,\n        scale: scale.standard,\n    };\n\n    let time = 0;\n    const palette = nicePalette();\n    const colorBackground = tinycolor('rgba(50,50,50,1)');\n\n    const setup = ({ canvas, context }) => {\n        background(canvas, context)(colorBackground);\n    };\n\n    const renderField = ({ width, height }, context, fn, cell) => {\n        const mid = cell / 2;\n        for (let x = 0; x < width; x += cell) {\n            for (let y = 0; y < height; y += cell) {\n                const theta = fn(x, y);\n                const arcColor = hslFromRange(5, 270, 360, Math.abs(theta));\n                const lineColor = hslFromRange(5, 180, 270, Math.abs(theta)).darken(10);\n                line(context, x, y, mid, mid * 0.5, lineColor, theta);\n                circle(context, x, y, mid, lineColor, theta);\n                arc(context, x, y, mid, mid * 0.5, arcColor, theta);\n                arc(context, x, y, mid, mid * 0.1, 'yellow', theta);\n            }\n        }\n    };\n\n    const draw = ({ canvas, context }) => {\n        background(canvas, context)(colorBackground.setAlpha(0.1));\n\n        // const clifford = (x, y) => cliffordAttractor(canvas.width, canvas.height, x, y);\n        // const jong = (x, y) => jongAttractor(canvas.width, canvas.height, x, y);\n        const noise = (x, y) => simplexNoise3d(x, y, time, 0.001);\n\n        renderField(canvas, context, noise, Math.round(canvas.width / 20));\n        time += 0.25;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { clear } from './canvas';\nimport { mapRange } from '../math/math';\nimport { point } from '../math/points';\nimport { averageNumArray } from '../utils';\n\n// const createColorArrayFromImageData = (imageData) => {\n//     const data = [];\n//     for (let y = 0, { height } = imageData; y < height; y++) {\n//         for (let x = 0, { width } = imageData; x < width; x++) {\n//             data.push({ x, y, ...getImageColor(imageData, x, y) });\n//         }\n//     }\n//     return data;\n// };\n\n// const renderImage = () => {\n//     for (let x = startX; x < maxX; x++) {\n//         for (let y = startY; y < maxY; y++) {\n//             const color = image.pixelColorFromCanvas(x, y);\n//             pixel(ctx)(x, y, color, 'square', 1);\n//         }\n//     }\n// };\n\nexport class Bitmap {\n    constructor(src) {\n        this.scaleX = 1;\n        this.scaleY = 1;\n\n        this.image = new Image();\n        this.image.src = src;\n        this.imageData = undefined;\n    }\n\n    get width() {\n        return this.imageData.width;\n    }\n\n    get height() {\n        return this.imageData.height;\n    }\n\n    get data() {\n        return this.imageData;\n    }\n\n    toCanvasX(x) {\n        return Math.round(x * this.scaleX);\n    }\n\n    toCanvasY(y) {\n        return Math.round(y * this.scaley);\n    }\n\n    init(canvas, context, wipe = true) {\n        this.canvas = canvas;\n        this.context = context;\n        this.context.drawImage(this.image, 0, 0);\n\n        const imageWidth = this.image.width || this.canvas.width;\n        const imageHeight = this.image.height || this.canvas.height;\n\n        this.imageData = this.context.getImageData(0, 0, imageWidth, imageHeight);\n        this.scaleX = this.canvas.width / imageWidth;\n        this.scaleY = this.canvas.height / imageHeight;\n        if (wipe) clear(this.canvas, this.context);\n    }\n\n    pixelColorRaw(x, y) {\n        if (x < 0) x = 0;\n        if (y < 0) y = 0;\n        if (x >= this.width) x = this.width - 1;\n        if (y >= this.height) y = this.height - 1;\n        return {\n            r: this.imageData.data[y * 4 * this.imageData.width + x * 4],\n            g: this.imageData.data[y * 4 * this.imageData.width + x * 4 + 1],\n            b: this.imageData.data[y * 4 * this.imageData.width + x * 4 + 2],\n            a: this.imageData.data[y * 4 * this.imageData.width + x * 4 + 3],\n        };\n    }\n\n    pixelColor(x, y) {\n        return tinycolor(this.pixelColorRaw(x, y));\n    }\n\n    /*\n    Gray = 0.21R + 0.72G + 0.07B // Luminosity\n    Gray = (R + G + B) ÷ 3 // Average Brightness\n    Gray = 0.299R + 0.587G + 0.114B // rec601 standard\n    Gray = 0.2126R + 0.7152G + 0.0722B // ITU-R BT.709 standard\n    Gray = 0.2627R + 0.6780G + 0.0593B // ITU-R BT.2100 standard\n     */\n    // https://sighack.com/post/averaging-rgb-colors-the-right-way\n    pixelAverageGrey(x, y) {\n        const color = this.pixelColorRaw(x, y);\n        return Math.sqrt((color.r * color.r + color.g * color.g + color.b * color.b) / 3);\n    }\n\n    pixelTheta(x, y) {\n        // return this.pixelColor(x, y).getBrightness() / 256;\n        return this.pixelAverageGrey(x, y) / 256;\n    }\n\n    pixelColorFromCanvas(x, y) {\n        return this.pixelColor(Math.round(x / this.scaleX), Math.round(y / this.scaleY));\n    }\n\n    pixelAverageGreyFromCanvas(x, y) {\n        return this.pixelAverageGrey(Math.round(x / this.scaleX), Math.round(y / this.scaleY));\n    }\n\n    pixelThetaFromCanvas(x, y) {\n        return this.pixelTheta(Math.round(x / this.scaleX), Math.round(y / this.scaleY));\n    }\n\n    sizeFromPixelBrightness(x, y, size = 5, low = 0, max = 255) {\n        const pixelColor = this.pixelColorFromCanvas(x, y);\n        const brightness = 256 - pixelColor.getBrightness();\n        return mapRange(low, max, 0, size, brightness);\n    }\n\n    averageGreyFromCell(x, y, w, h, res = 2) {\n        const points = [];\n        for (let i = x; i < x + w; i += res) {\n            for (let k = y; k < y + h; k += res) {\n                points.push(this.pixelAverageGrey(Math.round(i / this.scaleX), Math.round(k / this.scaleY)));\n            }\n        }\n        return averageNumArray(points);\n    }\n\n    thresholdAsPoints(res, threshold = 128) {\n        const testFn = (g) => g > threshold;\n\n        const points = [];\n        const { width, height } = this.canvas;\n\n        const colw = width / res;\n        const rowh = height / res;\n\n        for (let i = 0; i < res; i++) {\n            for (let j = 0; j < res; j++) {\n                const x = i * colw;\n                const y = j * rowh;\n                if (testFn(this.pixelAverageGreyFromCanvas(x, y))) {\n                    points.push(point(x, y));\n                }\n            }\n        }\n\n        return points;\n    }\n\n    loadImageData(src, wipe = true) {\n        // const MAX_HEIGHT = 100;\n        this.image = new Image();\n        this.image.onload = function () {\n            console.log(this, this.context);\n            this.context.drawImage(this.image, 0, 0);\n            this.imageData = this.context.getImageData(0, 0, this.image.width, this.image.width);\n            this.scaleX = this.canvas.width / this.imageData.width;\n            this.scaleY = this.canvas.height / this.imageData.height;\n            if (wipe) clear(this.canvas, this.context);\n            // const canvas = document.getElementById('myCanvas');\n            // if (dropImage.height > MAX_HEIGHT) {\n            //     dropImage.width *= MAX_HEIGHT / dropImage.height;\n            //     dropImage.height = MAX_HEIGHT;\n            // }\n            // const ctx = canvas.getContext('2d');\n            // ctx.clearRect(0, 0, canvas.width, canvas.height);\n            // canvas.width = dropImage.width;\n            // canvas.height = dropImage.height;\n            // ctx.drawImage(dropImage, 0, 0, dropImage.width, dropImage.height);\n        };\n        this.image.src = src;\n    }\n}\n","module.exports = require('./bundle-url').getBundleURL() + require('./relative-path')(\"3FB7m\", \"3GCfi\")","import tinycolor from 'tinycolor2';\nimport { mapRange, uvFromAngle, isValueInRange } from '../math/math';\nimport { randomWholeBetween } from '../math/random';\nimport { pixelAtPoints } from './primatives';\n\nexport const renderField = ({ width, height }, context, fn, color = 'black', resolution = '50', length = 10) => {\n    const xStep = Math.round(width / resolution);\n    const yStep = Math.round(height / resolution);\n    const xMid = xStep / 2;\n    const yMid = yStep / 2;\n    for (let x = 0; x < width; x += xStep) {\n        for (let y = 0; y < height; y += yStep) {\n            const theta = fn(x, y);\n            const vect = uvFromAngle(theta).setMag(length || xMid);\n            const x1 = x + xMid;\n            const y1 = y + yMid;\n            const x2 = x1 + vect.x;\n            const y2 = y1 + vect.y;\n            context.strokeStyle = tinycolor(color);\n            context.lineWidth = 1;\n            context.beginPath();\n            context.moveTo(x1, y1);\n            context.lineTo(x2, y2);\n            context.stroke();\n        }\n    }\n};\n\nexport const renderFieldColor = (\n    { width, height },\n    context,\n    fn,\n    resolution = '50',\n    lowColor,\n    highColor,\n    noiseMax = 5\n) => {\n    const xStep = Math.round(width / resolution);\n    const yStep = Math.round(height / resolution);\n    for (let x = 0; x < width; x += xStep) {\n        for (let y = 0; y < height; y += yStep) {\n            const theta = fn(x, y);\n            const colorMix = mapRange(0, noiseMax * 2, 0, 100, theta + noiseMax);\n            const fillColor = tinycolor.mix(lowColor, highColor, colorMix);\n            context.fillStyle = tinycolor(fillColor).toRgbString();\n            context.fillRect(x, y, x + xStep, y + yStep);\n        }\n    }\n};\n\n// https://codepen.io/crummy/pen/RWRWQe?editors=0010\n// http://bl.ocks.org/blinsay/c8bcfeff0b6159f44aec\n// https://github.com/anvaka/streamlines\nexport const renderFieldContour = (\n    { width, height },\n    context,\n    fn,\n    min = -8,\n    max = 8,\n    steps = 30,\n    lowColor = 'black',\n    highColor = 'white',\n    varience = 0.025\n) => {\n    const nsteps = (max - min) / steps;\n    const rpoints = 100000;\n\n    for (let n = min; n < max; n += nsteps) {\n        const lowPoints = [];\n        const highPoints = [];\n        for (let i = 0; i < rpoints; i++) {\n            const px = randomWholeBetween(0, width);\n            const py = randomWholeBetween(0, height);\n            const nheight = fn(px, py);\n            if (isValueInRange(n, nheight, varience)) {\n                if (nheight <= 0) lowPoints.push([px, py]);\n                else highPoints.push([px, py]);\n\n                // const vect = uvFromAngle(nheight).setMag(5);\n                // const x2 = px + vect.x;\n                // const y2 = py + vect.y;\n                // context.strokeStyle = tinycolor(lowColor);\n                // context.lineWidth = 1;\n                // context.beginPath();\n                // context.moveTo(px, py);\n                // context.lineTo(x2, y2);\n                // context.stroke();\n            }\n        }\n        pixelAtPoints(context)(lowPoints, lowColor, 1);\n        pixelAtPoints(context)(highPoints, highColor, 1);\n    }\n};\n\n// https://thingonitsown.blogspot.com/2019/02/finding-perlin-contours.html\n/*\nfunction renderNoiseContour(startX, startY, borderVal, fn) {\n    const lookRad = 2;\n    let nextX = startX;\n    let nextY = startY;\n    const coords = [];\n    // set color\n    // start shape\n\n    let distance = 0;\n    for (let i = 0; i < 50000; i++) {\n        const lastDistance = distance;\n        const lastX = nextX;\n        const lastY = nextY;\n        for (\n            distance = lastDistance + Math.PI / 2;\n            (distance > lastDistance - Math.PI / 2 && !isValueInRange(borderVal, fn(startX, startY), 0.0035)) ||\n            distance === lastDistance + Math.PI / 2;\n            distance -= 0.17\n        ) {\n            nextX = lastX + lookRad * Math.cos(distance);\n            nextY = lastY - lookRad * Math.sin(distance);\n        }\n        coords.push([nextX, nextY]);\n        // vertex(nextX - mx + windowWidth / 2, nextY - my + windowHeight / 2)\n\n        if (pointDistance({ x: nextX, y: nextY }, { x: startX, y: startY }) < lookRad && i > 1) {\n            if (i > 4) {\n                // endShape(CLOSE)\n                return coords;\n            }\n            break;\n        }\n    }\n}\n*/\n","import tinycolor from 'tinycolor2';\nimport { mapRange, uvFromAngle, snapNumber, quantize } from '../rndrgen/math/math';\nimport { Particle, createRandomParticleValues } from '../rndrgen/systems/Particle';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { Vector } from '../rndrgen/math/Vector';\nimport { hslFromRange, warmWhite } from '../rndrgen/color/palettes';\nimport { Bitmap } from '../rndrgen/canvas/Bitmap';\nimport sourcePng from '../../media/images/kristijan-arsov-woman-400.png';\nimport { renderField } from '../rndrgen/canvas/fields';\nimport { randomNumberBetween, randomWholeBetween } from '../rndrgen/math/random';\nimport { circleFilled } from '../rndrgen/canvas/primatives';\nimport { pointDistance } from '../rndrgen/math/points';\n\n/*\nhttps://marcteyssier.com/projects/flowfield/\nhttps://larrycarlson.com/collections/wavy-art-prints\n */\n\nconst TAU = Math.PI * 2;\n\nconst splatter = (context) => (x, y, color, size, amount = 3, range = 20) => {\n    for (let i = 0; i < amount; i++) {\n        const s = randomWholeBetween(size * 0.25, size * 3);\n        // circleOld dist\n        const radius = randomWholeBetween(0, range);\n        const angle = randomNumberBetween(0, TAU);\n        const xoff = radius * Math.cos(angle);\n        const yoff = radius * Math.sin(angle);\n        // square dist\n        // const xoff = randomWholeBetween(-range, range);\n        // const yoff = randomWholeBetween(-range, range);\n        circleFilled(context)(x + xoff, y + yoff, s, color);\n    }\n};\n\nconst createRandomParticle = (canvas) => {\n    const props = createRandomParticleValues(canvas);\n    props.x = randomWholeBetween(0, canvas.width);\n    props.y = randomWholeBetween(0, canvas.height);\n    props.velocityX = 0;\n    props.velocityY = 0;\n    return new Particle(props);\n};\n\nexport const flowFieldImage = () => {\n    const config = {\n        name: 'flowFieldImage',\n        ratio: ratio.square,\n        scale: scale.standard,\n    };\n\n    const maxSize = 5;\n    let time = 0;\n    const backgroundColor = warmWhite;\n    const image = new Bitmap(sourcePng);\n\n    const imageFlow = (x, y) => image.pixelThetaFromCanvas(x, y) * TAU;\n\n    const setup = ({ canvas, context }) => {\n        image.init(canvas, context);\n        background(canvas, context)(backgroundColor);\n        renderField(canvas, context, imageFlow, 'rgba(0,0,0,.15)', 50, 10);\n    };\n\n    const drawPixel = (canvas, context, particle, color, rad = 1) => {\n        const pcolor = color || particle.color;\n        const { x } = particle;\n        const { y } = particle;\n        circleFilled(context)(x, y, rad, pcolor);\n        return true;\n    };\n\n    const drawParticle = ({ canvas, context }, particle) => {\n        const theta = imageFlow(particle.x, particle.y);\n        const force = uvFromAngle(theta);\n        particle.applyForce(force);\n        particle.velocity = particle.velocity.limit(3);\n        particle.updatePosWithVelocity();\n\n        const fromCenter = pointDistance(particle, { x: canvas.width / 2, y: canvas.height / 2 });\n\n        const imagePixelColor = image.pixelColorFromCanvas(particle.x, particle.y);\n        const imagePixelBrightness = 256 - imagePixelColor.getBrightness();\n        const hslColor = hslFromRange(canvas.width, 90, 270, particle.x).spin(time);\n        const particleColor = tinycolor.mix(hslColor, imagePixelColor, 90);\n        particleColor.desaturate(mapRange(canvas.width / 3, canvas.width / 2, 0, 10, fromCenter));\n\n        const size = mapRange(0, 255, 0, maxSize, imagePixelBrightness);\n        const sizeMult = mapRange(canvas.width / 3, canvas.width / 2, 1, 5, fromCenter);\n\n        drawPixel(canvas, context, particle, particleColor, size * sizeMult);\n\n        if (Math.abs(theta) >= 5.7) {\n            splatter(context)(particle.x, particle.y, particleColor.brighten(10), 1, 3, 100);\n        }\n\n        particle.acceleration = new Vector(0, 0);\n    };\n\n    const drawFibers = ({ canvas, context }) => {\n        const particle = createRandomParticle(canvas);\n        const length = randomWholeBetween(50, 1000);\n        for (let i = 0; i < length; i++) {\n            drawParticle({ canvas, context }, particle);\n        }\n    };\n\n    const draw = ({ canvas, context }) => {\n        drawFibers({ canvas, context });\n        time += 0.05;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport random from 'canvas-sketch-util/random';\nimport { uvFromAngle, quantize } from '../rndrgen/math/math';\nimport { Particle } from '../rndrgen/systems/Particle';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { palettes } from '../rndrgen/color/palettes';\nimport { Vector } from '../rndrgen/math/Vector';\nimport { simplexNoise2d, simplexNoise3d, cliffordAttractor, jongAttractor } from '../rndrgen/math/attractors';\nimport { renderField } from '../rndrgen/canvas/fields';\nimport { oneOf, randomBoolean, randomPointAround, randomWholeBetween } from '../rndrgen/math/random';\n\n/*\nBased on\nhttps://tylerxhobbs.com/essays/2020/flow-fields\n */\n\nconst drawRibbonPoint = (context, point, i, thickness = 0, height = 0) => {\n    const x = point[0];\n    const y = point[1];\n    context.lineTo(x + thickness, y + thickness);\n};\n\nconst drawRibbon = (context) => (sideA, sideB, color, stroke = false, thickness = 1) => {\n    const startx = sideA[0][0];\n    const starty = sideA[0][1];\n    const endx = sideB[0][0] + thickness;\n    const endy = sideB[0][1] + thickness;\n\n    const rColor = tinycolor(color).clone();\n    const gradient = context.createLinearGradient(0, starty - thickness, 0, endy + thickness);\n    gradient.addColorStop(0, rColor.toRgbString());\n    gradient.addColorStop(1, rColor.clone().darken(20).toRgbString());\n\n    context.beginPath();\n    context.moveTo(startx, starty);\n    sideA.forEach((w, i) => {\n        drawRibbonPoint(context, w, i, 0, thickness * 0.1);\n    });\n    sideB.forEach((w, i) => {\n        drawRibbonPoint(context, w, i, thickness, thickness * 0.1);\n    });\n    context.lineTo(startx, starty);\n\n    if (stroke) {\n        context.strokeStyle = rColor.darken(70).toRgbString();\n        context.lineWidth = 0.75;\n        context.stroke();\n    }\n\n    context.fillStyle = gradient;\n    context.fill();\n};\n\nexport const flowFieldRibbons = () => {\n    const config = {\n        name: 'flowFieldRibbons',\n        ratio: ratio.square,\n        scale: scale.standard,\n    };\n\n    let canvasWidth;\n    let canvasHeight;\n    let canvasMidX;\n    let canvasMidY;\n    const palette = palettes.pop;\n    const backgroundColor = tinycolor('white');\n\n    let time = 0;\n\n    const createRibbon = (fieldFn, startX, startY, length, vlimit = 1) => {\n        const props = {\n            x: startX,\n            y: startY,\n            velocityX: 0,\n            velocityY: 0,\n            mass: 1,\n        };\n        const particle = new Particle(props);\n        const coords = [];\n        for (let i = 0; i < length; i++) {\n            const theta = fieldFn(particle.x, particle.y);\n            // theta = quantize(360, theta);\n            const force = uvFromAngle(theta);\n            particle.applyForce(force);\n            particle.velocity = particle.velocity.limit(vlimit);\n            particle.updatePosWithVelocity();\n            coords.push([particle.x, particle.y]);\n            particle.acceleration = new Vector(0, 0);\n        }\n        return coords;\n    };\n\n    const simplex2d = (x, y) => simplexNoise2d(x, y, 0.0005);\n    const simplex3d = (x, y) => simplexNoise3d(x, y, time, 0.0005);\n    const clifford = (x, y) => cliffordAttractor(canvasWidth, canvasHeight, x, y);\n    const jong = (x, y) => jongAttractor(canvasWidth, canvasHeight, x, y);\n    const noise = randomBoolean() ? clifford : jong;\n\n    let maxRadius;\n\n    const setup = ({ canvas, context }) => {\n        canvasWidth = canvas.width;\n        canvasHeight = canvas.height;\n        canvasMidX = canvas.width / 2;\n        canvasMidY = canvas.height / 2;\n        maxRadius = canvas.width * 0.4;\n\n        background(canvas, context)(backgroundColor);\n\n        renderField(canvas, context, noise, 'rgba(0,0,0,.15)', canvas.width / 10, 5);\n    };\n\n    const ribbonLen = randomWholeBetween(50, 1000);\n    const ribbonThickness = randomWholeBetween(3, 30);\n\n    const draw = ({ canvas, context }) => {\n        const color = oneOf(palette);\n        const len = maxRadius * 2; // ribbonLen;\n\n        const rpoint = random.onCircle(maxRadius); // randomPointAround(maxRadius * 0.4);\n\n        const x = rpoint[0] + canvasMidX;\n        const y = rpoint[1] + canvasMidY;\n        const x2 = x + 2;\n        const y2 = y;\n\n        const sideA = createRibbon(noise, x, y, len, 1);\n        const sideB = createRibbon(noise, x2, y2, len, 1).reverse();\n\n        drawRibbon(context)(sideA, sideB, color, false, ribbonThickness);\n\n        time += 0.01;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { degreesToRadians } from '../rndrgen/math/math';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { brightest, darkest, hslFromRange, nicePalette } from '../rndrgen/color/palettes';\nimport { simplexNoise2d, simplexNoise3d } from '../rndrgen/math/attractors';\nimport { randomPointAround, randomWholeBetween } from '../rndrgen/math/random';\nimport { circleFilled } from '../rndrgen/canvas/primatives';\n\n/*\nStarted here but took a detour\nhttps://www.reddit.com/r/creativecoding/comments/lx9prx/audiovisual_sound_of_space_solar_system_david/\n */\n\nconst TAU = Math.PI * 2;\n\nexport const radialNoise = () => {\n    const config = {\n        name: 'radialNoise',\n        ratio: ratio.square,\n        scale: scale.standard,\n    };\n\n    let canvasMidX;\n    let canvasMidY;\n    let maxRadius;\n    let radiusScale;\n    let currentRadiusSize = 360;\n\n    let originX;\n    let originY;\n    let time = 0;\n    let angle = 0;\n\n    const history = {};\n\n    const palette = nicePalette();\n    const backgroundColor = brightest(palette).clone().lighten(10);\n    const imageColor = darkest(palette).clone();\n\n    // let imageZoomFactor;\n    // const png = new Image();\n    // png.src = sourcePng;\n    // let imageData;\n\n    const setup = ({ canvas, context }) => {\n        canvasMidX = canvas.width / 2;\n        canvasMidY = canvas.height / 2;\n        maxRadius = canvas.width * 0.4;\n        radiusScale = currentRadiusSize / maxRadius;\n\n        originX = canvasMidX;\n        originY = canvasMidY;\n\n        // imageData = getImageDataFromImage(context)(png);\n        // clear(canvas, context)();\n        // imageZoomFactor = 360 / imageData.width;\n\n        background(canvas, context)(backgroundColor);\n    };\n\n    const drawPixel = (context, x, y, color, size = 1, heading = 0) => {\n        circleFilled(context)(x, y, size, color);\n    };\n\n    const drawLine = (context, x1, y1, x2, y2, color, strokeWidth = 1) => {\n        context.strokeStyle = tinycolor(color).toRgbString();\n        context.lineWidth = strokeWidth;\n        context.beginPath();\n        context.moveTo(x1, y1);\n        context.lineTo(x2, y2);\n        context.stroke();\n    };\n\n    const circleX = (r, a, v = 1) => r * Math.cos(a * v);\n    const circleY = (r, a, v = 1) => r * Math.sin(a * v);\n\n    const draw = ({ canvas, context }) => {\n        for (let radius = 0; radius < currentRadiusSize; radius++) {\n            let ox;\n            let oy;\n\n            if (history.hasOwnProperty(radius)) {\n                ox = history[radius].x;\n                oy = history[radius].y;\n            }\n\n            const radScaled = radius / radiusScale;\n            const a = 1;\n            const b = 1;\n            const radians = degreesToRadians(angle) - Math.PI / 8;\n            let x = originX + circleX(radScaled, radians, a);\n            let y = originY + circleY(radScaled, radians, b);\n\n            const noise = simplexNoise3d(x, y, time, 0.02);\n            x += noise;\n            y += noise;\n\n            const monoColor = imageColor.clone().spin(time * 0.1);\n\n            if (ox !== undefined && oy !== undefined) {\n                drawLine(context, ox, oy, x, y, monoColor, 0.5);\n            }\n\n            history[radius] = { x, y };\n\n            time += 0.01;\n        }\n\n        angle += 3;\n\n        if (angle > 360) {\n            angle = 0;\n\n            currentRadiusSize = randomWholeBetween(100, 360);\n            radiusScale = 1; // currentRadiusSize / maxRadius;\n\n            const offs = randomPointAround((canvas.width - maxRadius) * 0.75);\n            originX = canvasMidX + offs.x;\n            originY = canvasMidY + offs.y;\n            background(canvas, context)(backgroundColor.setAlpha(0.25));\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport random from 'canvas-sketch-util/random';\nimport { uvFromAngle } from '../rndrgen/math/math';\nimport { Particle } from '../rndrgen/systems/Particle';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { palettes } from '../rndrgen/color/palettes';\nimport { Vector } from '../rndrgen/math/Vector';\nimport { simplexNoise2d, simplexNoise3d, cliffordAttractor, jongAttractor } from '../rndrgen/math/attractors';\nimport { renderField } from '../rndrgen/canvas/fields';\nimport { oneOf, randomBoolean, randomPointAround, randomWholeBetween } from '../rndrgen/math/random';\n\n/*\nBased on\nhttps://tylerxhobbs.com/essays/2020/flow-fields\n */\n\nconst drawRibbonPoint = (context, point, i, thickness = 0, height = 0) => {\n    const x = point[0];\n    const y = point[1];\n    const jitterX = 0; // Math.cos(i * 0.05) * height;\n    const jitterY = 0; // Math.sin(i * 0.05) * height;\n    context.lineTo(x + thickness + jitterX, y + thickness + jitterY);\n};\n\nconst drawRibbonSegment = (context, sideA, sideB, color, stroke = false, thickness = 1) => {\n    const segStartX = sideA[0][0];\n    const segStartY = sideA[0][1];\n    const segEndX = sideB[0][0] + thickness;\n    const segEndY = sideB[0][1] + thickness;\n\n    const rColor = tinycolor(color).clone();\n    const gradient = context.createLinearGradient(0, segStartY - thickness, 0, segEndY + thickness);\n    gradient.addColorStop(0, rColor.toRgbString());\n    gradient.addColorStop(0.5, rColor.toRgbString());\n    gradient.addColorStop(1, rColor.clone().darken(20).saturate(50).toRgbString());\n\n    context.beginPath();\n    context.moveTo(segStartX, segStartY);\n    sideA.forEach((w, i) => {\n        drawRibbonPoint(context, w, i, 0, thickness * 0.1);\n    });\n    sideB.forEach((w, i) => {\n        drawRibbonPoint(context, w, i, thickness, thickness * 0.1);\n    });\n    context.lineTo(segStartX, segStartY);\n\n    if (stroke) {\n        context.strokeStyle = rColor.darken(70).toRgbString();\n        context.lineWidth = 0.75;\n        context.stroke();\n    }\n\n    context.fillStyle = gradient;\n    context.fill();\n};\n\nconst drawRibbon = (context) => (sideA, sideB, color, stroke = false, thickness = 1) => {\n    const segmentGap = 1; // randomWholeBetween(1, 4);\n    const segments = randomWholeBetween(1, 3);\n    // const segmentsStep = Math.ceil((sideA.length - segmentGap * (segments - 1)) / segments);\n    const segmentData = [];\n\n    let left = sideA.length;\n    let start = 0;\n\n    for (let i = 0; i < segments; i++) {\n        const len = randomWholeBetween(1, left / 2);\n        // const start = i * segmentsStep + segmentGap * i;\n        // const len = segmentsStep;\n        segmentData.push({\n            sideA: sideA.slice(start, start + len),\n            sideB: sideB.slice(start, start + len).reverse(),\n        });\n        start += len + segmentGap;\n        left -= len + segmentGap;\n    }\n    segmentData.forEach((s) => {\n        drawRibbonSegment(context, s.sideA, s.sideB, color, stroke, thickness);\n    });\n\n    // drawRibbonSegment(context, segmentStart, segmentLen, sideA, sideB, color, stroke, thickness);\n};\n\nexport const flowFieldRibbons2 = () => {\n    const config = {\n        name: 'flowFieldRibbons',\n        ratio: ratio.square,\n        scale: scale.standard,\n    };\n\n    let canvasMidX;\n    let canvasMidY;\n    const palette = palettes['80s_pop'];\n    const backgroundColor = tinycolor('white');\n\n    let time = 0;\n\n    const createRibbon = (fieldFn, startX, startY, length, vlimit = 1) => {\n        const props = {\n            x: startX,\n            y: startY,\n            velocityX: 0,\n            velocityY: 0,\n            mass: 1,\n        };\n        const particle = new Particle(props);\n        const coords = [];\n        for (let i = 0; i < length; i++) {\n            const theta = fieldFn(particle.x, particle.y);\n            // theta = quantize(4, theta);\n            const force = uvFromAngle(theta);\n            particle.applyForce(force);\n            particle.velocity = particle.velocity.limit(vlimit);\n            particle.updatePosWithVelocity();\n            coords.push([particle.x, particle.y]);\n            particle.acceleration = new Vector(0, 0);\n        }\n        return coords;\n    };\n\n    const simplex2d = (x, y) => simplexNoise2d(x, y, 0.0001);\n    const simplex3d = (x, y) => simplexNoise3d(x, y, time, 0.0005);\n    const clifford = (x, y) => cliffordAttractor(canvas.width, canvas.height, x, y);\n    const jong = (x, y) => jongAttractor(canvas.width, canvas.height, x, y);\n    const noise = randomBoolean() ? clifford : jong;\n\n    let maxRadius;\n\n    const setup = ({ canvas, context }) => {\n        canvasMidX = canvas.width / 2;\n        canvasMidY = canvas.height / 2;\n        maxRadius = canvas.width * 0.4;\n\n        background(canvas, context)(backgroundColor);\n\n        // renderField(\n        //     canvas,\n        //     context,\n        //     noise,\n        //     tinycolor(oneOf(palette)).lighten(30),\n        //     canvas.width / 10,\n        //     canvas.width / 20\n        // );\n    };\n\n    const ribbonLen = randomWholeBetween(200, 500);\n    const ribbonThickness = randomWholeBetween(100, 300);\n\n    const maxItterations = randomWholeBetween(10, 30);\n    let currentItteration = 0;\n\n    const draw = ({ canvas, context }) => {\n        const color = oneOf(palette);\n        const len = ribbonLen;\n\n        // const rpoint = random.onCircle(maxRadius); // randomPointAround(maxRadius * 0.4);\n        const rpoint = [randomWholeBetween(0, canvas.width), randomWholeBetween(0, canvas.height)];\n\n        const x = rpoint[0];\n        const y = rpoint[1];\n        const x2 = x + 2;\n        const y2 = y;\n\n        const sideA = createRibbon(noise, x, y, len, 1);\n        const sideB = createRibbon(noise, x2, y2, len, 1);\n        drawRibbon(context)(sideA, sideB, color, false, ribbonThickness);\n\n        time += 0.01;\n\n        if (++currentItteration > maxItterations) return -1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","/*\nFlow field inside?\nParticle physics inside\nBorder\nClip to no overflow?\n */\n\nimport tinycolor from 'tinycolor2';\nimport { defaultValue } from '../utils';\nimport { randomNormalWholeBetween, randomWholeBetween } from '../math/random';\nimport { rectFilled } from '../canvas/primatives';\n\nconst defaultMP = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n};\n\nconst defaultFlow = (x, y) => 0;\n\nlet boxIndex = 0;\n\nclass Point {\n    constructor(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    get toArray() {\n        return [this.x, this.y, this.z];\n    }\n\n    get toObject() {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z,\n        };\n    }\n\n    clone() {\n        return new Point(this.x, this.y, this.z);\n    }\n}\n\nexport class Box {\n    #backgroundColor;\n\n    constructor(props, children = []) {\n        this.name = `box${boxIndex++}`;\n        this.canvas = props.canvas;\n        this.context = props.context;\n        this.x = props.x;\n        this.y = props.y;\n        this.width = props.width;\n        this.height = props.height;\n        this.rotation = defaultValue(props, 'rotation', 0);\n        this.#backgroundColor = tinycolor(defaultValue(props, 'backgroundColor', 'white'));\n        this.padding = defaultValue(props, 'padding', defaultMP);\n        this.clip = defaultValue(props, 'clip', true);\n        this.flowField = defaultValue(props, 'flowField', defaultFlow);\n        this.children = children;\n    }\n\n    get x2() {\n        return this.x + this.width;\n    }\n\n    get y2() {\n        return this.y + this.height;\n    }\n\n    get innerWidth() {\n        return this.width - this.padding.left - this.padding.right;\n    }\n\n    get innerHeight() {\n        return this.height - this.padding.top - this.padding.bottom;\n    }\n\n    get centerPoint() {\n        return new Point(this.x + Math.round(this.width / 2), this.y + Math.round(this.height / 2));\n    }\n\n    get backgroundColor() {\n        return this.#backgroundColor.clone();\n    }\n\n    set backgroundColor(c) {\n        this.#backgroundColor = tinycolor(c);\n    }\n\n    fill(color) {\n        color = color || this.backgroundColor;\n        rectFilled(this.context)(this.x, this.y, this.width, this.height, color);\n    }\n\n    erase() {\n        this.context.clearRect(this.x, this.y, this.width, this.height);\n    }\n\n    outline(thickness, color) {\n        this.context.strokeStyle = tinycolor(color).toRgbString();\n        this.context.lineWidth = thickness;\n        this.context.rect(this.x, this.y, this.width, this.height);\n        this.context.stroke();\n    }\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clip\n    // https://dustinpfister.github.io/2019/08/14/canvas-save/\n    // https://dustinpfister.github.io/2019/10/08/canvas-clip/\n    createClip() {\n        this.context.save();\n        const region = new Path2D();\n        region.rect(this.x, this.y, this.width, this.height);\n        this.context.clip(region);\n    }\n\n    removeClip() {\n        this.context.restore();\n    }\n\n    translateX(x) {\n        return this.x + x;\n    }\n\n    translateY(y) {\n        return this.y + y;\n    }\n\n    translateInto(point) {\n        return new Point(this.translateX(point.x), this.translateY(point.y));\n    }\n\n    translateOut(point) {\n        return new Point(point.x - this.x, point.y - this.y);\n    }\n\n    randomPointInside(distribution = 'whole') {\n        const edgeBuffer = 10;\n        let point = new Point(\n            randomWholeBetween(edgeBuffer, this.width - edgeBuffer),\n            randomWholeBetween(edgeBuffer, this.height - edgeBuffer)\n        );\n        if (distribution === 'normal') {\n            point = new Point(\n                randomNormalWholeBetween(edgeBuffer, this.width - edgeBuffer),\n                randomNormalWholeBetween(edgeBuffer, this.height - edgeBuffer)\n            );\n        }\n        return point;\n    }\n\n    isInside(point) {\n        return point.x >= this.x && point.x <= this.x2 && point.y >= this.y && point.y <= this.y2;\n    }\n\n    isOutside(point) {\n        return !this.isInside(point);\n    }\n\n    clipPoint(point) {\n        const np = new Point(point.x, point.y);\n        if (point.x < this.x) np.x = this.x;\n        if (point.x > this.x2) np.x = this.x2;\n        if (point.y < this.y) np.y = this.y;\n        if (point.y > this.y2) np.y = this.y2;\n        return np;\n    }\n\n    wrapPoint(point) {\n        const np = new Point(point.x, point.y);\n        if (point.x < this.x) np.x = this.x2;\n        if (point.x > this.x2) np.x = this.x;\n        if (point.y < this.y) np.y = this.y2;\n        if (point.y > this.y2) np.y = this.y;\n        return np;\n    }\n\n    particleEdgeBounce = (particle) => {\n        const psize = particle.radius;\n        if (particle.x + psize > this.x2) {\n            particle.x = this.x2 - psize;\n            particle.reverseVelocityX();\n        }\n        if (particle.x - psize < this.x) {\n            particle.x = this.x + psize;\n            particle.reverseVelocityX();\n        }\n        if (particle.y + psize > this.y2) {\n            particle.y = this.y2 - psize;\n            particle.reverseVelocityY();\n        }\n        if (particle.y - psize < this.y) {\n            particle.y = this.y + psize;\n            particle.reverseVelocityY();\n        }\n    };\n\n    particleEdgeWrap = (particle) => {\n        const psize = particle.radius;\n        if (particle.x + psize > this.x2) {\n            particle.x = this.x + psize;\n        }\n        if (particle.x - psize < this.x) {\n            particle.x = this.x2 - psize;\n        }\n        if (particle.y + psize > this.y2) {\n            particle.y = this.y + psize;\n        }\n        if (particle.y - psize < this.y) {\n            particle.y = this.y2 - psize;\n        }\n    };\n}\n","// More detailed implementation https://blog.wolfram.com/2016/05/06/computational-stippling-can-machines-do-as-well-as-humans/\nimport tinycolor from 'tinycolor2';\nimport { logInterval, mapRange, TAU } from '../math/math';\nimport { last } from '../utils';\nimport { randomNormalWholeBetween, randomNumberBetween, randomSign, randomWholeBetween } from '../math/random';\n\nconst intervals = logInterval(10, 1, 10);\n\nlet clipping = true;\n\nexport const setTextureClippingMaskEnabled = (v = true) => {\n    clipping = v;\n};\n\nconst getRotatedXYCoords = (x, y, length, theta) => ({\n    x1: x,\n    y1: y,\n    x2: x + length * Math.cos(theta),\n    y2: y + length * Math.sin(theta),\n});\n\nconst getRotatedYCoords = (x, y, length, theta) => ({\n    x1: x,\n    y1: y,\n    x2: x + length, // * Math.cos(theta),\n    y2: y + length * Math.sin(theta),\n});\n\nconst pointLine = (context) => (points, color = 'black', width = 1) => {\n    context.beginPath();\n    context.strokeStyle = tinycolor(color).toRgbString();\n    context.lineWidth = width;\n    context.lineCap = 'butt';\n    context.lineJoin = 'miter';\n\n    points.forEach((coords, i) => {\n        if (i === 0) {\n            context.moveTo(coords[0], coords[1]);\n        } else {\n            context.lineTo(coords[0], coords[1]);\n        }\n    });\n    context.stroke();\n};\n\n// TODO split this fn up\nexport const textureRect = (context) => (\n    x,\n    y,\n    width,\n    height,\n    color = 'black',\n    amount = 5,\n    mode = 'circles2',\n    mult = 1\n) => {\n    if (amount <= 0) return;\n\n    if (clipping) {\n        context.save();\n        const region = new Path2D();\n        region.rect(x, y, width, height);\n        context.clip(region);\n    }\n\n    const quarter = width / 4;\n    const strokeColor = tinycolor(color).toRgbString();\n    const lineWidth = 1;\n    // const numIttr = mapRange(1, 10, 2, 200, amount) * mult;\n    const endValue = mode === 'xhatch' ? 100 : 25;\n    const numIttr = intervals[Math.round(amount) - 1] * mapRange(1, 10, 1, endValue, amount) * mult;\n\n    const maxDim = Math.max(width, height);\n    const maxRadius = maxDim * 0.7;\n\n    for (let i = 0; i < numIttr; i++) {\n        let tx = randomWholeBetween(x, x + width);\n        let ty = randomWholeBetween(y, y + height);\n        let size = randomWholeBetween(quarter, width);\n\n        context.strokeStyle = strokeColor;\n        context.lineWidth = lineWidth;\n        context.beginPath();\n\n        if (mode === 'circles') {\n            context.arc(tx, ty, size, 0, Math.PI * 2, false);\n        } else if (mode === 'circles2') {\n            tx = randomNormalWholeBetween(x, x + width);\n            ty = randomNormalWholeBetween(y, y + height);\n            size = randomWholeBetween(1, maxRadius);\n            context.arc(tx, ty, size, 0, Math.PI * 2, false);\n        } else if (mode === 'xhatch') {\n            const tx2 = tx + size * randomSign();\n            const ty2 = ty + size * randomSign();\n            context.moveTo(tx, ty);\n            context.lineTo(tx2, ty2);\n        }\n\n        context.stroke();\n    }\n    if (clipping) {\n        context.restore();\n    }\n};\n\nexport const textureRectSprials = (context) => (x, y, width, height, color = 'black', amount = 5, mult = 1) => {\n    if (amount <= 0) return;\n\n    const maxDim = Math.max(width, height);\n    const maxRadius = maxDim * 0.7;\n\n    const fillamount = mapRange(1, 10, 30, 150, amount) * mult;\n\n    const numIttr = fillamount; // maxDim * (amount * 0.8);\n    const radIncr = maxRadius / numIttr;\n\n    const thetaIncr = TAU / 50; // Math.floor(amount) * 0.05; // TAU / (Math.floor(amount) * 0.05);\n\n    if (clipping) {\n        context.save();\n        const region = new Path2D();\n        region.rect(x, y, width, height);\n        context.clip(region);\n    }\n\n    const strokeColor = tinycolor(color).toRgbString();\n    const lineWidth = 1;\n\n    context.strokeStyle = strokeColor;\n    context.lineWidth = lineWidth;\n\n    const spirals = intervals[Math.round(amount) - 1] * mapRange(1, 10, 1, 15, amount) * mult;\n    for (let s = 0; s < spirals; s++) {\n        const ox = randomNormalWholeBetween(x, x + width);\n        const oy = randomNormalWholeBetween(y, y + height);\n        let theta = randomNumberBetween(0, TAU);\n        let radius = 0;\n\n        context.beginPath();\n        context.moveTo(ox, oy);\n\n        for (let i = 0; i < numIttr; i++) {\n            radius += radIncr; // + Math.sin(i / 2);\n            theta += thetaIncr;\n            const px = ox + radius * Math.cos(theta);\n            const py = oy + radius * Math.sin(theta);\n            context.lineTo(px, py);\n        }\n\n        context.stroke();\n    }\n    if (clipping) {\n        context.restore();\n    }\n};\n\nexport const textureRectStipple = (context) => (x, y, width, height, color = 'black', amount = 5, theta) => {\n    if (amount <= 0) return;\n    // amount = Math.min(amount, 10);\n    if (clipping) {\n        context.save();\n        const region = new Path2D();\n        region.rect(x, y, width, height);\n        context.clip(region);\n    }\n\n    const strokeColor = tinycolor(color).toRgbString();\n    const size = 3;\n\n    const colStep = width / mapRange(1, 10, 3, width / 3, amount);\n    const rowStep = height / mapRange(1, 10, 3, height / 3, amount);\n\n    context.strokeStyle = strokeColor;\n    context.lineWidth = 2;\n    context.lineCap = 'round';\n\n    theta = theta === undefined ? Math.PI / 3 : theta;\n\n    for (let i = 0; i < width; i += colStep) {\n        for (let j = 0; j < height; j += rowStep) {\n            // about the middle of the cell\n            const tx = x + randomNormalWholeBetween(i, i + colStep);\n            const ty = y + randomNormalWholeBetween(j, j + rowStep);\n\n            const coords = getRotatedYCoords(tx, ty, size, theta);\n\n            const tx2 = coords.x2; // tx + size;\n            const ty2 = coords.y2; // ty + size * -1;\n            context.beginPath();\n            context.moveTo(tx, ty);\n            context.lineTo(tx2, ty2);\n            context.stroke();\n        }\n    }\n\n    if (clipping) {\n        context.restore();\n    }\n};\n\n// TODO needs to getLineIntersectPoint \"nicely\" at the rect area boundaries\n// needs to do a turtle plot since this was based on a plotter effect\nexport const textureRectZigZag = (context) => (\n    x,\n    y,\n    width,\n    height,\n    color = 'black',\n    amount = 5,\n    theta = 0,\n    mult = 1\n) => {\n    if (amount <= 0) return;\n\n    if (clipping) {\n        context.save();\n        const region = new Path2D();\n        region.rect(x, y, width, height);\n        context.clip(region);\n    }\n\n    const points = [];\n\n    const strokeColor = tinycolor(color).toRgbString();\n    const lineWidth = 1;\n\n    const yDelta = width * Math.sin(theta); // height of angle line\n    const yIncrement = height / amount / 2;\n\n    let yincr = 0;\n    const loops = height / yIncrement;\n\n    // keep centered\n    const yOff = yIncrement / 2 - yDelta / 2;\n    let connectSide = 1;\n    let coords = { x1: x, y1: y, x2: x, y2: y };\n    let lastCoords = { x1: x, y1: Math.min(y, y + yOff), x2: x, y2: Math.min(y, y + yOff) };\n\n    // rectFilled(context)(x, y, width, height, '#ddd');\n\n    for (let i = 0; i < loops; i++) {\n        coords = getRotatedYCoords(x, yOff + y + yincr, width, theta);\n\n        // draw bar\n\n        if (yincr === 0) {\n            // line to the top\n            if (coords.y1 > y) {\n                points.push([coords.x1, y]);\n            }\n            points.push([coords.x1, coords.y1]);\n        }\n\n        if (connectSide === 1) {\n            // right\n            points.push([coords.x2, coords.y2]);\n            points.push([coords.x2, coords.y2 + yIncrement]);\n        } else {\n            // left\n            points.push([coords.x1, coords.y1]);\n            points.push([coords.x1, coords.y1 + yIncrement]);\n        }\n\n        yincr += yIncrement;\n        connectSide *= -1;\n        lastCoords = coords;\n    }\n\n    // line to the bottom\n    if (last(points)[1] < y + height) {\n        last(points)[1] = y + height;\n    }\n\n    pointLine(context)(points, strokeColor, lineWidth);\n\n    if (clipping) {\n        context.restore();\n    }\n};\n","module.exports = require('./bundle-url').getBundleURL() + require('./relative-path')(\"3FB7m\", \"9waZR\")","import { Vector } from './Vector';\nimport { pointDistance, pointsOrientation } from './points';\n\n// https://www.xarg.org/2010/02/reduce-the-length-of-a-line-segment-by-a-certain-amount/\nexport const reduceLineFromStart = (p1, p2, r) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n    const mag = Math.sqrt(dx * dx + dy * dy);\n    return {\n        x: p1.x + (r * dx) / mag,\n        y: p1.y + (r * dy) / mag,\n    };\n};\n\nexport const reduceLineFromEnd = (p1, p2, r) => {\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n    const mag = Math.sqrt(dx * dx + dy * dy);\n    return {\n        x: p2.x - (r * dx) / mag,\n        y: p2.y - (r * dy) / mag,\n    };\n};\n\nexport const reduceLineEqually = (p1, p2, r) => {\n    const r2 = r / 2;\n    const dx = p2.x - p1.x;\n    const dy = p2.y - p1.y;\n    const mag = Math.sqrt(dx * dx + dy * dy);\n    return [\n        {\n            x: p1.x + (r2 * dx) / mag,\n            y: p1.y + (r2 * dy) / mag,\n        },\n        {\n            x: p2.x - (r2 * dx) / mag,\n            y: p2.y - (r2 * dy) / mag,\n        },\n    ];\n};\n\nexport const lineSlope = (p1, p2) => (p2.y - p1.y) / (p2.x - p1.x);\n\n// https://github.com/Jam3/chaikin-smooth/blob/master/index.js\nexport const chaikinSmooth = (input, itr = 1) => {\n    if (itr === 0) return input;\n    const output = [];\n\n    for (let i = 0; i < input.length - 1; i++) {\n        const p0 = input[i];\n        const p1 = input[i + 1];\n        const p0x = p0[0];\n        const p0y = p0[1];\n        const p1x = p1[0];\n        const p1y = p1[1];\n\n        const Q = [0.75 * p0x + 0.25 * p1x, 0.75 * p0y + 0.25 * p1y];\n        const R = [0.25 * p0x + 0.75 * p1x, 0.25 * p0y + 0.75 * p1y];\n        output.push(Q);\n        output.push(R);\n    }\n\n    return itr === 1 ? output : chaikinSmooth(output, itr - 1);\n};\n\n// https://stackoverflow.com/questions/9043805/test-if-two-lines-intersect-javascript-function\n// returns true iff the line from (a,b)->(c,d) intersects with (p,q)->(r,s)\nexport const linesIntersect = (a, b, c, d, p, q, r, s) => {\n    const det = (c - a) * (s - q) - (r - p) * (d - b);\n    if (det === 0) {\n        return false;\n    }\n    const lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n    const gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n    return lambda > 0 && lambda < 1 && gamma > 0 && gamma < 1;\n};\n\n// line intercept math by Paul Bourke http://paulbourke.net/geometry/pointlineplane/\n// Determine the intersection point of two line segments Return FALSE if the lines don't getLineIntersectPoint\nexport const getLineIntersectPoint = (x1, y1, x2, y2, x3, y3, x4, y4) => {\n    // Check if none of the lines are of length 0\n    if ((x1 === x2 && y1 === y2) || (x3 === x4 && y3 === y4)) {\n        return false;\n    }\n\n    const denominator = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n\n    // Lines are parallel\n    if (denominator === 0) {\n        return false;\n    }\n\n    const ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denominator;\n    const ub = ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) / denominator;\n\n    // is the intersection along the segments\n    if (ua < 0 || ua > 1 || ub < 0 || ub > 1) {\n        return false;\n    }\n\n    // Return a object with the x and y coordinates of the intersection\n    const x = x1 + ua * (x2 - x1);\n    const y = y1 + ua * (y2 - y1);\n\n    return { x, y };\n};\n\n// Menger curvature of a triple of points in n-dimensional Euclidean space Rn is the reciprocal of\n// the radius of the circleOld that passes through the three points\nexport const mengerCurvature = (p1, p2, p3) => {\n    // https://stackoverflow.com/questions/41144224/calculate-curvature-for-3-points-x-y\n    // possible alternate https://www.mathsisfun.com/geometry/herons-formula.html\n    const triangleArea2 = (a, b, c) => (b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x);\n\n    const t4 = 2 * triangleArea2(p1, p2, p3);\n    const la = pointDistance(p1, p2);\n    const lb = pointDistance(p2, p3);\n    const lc = pointDistance(p3, p1);\n    return t4 / (la * lb * lc);\n};\n\nexport const segment = (x1, y1, x2, y2) => {\n    const start = new Vector(x1, y1);\n    const end = new Vector(x2, y2);\n    return { start, end };\n};\n\nexport const segmentOrientation = ({ start, end }) => pointsOrientation(start, end);\n\nexport const segmentFromPoints = (points) => {\n    const seg = [];\n    for (let i = 0; i < points.length; i += 2) {\n        // if it's an uneven number, dupe the last point\n        const next = i + 1 === points.length ? i : i + 1;\n        seg.push(segment(points[i][0], points[i][1], points[next][0], points[next][1]));\n    }\n    return seg;\n};\n\nexport const segmentsIntersect = (a, b) =>\n    linesIntersect(a.start.x, a.start.y, a.end.x, a.end.y, b.start.x, b.start.y, b.end.x, b.end.y);\n\n// Remove every skip points from a segment to simplify\nexport const trimSegments = (segs, skip = 2) =>\n    segs.reduce((acc, s, i) => {\n        if (i === 0 || i === segs.length - 1) {\n            acc.push(s);\n        } else if (i % skip === 0) {\n            acc.push(s);\n        }\n        return acc;\n    }, []);\n\n// export const connectSegments = (segs) =>\n//     segs.map((s, i) => {\n//         if (i === segs.length - 1) {\n//             return s;\n//         }\n//         const next = segs[i + 1];\n//\n//         const distance = pointDistance({ x: s.end.x, y: s.end.y }, { x: next.start.x, y: s.start.y });\n//         if (distance > 1) {\n//             s.end = new Vector(next.start.x, next.start.y);\n//         }\n//         return s;\n//     });\n\n// For array of points from segments, return the mid point of the segment\n// export const getSegPointsMid = (points) => {\n//     const p = [];\n//     for (let i = 0; i < points.length; i += 2) {\n//         const s = points[i];\n//         const e = points[i + 1];\n//         if (e) {\n//             const midX = s[0] + (e[0] - s[0]) * 0.5;\n//             const midY = s[1] + (e[1] - s[1]) * 0.5;\n//             p.push([midX, midY]);\n//         } else {\n//             p.push(s);\n//         }\n//     }\n//     // last end point\n//     p.push(last(points));\n//     return p;\n// };\n","import { chaikinSmooth, linesIntersect, mengerCurvature } from '../math/segments';\nimport { defaultValue } from '../utils';\nimport { degreesToRadians, lerp, mapRange, percentage, uvFromAngle } from '../math/math';\nimport { Vector } from '../math/Vector';\nimport { arrayPointArrayToVectorArray, pointDistance, arrayVectorToPointArray, trimPointArray } from '../math/points';\n\n/*\nBased on Meander by Robert Hodgin\nhttp://roberthodgin.com/project/meander\n\nAnd Eric's recreations\nhttps://www.reddit.com/r/generative/comments/lfsl8t/pop_art_meandering_river/\n */\n\n/*\nThe settings for the effect are very particular.  Too many points tends to result in \"mushrooming\" of the flow and\non the extreme, oxbows everywhere. But this can be very interesting! Too too few will cause the flow to flatten.\n\n    - Curve measure larger will create larger bubbles\n    - Curve size, even larger bubbles\n    - Seg curve multiplier should be <1\n    - If point remove prox is too low line will create mushrooms. Should be curve size or a few decimal points under\n    - If insertion factor is > 1, then the line will just be straight\n    - Mix mag should be incr in small sizes\n*/\n\n/*\nSettings for a nice medium high turbulence river\n\n// Convenience settings object\nconst cs = {\n    mixTangentRatio: 0.45,\n    mixMagnitude: 1.75,\n    curvemeasure: 4,\n    curvesize: 5,\n    pointremove: 5,\n    oxbowProx: 2.5,\n};\n\nconst mediumRiver = new MeanderingRiver(points, {\n    maxHistory,\n    storeHistoryEvery: historyStep,\n    fixedEndPoints: 3,\n    influenceLimit: 0,\n\n    mixTangentRatio: cs.mixTangentRatio,\n    mixMagnitude: cs.mixMagnitude,\n    oxbowProx: cs.oxbowProx,\n    oxbowPointIndexProx: cs.curvemeasure,\n    measureCurveAdjacent: cs.curvemeasure,\n    curveSize: cs.curvesize,\n    pointRemoveProx: cs.pointremove,\n\n    pushFlowVectorFn: flowRightToMiddle(0.5, canvasMidY),\n\n    noiseFn: noise,\n    noiseMode: 'mix',\n    noiseStrengthAffect: 0,\n    mixNoiseRatio: 0.3,\n});\n\n// history\nrivers.forEach((r, i) => {\n    for (let h = r.history.length - 1; h >= 0; h--) {\n        // const a = mapRange(0, maxHistory, 0.35, 0.1, h);\n        const b = mapRange(0, maxHistory, 5, 20, h);\n        const hcolor = tinycolor.mix(riverColor, backgroundColor, mapRange(0, maxHistory, 0, 100, h)).darken(b);\n        // const hcolor = riverColor.clone().darken(b);\n        const hpoints = r.history[h].channel; // smoothPoints(r.history[h].channel, 8, 3);\n        pointPathPA(ctx)(hpoints, hcolor, riverWeight[i] * 2);\n    }\n});\n\n */\n\nexport class MeanderingRiver {\n    constructor(initPoints, props) {\n        this.startingPoints = initPoints;\n        this.pointVectors = arrayPointArrayToVectorArray(initPoints);\n        this.oxbows = [];\n\n        // Toggle oxbow checking\n        this.handleOxbows = defaultValue(props, 'handleOxbows', true);\n\n        // Wrap around end points circles/closed shapes\n        this.wrapEnd = defaultValue(props, 'wrapEnd', false);\n\n        // %age of line length to fix at each end. Must be >= 1\n        // Setting to 1 will be fixing the first 1 point only, not percentage\n        this.fixedEndPoints = defaultValue(props, 'fixedEndPoints', 1);\n        // how many adjacent points to use to measure the average curvature\n        this.measureCurveAdjacent = defaultValue(props, 'measureCurveAdjacent', 30);\n        // Ineffective multiply the measured curvature vector magnitude to enhance effect\n        this.segCurveMultiplier = defaultValue(props, 'segCurveMultiplier', 1);\n\n        // How much to blend tangent and bitangent, 0 = tangent, 1 = bitangent\n        this.mixTangentRatio = defaultValue(props, 'mixTangentRatio', 0.5);\n        // Magnitude of the mixed vector, increase the effect, < slower\n        this.mixMagnitude = defaultValue(props, 'mixMagnitude', 0);\n        // Limit the influence vector,  less than 1, slower. > 1 no affect\n        this.influenceLimit = defaultValue(props, 'influenceLimit', 0);\n\n        // Additional vector to push the flow in a direction\n        this.pushFlowVectorFn = defaultValue(props, 'pushFlowVectorFn', undefined);\n\n        // Add new points if the distance between is larger\n        this.curveSize = defaultValue(props, 'curveSize', 2);\n        // Multiplier for the amount of new points to add\n        this.insertionFactor = defaultValue(props, 'insertionFactor', 1);\n        // Remove points closer than this\n        this.pointRemoveProx = defaultValue(props, 'pointRemoveProx', this.curveSize * 0.8);\n\n        // Point proximity to create a new oxbow and ...\n        this.oxbowProx = defaultValue(props, 'oxbowProx', this.curveSize);\n        // If points are not this close than create oxbow\n        this.oxbowPointIndexProx = Math.ceil(this.measureCurveAdjacent * 1.5);\n\n        // this.oxbowShrinkRate = defaultValue(props, 'oxbowShrinkRate', 25);\n\n        // Additional flow influence. mix, only, scaleMag, flowInTo\n        this.noiseMode = defaultValue(props, 'noiseMode', 'mix'); // mix or only (mix and exclude less than strength)\n        // Passed x,y returns a small -/+ value\n        this.noiseFn = defaultValue(props, 'noiseFn', undefined);\n        // Values returned from noise fn less than this will be ignored\n        this.noiseStrengthAffect = defaultValue(props, 'noiseStrengthAffect', 3); // only noise theta > will cause drift\n        // Ratio to mix in noise with the calculated influence vector. Best kept less than .3\n        this.mixNoiseRatio = defaultValue(props, 'mixNoiseRatio', 0.1);\n\n        // Store history of the past flows\n        this.steps = 0;\n        this.maxHistory = defaultValue(props, 'maxHistory', 10);\n        this.storeHistoryEvery = defaultValue(props, 'storeHistoryEvery', 2);\n        this.history = [];\n        this.running = true;\n    }\n\n    get points() {\n        return arrayVectorToPointArray(this.pointVectors);\n    }\n\n    addToHistory(ox, channel) {\n        if (this.steps % this.storeHistoryEvery === 0) {\n            this.history.unshift({ oxbows: ox, channel });\n            if (this.history.length > this.maxHistory) {\n                this.history = this.history.slice(0, this.maxHistory);\n            }\n        }\n    }\n\n    // Average Menger curvature of the segments\n    averageMCurvature(points) {\n        const sum = points.reduce((diffs, point, i) => {\n            const prev = i - 1;\n            const next = i + 1;\n            if (prev >= 0 && next < points.length) {\n                diffs += mengerCurvature(points[prev], point, points[next]);\n            }\n            return diffs;\n        }, 0);\n        return degreesToRadians(sum / points.length);\n    }\n\n    // get x# of points on either side of the given point\n    getPointsToMeasure(i, points) {\n        const len = this.measureCurveAdjacent;\n        let min = 0;\n        let max = points.length;\n        // if (this.wrapEnd) {\n        //     // Circular - resulting in poor curve values\n        //     const start = getArrayValuesFromStart(points, i, len);\n        //     const end = getArrayValuesFromEnd(points, i, len);\n        //     return start.concat(end);\n        // }\n        min = i < len ? 0 : i - len;\n        max = i > points.length - len ? points.length : i + len;\n        return points.slice(min, max);\n    }\n\n    // The main part of the effect - most important parts\n    // 1. The curvature of a portion of the points is measured and averaged\n    // 2. The angle/tangent of the current and next points is measured\n    // 3. A perpendicular bitangent is calculated and it's magnitude set to the curvature\n    // 4. A mix vector is created from a blend of the tangent and bitangent\n    curvatureInfluence(point, i, allPoints) {\n        const curvature = this.averageMCurvature(this.getPointsToMeasure(i, allPoints)) * this.segCurveMultiplier;\n        const curveDirection = curvature < 0 ? 1 : -1;\n\n        let nextPoint = allPoints[i + 1];\n\n        if (!nextPoint && this.wrapEnd) {\n            // If wrapped, the next point at the end is the start\n            nextPoint = allPoints[0];\n        }\n\n        const tangent = nextPoint.sub(point);\n        const biangle = tangent.angle() + 1.5708 * curveDirection;\n        const bitangent = uvFromAngle(biangle).setMag(Math.abs(curvature));\n\n        const a = tangent.normalize();\n        const b = bitangent.normalize();\n        let mVector = a.mix(b, this.mixTangentRatio);\n\n        // Noise to add interesting extra flows\n        if (this.noiseFn) {\n            const t = this.noiseFn(point.x, point.y);\n\n            if (this.noiseMode === 'mix' && Math.abs(t) > this.noiseStrengthAffect) {\n                // Mix the strength of the noise\n                const n = uvFromAngle(t);\n                mVector = mVector.mix(n, this.mixNoiseRatio);\n            } else if (this.noiseMode === 'flowInTo') {\n                // \"Flow\" into lower areas, zero out high areas\n                if (t < 0) {\n                    const n = uvFromAngle(t);\n                    mVector = mVector.mix(n, this.mixNoiseRatio);\n                } else {\n                    // TODO scale down based on noise, not zero\n                    mVector = new Vector(0, 0);\n                }\n            } else if (this.noiseMode === 'scaleMag') {\n                const nscale = mapRange(0, this.noiseStrengthAffect, 5, 1, 3, Math.abs(t));\n                mVector = mVector.setMag(nscale);\n            }\n        }\n\n        // Increase the strength\n        if (this.mixMagnitude) {\n            mVector = mVector.setMag(this.mixMagnitude);\n        }\n\n        // Limit the length\n        if (this.influenceLimit > 0) {\n            mVector = mVector.limit(this.influenceLimit);\n        }\n\n        return mVector;\n    }\n\n    // Move the points\n    meanderLinear(points) {\n        // Slice the array in to points to affect (mid) and to not (start and end)\n        const pct = this.fixedEndPoints === 1 ? 1 : Math.max(percentage(points.length, this.fixedEndPoints), 1);\n        const fixedPointsPct = pct;\n\n        const startIndex = fixedPointsPct;\n        const startIndexPoints = points.slice(0, startIndex);\n        const endIndex = points.length - fixedPointsPct;\n        const endIndexPoints = points.slice(endIndex, points.length);\n\n        const middlePoints = points.slice(startIndex, endIndex);\n        const influencedPoints = middlePoints.map((point, i) => {\n            const mixVector = this.curvatureInfluence(point, i + startIndex, points);\n            let infPoint = point.add(mixVector);\n            // Additional motion to the point vectors to push around the screen, sim flows in directions, keep towards\n            // the center of the screen, etc.\n            if (this.pushFlowVectorFn) {\n                const pushVector = this.pushFlowVectorFn(point, mixVector);\n                infPoint = infPoint.add(pushVector);\n            }\n            return infPoint;\n        });\n\n        return startIndexPoints.concat(influencedPoints).concat(endIndexPoints);\n    }\n\n    meanderWrapped(points) {\n        let influencedPoints = [];\n\n        if (points.length > 3) {\n            influencedPoints = points.map((point, i) => {\n                const mixVector = this.curvatureInfluence(point, i, points);\n                let infPoint = point.add(mixVector);\n                // Additional motion to the point vectors to push around the screen, sim flows in directions, keep towards\n                // the center of the screen, etc.\n                if (this.pushFlowVectorFn) {\n                    const pushVector = this.pushFlowVectorFn(point, mixVector);\n                    infPoint = infPoint.add(pushVector);\n                }\n                return infPoint;\n            });\n        } else {\n            // Lines crossed and there were cut off/oxbowed\n            this.running = false;\n            console.log('Meander crossed, stopping');\n        }\n\n        return influencedPoints;\n    }\n\n    canRemovePoint(i, points) {\n        if (this.wrapEnd) {\n            // TODO Should be able to remove the first and last?\n        }\n        const fixed = this.fixedEndPoints || 1;\n        return i > fixed && i < points.length - fixed;\n    }\n\n    // If points are too far apart, add extra points to allow for expansion\n    // If they're too close, remove them to remove uneccessary information\n    // Too many points too close together will trash performance and cause many many oxbows to form w/ short segments\n    adjustPointsSpacing(points) {\n        return points.reduce((acc, point, i) => {\n            if (i === 0 || (i === points.length - 1 && !this.wrapEnd)) {\n                acc.push(point);\n                return acc;\n            }\n\n            let next = points[i + 1];\n\n            if (this.wrapEnd && !next) next = points[0];\n\n            const distance = pointDistance(point, next);\n\n            if (distance > this.curveSize) {\n                // Add points\n                const numInsertPoints = Math.round((distance / this.curveSize) * this.insertionFactor) + 1;\n                for (let k = 0; k < numInsertPoints; k++) {\n                    const ratio = (1 / numInsertPoints) * k;\n                    const nx = lerp(point.x, next.x, ratio);\n                    const ny = lerp(point.y, next.y, ratio);\n                    acc.push(new Vector(nx, ny));\n                }\n            } else if (this.canRemovePoint(i, points) && distance < this.pointRemoveProx) {\n                // Remove points\n            } else {\n                acc.push(point);\n            }\n            return acc;\n        }, []);\n    }\n\n    checkForOxbows(points) {\n        const newPoints = [];\n        for (let i = 0; i < points.length; i++) {\n            const point = points[i];\n            newPoints.push(point);\n            for (let j = i; j < points.length; j++) {\n                // exclude first and last if it's wrapping\n                if ((this.wrapEnd && i === 0) || j === 0 || i === points.length - 1 || j === points.length - 1)\n                    continue;\n\n                const next = points[j];\n                const dist = pointDistance(point, next);\n\n                // Check the proximity of the points on the screen and their proximity in the points array\n                if (dist < this.oxbowProx && Math.abs(i - j) > this.oxbowPointIndexProx) {\n                    newPoints.push(next);\n                    let oxpoints = arrayVectorToPointArray(points.slice(i, j));\n                    oxpoints = chaikinSmooth(trimPointArray(oxpoints, 3), 3);\n                    this.oxbows.push({ points: oxpoints, startLength: oxpoints.length });\n                    // Skip i ahead to j since these points were removed\n                    i = j;\n                }\n            }\n        }\n        return newPoints;\n    }\n\n    // Shrink the oxbows so the \"evaporate\"\n    // TODO - shrink distance between points not just cut off of the end\n    shrinkOxbows(oxbowArr) {\n        return oxbowArr.reduce((oxacc, oxbow) => {\n            const oxpoints = oxbow.points;\n            if (oxpoints.length > 1) {\n                const shrinkPct = 1; // Math.ceil(this.oxbowShrinkRate / oxpoints.length);\n                oxbow.points = oxpoints.reduce((ptacc, point, i) => {\n                    // Check check each channel segment for intersection with an oxbow segment\n                    // If it intersects, remove it\n                    const intersect = this.pointVectors.reduce((acc, cp, k) => {\n                        if (!acc) {\n                            const np = this.pointVectors[k + 1];\n                            const nop = oxpoints[i + 1];\n                            if (np && nop) {\n                                acc = linesIntersect(cp.x, cp.y, np.x, np.y, point[0], point[1], nop[0], nop[1]);\n                            }\n                        }\n                        return acc;\n                    }, false);\n\n                    if (!intersect) {\n                        // remove the first and last point\n                        if (i > shrinkPct && i < oxbow.points.length - shrinkPct) {\n                            ptacc.push(point);\n                        }\n                    }\n\n                    return ptacc;\n                }, []);\n                oxacc.push(oxbow);\n            }\n            return oxacc;\n        }, []);\n    }\n\n    // Execute one step\n    step() {\n        // Running stops if the line crosses it self at the ends and the whole segment is cut ad becomes an oxbow\n        if (this.running) {\n            // influence segments to sim flow and process points\n            let newPoints = this.wrapEnd\n                ? this.meanderWrapped(this.pointVectors)\n                : this.meanderLinear(this.pointVectors);\n            newPoints = this.adjustPointsSpacing(newPoints);\n            if (this.handleOxbows) newPoints = this.checkForOxbows(newPoints);\n\n            this.pointVectors = newPoints;\n\n            if (this.handleOxbows) this.oxbows = this.shrinkOxbows(this.oxbows);\n\n            // Record history\n            this.addToHistory(this.oxbows, arrayVectorToPointArray(this.pointVectors));\n            this.steps++;\n        } else if (this.handleOxbows) this.oxbows = this.shrinkOxbows(this.oxbows);\n    }\n}\n\nexport const flowRight = (p, m) => new Vector(1, 0);\n\nexport const flowDown = (p, m) => new Vector(0, 1);\n\nexport const flowRightToMiddle = (f, mid) => (p, m) => {\n    const dist = Math.abs(mid - p.y);\n    let y = mapRange(0, mid / 2, 0, f, dist);\n    if (p.y > mid) {\n        y *= -1;\n    }\n    return new Vector(1, y);\n};\n","import { lerp } from './math';\nimport { randomNormalWholeBetween } from './random';\n\nconst point = (x, y) => ({ x, y });\nconst midPoint = (a, b) => Math.round((b - a) / 2) + a;\n\n// a...d are 0 or 1\nconst getStateFromCorners = (a, b, c, d) => a * 8 + b * 4 + c * 2 + d * 1;\n\n// a and b are -1 to 1\nconst lerpAmt = (a, b) => (1 - (a + 1)) / (b + 1 - (a + 1));\n\n/*\nCorners and lerps are for marching squares\n\nCorners\n  a---b\n  |   |\n  d---c\n */\nexport class Rectangle {\n    constructor(x, y, width, height, corners) {\n        this.x = x;\n        this.y = y;\n        this.w = width;\n        this.h = height;\n        this.x2 = x + width;\n        this.y2 = y + height;\n        this.mx = midPoint(this.x, this.x2);\n        this.my = midPoint(this.y, this.y2);\n\n        // -1 to 1 noise values\n        this.corners = corners || [0, 0, 0, 0];\n        // array of subdivisions, [rect]\n        this.children = [];\n        // 1 or -1\n        this.phase = 1;\n        this.depth = 0;\n    }\n\n    // 0 to 15\n    get cornerState() {\n        return getStateFromCorners(\n            Math.ceil(this.corners[0]),\n            Math.ceil(this.corners[1]),\n            Math.ceil(this.corners[2]),\n            Math.ceil(this.corners[3])\n        );\n    }\n\n    get cornerAverage() {\n        return (this.average = (this.corners[0] + this.corners[2] + this.corners[2] + this.corners[3]) / 4);\n    }\n\n    get center() {\n        return point(this.mx, this.my);\n    }\n\n    get midTop() {\n        return point(this.mx, this.y);\n    }\n\n    get midRight() {\n        return point(this.x2, this.my);\n    }\n\n    get midBottom() {\n        return point(this.mx, this.y2);\n    }\n\n    get midLeft() {\n        return point(this.x, this.my);\n    }\n\n    get lerpTop() {\n        return point(lerp(this.x, this.x2, lerpAmt(this.corners[0], this.corners[1])), this.y);\n    }\n\n    get lerpRight() {\n        return point(this.x2, lerp(this.y, this.y2, lerpAmt(this.corners[1], this.corners[2])));\n    }\n\n    get lerpBottom() {\n        return point(lerp(this.x, this.x2, lerpAmt(this.corners[3], this.corners[2])), this.y2);\n    }\n\n    get lerpLeft() {\n        return point(this.x, lerp(this.y, this.y2, lerpAmt(this.corners[0], this.corners[3])));\n    }\n\n    get cornerAPx() {\n        return point(this.x, this.y);\n    }\n\n    get cornerBPx() {\n        return point(this.x2, this.y);\n    }\n\n    get cornerCPx() {\n        return point(this.x2, this.y2);\n    }\n\n    get cornerDPx() {\n        return point(this.x, this.y2);\n    }\n\n    getSides(smooth) {\n        return {\n            top: smooth ? this.lerpTop : this.midTop,\n            right: smooth ? this.lerpRight : this.midRight,\n            bottom: smooth ? this.lerpBottom : this.midBottom,\n            left: smooth ? this.lerpLeft : this.midLeft,\n        };\n    }\n\n    randomPointInside() {\n        const x = randomNormalWholeBetween(0, this.w) + this.x;\n        const y = randomNormalWholeBetween(0, this.h) + this.y;\n        return point(x, y);\n    }\n\n    contains(p) {\n        // return p.x >= this.x - this.w && p.x < this.x + this.w && p.y >= this.y - this.h && p.y < this.y + this.h;\n        return p.x >= this.x && p.x < this.x + this.w && p.y >= this.y && p.y < this.y + this.h;\n    }\n\n    intersects(rect) {\n        return !(\n            rect.x - rect.w > this.x + this.w ||\n            rect.x + rect.w < this.x - this.w ||\n            rect.y - rect.h > this.y + this.h ||\n            rect.y + rect.h < this.y - this.h\n        );\n    }\n\n    subdivide() {\n        const halfW = this.w / 2;\n        const halfH = this.h / 2;\n\n        this.children.push(new Rectangle(this.x, this.y, halfW, halfH));\n        this.children.push(new Rectangle(this.x + halfW, this.y, halfW, halfH));\n        this.children.push(new Rectangle(this.x, this.y + halfH, halfW, halfH));\n        this.children.push(new Rectangle(this.x + halfW, this.y + halfH, halfW, halfH));\n        this.children.forEach((c) => {\n            c.phase *= -1;\n            c.parent = this;\n            c.depth = this.depth + 1;\n        });\n    }\n}\n\nexport class Square extends Rectangle {\n    constructor(x, y, size, corners = [0, 0, 0, 0]) {\n        super(x, y, size, size, corners);\n        this.size = size;\n    }\n}\n\nexport const createRectGrid = (x, y, w, h, cols = 2, rows = 2, colgap = 0, rowgap = 0) => {\n    const rects = [];\n    const colw = Math.round((w - (cols - 1) * colgap) / cols);\n    const rowh = Math.round((h - (rows - 1) * rowgap) / rows);\n\n    for (let i = 0; i < cols; i++) {\n        for (let j = 0; j < rows; j++) {\n            const rx = i * (colw + colgap) + x;\n            const ry = j * (rowh + rowgap) + y;\n            rects.push(new Rectangle(rx, ry, colw, rowh));\n        }\n    }\n\n    return rects;\n};\n","// https://thecodingtrain.com/challenges/coding-in-the-cabana/005-marching-squares.html\n// https://editor.p5js.org/codingtrain/sketches/18cjVoAX1\n// http://jamie-wong.com/2014/08/19/metaballs-and-marching-squares/\n// https://en.wikipedia.org/wiki/Marching_squares#/media/File:Marching_squares_algorithm.svg\n\nimport { strokeColor } from '../canvas/canvas';\nimport { line } from '../canvas/primatives';\nimport { createRectGrid } from '../math/Rectangle';\nimport { mapRange } from '../math/math';\n\nexport const isoline = (context, rect, smooth = false) => {\n    const drawLine = (p1, p2) => line(context)(p1.x, p1.y, p2.x, p2.y);\n    const sides = rect.getSides(smooth);\n    switch (rect.cornerState) {\n        case 1:\n        case 14:\n            drawLine(sides.left, sides.bottom);\n            break;\n        case 2:\n        case 13:\n            drawLine(sides.bottom, sides.right);\n            break;\n        case 3:\n        case 12:\n            drawLine(sides.left, sides.right);\n            break;\n        case 4:\n            drawLine(sides.top, sides.right);\n            break;\n        case 5:\n            drawLine(sides.left, sides.top);\n            drawLine(sides.bottom, sides.right);\n            break;\n        case 6:\n        case 9:\n            drawLine(sides.top, sides.bottom);\n            break;\n        case 7:\n        case 8:\n            drawLine(sides.left, sides.top);\n            break;\n        case 10:\n            drawLine(sides.left, sides.bottom);\n            drawLine(sides.top, sides.right);\n            break;\n        case 11:\n            drawLine(sides.top, sides.right);\n            break;\n        case 0:\n        case 15:\n        default:\n            break;\n    }\n};\n\n/*\nconst isolowColor = flatColor.clone().darken(2);\nconst isohighColor = backgroundColor.clone().brighten(10);\n\nconst slices = [\n    { nmin: -7, nmax: 7, omin: -1, omax: 1, color: isohighColor },\n    { nmin: -6, nmax: -4, omin: -1, omax: 1, color: isolowColor },\n    { nmin: -4, nmax: -2, omin: -1, omax: 1, color: isolowColor },\n    { nmin: -2, nmax: 0, omin: -1, omax: 1, color: isolowColor },\n    { nmin: 0, nmax: 2, omin: -1, omax: 1, color: isohighColor },\n    { nmin: 2, nmax: 4, omin: -1, omax: 1, color: isohighColor },\n    { nmin: 4, nmax: 6, omin: -1, omax: 1, color: isohighColor },\n];\n\nrenderIsolines(context, canvas, noiseFn, 0, 80, true, slices);\n */\n\nexport const renderIsolines = (\n    context,\n    { width, height },\n    noiseFn2d,\n    margin = 0,\n    resolution = 50,\n    smoothing = true,\n    slices\n) => {\n    const squares = createRectGrid(margin, margin, width - margin * 2, height - margin * 2, resolution, resolution);\n    slices = slices || [{ nmin: -7, nmax: 7, omin: -1, omax: 1 }];\n    squares.forEach((s) => {\n        slices.forEach((slice) => {\n            s.corners = [s.cornerAPx, s.cornerBPx, s.cornerCPx, s.cornerDPx].map((c) => {\n                const noise = noiseFn2d(c.x, c.y);\n                return mapRange(slice.nmin, slice.nmax, slice.omin, slice.omax, noise);\n            });\n            if (slice.color) {\n                strokeColor(context)(slice.color);\n            }\n            isoline(context, s, smoothing);\n        });\n    });\n};\n","import tinycolor from 'tinycolor2';\nimport { line, circleFilled, rectFilled, rect, arcQuarter, circle } from '../canvas/primatives';\nimport { setContext } from '../canvas/canvas';\n\nexport const motifList = ['\\\\', '/', '-', '|', '+', '+.', 'x.', 'fnw', 'fne', 'fsw', 'fse', 'tn', 'ts', 'te', 'tw'];\n\n// http://archive.bridgesmathart.org/2018/bridges2018-39.pdf\n// https://observablehq.com/@osteele/truchet-carlson-tiles\n// https://christophercarlson.com/portfolio/multi-scale-truchet-patterns/\n// Scaling changes by a factor of 2, and the fore/back colors should swap at each change\nexport const truchet = (context, rectangle, fore = 'black', back = 'white') => {\n    const half = rectangle.w / 2;\n    const third = rectangle.w / 3;\n    const twoThirds = third * 2;\n    const sixth = rectangle.w / 6;\n\n    let foreColor = fore;\n    let backColor = back;\n\n    if (rectangle.phase < 0) {\n        foreColor = back;\n        backColor = fore;\n    }\n\n    context.beginPath();\n\n    setContext(context)({\n        strokeStyle: tinycolor(foreColor).toRgbString(),\n        fillStyle: tinycolor(foreColor).toRgbString(),\n        lineCap: 'butt',\n        lineWidth: third,\n        lineJoin: 'round',\n    });\n\n    rectFilled(context)(rectangle.x, rectangle.y, rectangle.w, rectangle.w, backColor);\n\n    const motif = motifList[rectangle.motif];\n\n    switch (motif) {\n        case '\\\\':\n            arcQuarter(context)(rectangle.x2, rectangle.y, half, Math.PI / 2);\n            arcQuarter(context)(rectangle.x, rectangle.y2, half, Math.PI * 1.5);\n            break;\n        case '/':\n            arcQuarter(context)(rectangle.x, rectangle.y, half, 0);\n            arcQuarter(context)(rectangle.x2, rectangle.y2, half, Math.PI);\n            break;\n        case '-':\n            line(context)(rectangle.x, rectangle.my, rectangle.x2, rectangle.my);\n            break;\n        case '|':\n            line(context)(rectangle.mx, rectangle.y, rectangle.mx, rectangle.y2);\n            break;\n        case '+':\n            line(context)(rectangle.x, rectangle.my, rectangle.x2, rectangle.my);\n            line(context)(rectangle.mx, rectangle.y, rectangle.mx, rectangle.y2);\n            break;\n        case '+.':\n            // default wing background\n            break;\n        case 'x.':\n            rectFilled(context)(rectangle.x, rectangle.y, rectangle.w, rectangle.w, foreColor);\n            break;\n        case 'fnw':\n            arcQuarter(context)(rectangle.x, rectangle.y, half, 0);\n            break;\n        case 'fne':\n            arcQuarter(context)(rectangle.x2, rectangle.y, half, Math.PI / 2);\n            break;\n        case 'fsw':\n            arcQuarter(context)(rectangle.x, rectangle.y2, half, Math.PI * 1.5);\n            break;\n        case 'fse':\n            arcQuarter(context)(rectangle.x2, rectangle.y2, half, Math.PI);\n            break;\n        case 'tn':\n            rectFilled(context)(rectangle.x, rectangle.y, rectangle.w, twoThirds, foreColor);\n            break;\n        case 'ts':\n            rectFilled(context)(rectangle.x, rectangle.y + third, rectangle.w, twoThirds, foreColor);\n            break;\n        case 'te':\n            rectFilled(context)(rectangle.x + third, rectangle.y, twoThirds, rectangle.w, foreColor);\n            break;\n        case 'tw':\n            rectFilled(context)(rectangle.x, rectangle.y, twoThirds, rectangle.w, foreColor);\n            break;\n        case 15:\n        default:\n            // \"x.\"\n            rectFilled(context)(rectangle.x, rectangle.y, rectangle.w, rectangle.w, foreColor);\n            break;\n    }\n\n    circleFilled(context)(rectangle.x, rectangle.y, third, backColor);\n    circleFilled(context)(rectangle.x2, rectangle.y, third, backColor);\n    circleFilled(context)(rectangle.x2, rectangle.y2, third, backColor);\n    circleFilled(context)(rectangle.x, rectangle.y2, third, backColor);\n\n    circleFilled(context)(rectangle.mx, rectangle.y, sixth, foreColor);\n    circleFilled(context)(rectangle.x2, rectangle.my, sixth, foreColor);\n    circleFilled(context)(rectangle.mx, rectangle.y2, sixth, foreColor);\n    circleFilled(context)(rectangle.x, rectangle.my, sixth, foreColor);\n\n    // rect(context)(rectangle.x + 1, rectangle.y + 1, rectangle.w - 2, rectangle.h - 2, 1, 'green');\n\n    context.closePath();\n};\n\nconst endLineMult = 1.25;\n\nconst sqTileLinesHorizontal = (context) => (\n    x,\n    y,\n    w,\n    h,\n    lineWidth,\n    num = 5,\n    margin = 0,\n    foreColor = 'black',\n    backColor = 'white'\n) => {\n    context.save();\n    const region = new Path2D();\n    region.rect(x, y, w, h);\n    context.clip(region);\n\n    y += margin;\n    h -= margin * 2;\n\n    const x2 = x + w;\n    const gap = h / num;\n\n    context.strokeStyle = tinycolor(foreColor).toRgbString();\n    rectFilled(context)(x, y, w, h, backColor);\n\n    for (let i = 0; i < num + 1; i++) {\n        let iy = y + i * gap;\n\n        if (i === 0 || i === num) {\n            context.lineWidth = lineWidth * endLineMult;\n            if (i === 0) {\n                iy += lineWidth * endLineMult;\n            } else {\n                iy -= lineWidth * endLineMult;\n            }\n        } else {\n            context.lineWidth = lineWidth;\n        }\n\n        line(context)(x, iy, x2, iy);\n    }\n\n    context.restore();\n};\n\nconst sqTileLinesVertical = (context) => (\n    x,\n    y,\n    w,\n    h,\n    lineWidth,\n    num = 5,\n    margin = 0,\n    foreColor = 'black',\n    backColor = 'white'\n) => {\n    if (margin) {\n        sqTileLinesHorizontal(x, y, w, h, lineWidth, num, margin, foreColor, backColor);\n    }\n\n    context.save();\n    const region = new Path2D();\n    region.rect(x, y, w, h);\n    context.clip(region);\n\n    x += margin;\n    w -= margin * 2;\n\n    const y2 = y + h;\n    const gap = w / num;\n\n    context.strokeStyle = tinycolor(foreColor).toRgbString();\n    rectFilled(context)(x, y, w, h, backColor);\n\n    for (let i = 0; i < num + 1; i++) {\n        let ix = x + i * gap;\n\n        if (i === 0 || i === num) {\n            context.lineWidth = lineWidth * endLineMult;\n            if (i === 0) {\n                ix += lineWidth * endLineMult;\n            } else {\n                ix -= lineWidth * endLineMult;\n            }\n        } else {\n            context.lineWidth = lineWidth;\n        }\n\n        line(context)(ix, y, ix, y2);\n    }\n\n    context.restore();\n};\n\nconst rings = (context) => (x, y, r, lineWidth, num = 5, margin = 0, foreColor = 'black', backColor = 'white') => {\n    r -= margin * 2;\n\n    const gap = r / num;\n\n    context.strokeStyle = tinycolor(foreColor).toRgbString();\n    if (backColor) circleFilled(context)(x, y, r + margin, backColor);\n\n    for (let i = 0; i < num + 1; i++) {\n        let ir = i * gap + margin;\n\n        if (i === 0 || i === num) {\n            context.lineWidth = lineWidth * endLineMult;\n            if (i === 0) {\n                ir += lineWidth * endLineMult;\n            } else {\n                ir -= lineWidth * endLineMult;\n            }\n        } else {\n            context.lineWidth = lineWidth;\n        }\n\n        circle(context)(x, y, ir, foreColor);\n    }\n};\n\nconst sqTileCornerArc = (context) => (\n    x,\n    y,\n    r,\n    lineWidth,\n    c = 0,\n    num = 5,\n    margin = 0,\n    foreColor = 'black',\n    backColor = 'white'\n) => {\n    context.save();\n    const region = new Path2D();\n    region.rect(x, y, r, r);\n    context.clip(region);\n\n    context.strokeStyle = tinycolor(foreColor).toRgbString();\n    rectFilled(context)(x, y, r, r, backColor);\n\n    const x2 = x + r;\n    const y2 = y + r;\n\n    if (c === 0) {\n        // top left\n        rings(context)(x2, y2, r, lineWidth, num, margin, foreColor, null);\n        rings(context)(x, y, r, lineWidth, num, margin, foreColor, backColor);\n    } else if (c === 1) {\n        // top right\n        rings(context)(x, y2, r, lineWidth, num, margin, foreColor, null);\n        rings(context)(x2, y, r, lineWidth, num, margin, foreColor, backColor);\n    } else if (c === 2) {\n        // bottom left\n        rings(context)(x, y2, r, lineWidth, num, margin, foreColor, null);\n        rings(context)(x2, y, r, lineWidth, num, margin, foreColor, backColor);\n    } else {\n        // bottom right\n        rings(context)(x, y, r, lineWidth, num, margin, foreColor, null);\n        rings(context)(x2, y2, r, lineWidth, num, margin, foreColor, backColor);\n    }\n\n    context.restore();\n};\n\nexport const motifListInterlaced = ['-', '|', 'fnw', 'fne', 'fsw', 'fse'];\n\n// https://www.reddit.com/r/generative/comments/ju1xjr/truchet_tiles_pen_plot/\nexport const truchetInterlaced = (\n    context,\n    rectangle,\n    lines = 3,\n    lineWidth = 1,\n    margin = 0,\n    fore = 'black',\n    back = 'white'\n) => {\n    let foreColor = fore;\n    let backColor = back;\n\n    if (rectangle.phase < 0) {\n        foreColor = back;\n        backColor = fore;\n    }\n\n    context.beginPath();\n\n    setContext(context)({\n        strokeStyle: tinycolor(foreColor).toRgbString(),\n        fillStyle: tinycolor(foreColor).toRgbString(),\n        lineCap: 'butt',\n        lineWidth,\n        lineJoin: 'bevel',\n    });\n\n    rectFilled(context)(rectangle.x, rectangle.y, rectangle.w, rectangle.w, backColor);\n\n    const motif = motifListInterlaced[rectangle.motif];\n\n    switch (motif) {\n        case '-':\n            sqTileLinesVertical(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                rectangle.w,\n                lineWidth,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            sqTileLinesHorizontal(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                rectangle.w,\n                lineWidth,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            break;\n        case '|':\n            sqTileLinesHorizontal(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                rectangle.w,\n                lineWidth,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            sqTileLinesVertical(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                rectangle.w,\n                lineWidth,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            break;\n        case 'fnw':\n            sqTileCornerArc(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                lineWidth,\n                0,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            break;\n        case 'fne':\n            sqTileCornerArc(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                lineWidth,\n                1,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            break;\n        case 'fsw':\n            sqTileCornerArc(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                lineWidth,\n                2,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            break;\n        case 'fse':\n            sqTileCornerArc(context)(\n                rectangle.x,\n                rectangle.y,\n                rectangle.w,\n                lineWidth,\n                3,\n                lines,\n                margin,\n                foreColor,\n                back\n            );\n            break;\n        default:\n            // \"x.\"\n            break;\n    }\n\n    context.closePath();\n};\n","/*\nOriginally from Coding Train https://www.youtube.com/watch?v=OJxEcs0w_kE&t=0s parts 1 and 2\nCommunity version - https://github.com/CodingTrain/QuadTree/blob/main/quadtree.js\nhttps://georgefrancis.dev/writing/generative-grid-layouts-with-quadtrees/\n */\n\nimport { Rectangle } from './Rectangle';\nimport { pixel, rect } from '../canvas/primatives';\nimport { randomWholeBetween } from './random';\nimport { truchet } from '../systems/truchetTiles';\n\n/*\nTODO\n- [ ] Max depth\n- [ ] margin between subdivisions\n\n\nCorners\nnw---ne\n|     |\nsw---se\n\nRect, corners\n  a---b\n  |   |\n  d---c\n*/\nexport class QuadTree {\n    constructor(boundary, capacity = 4, margin = 0, maxd = 0) {\n        this.boundary = boundary;\n        this.capacity = capacity;\n        this.points = [];\n        this.divided = false;\n\n        this.maxDepth = maxd;\n        this.margin = margin;\n\n        // 1 or -1\n        this.phase = 1;\n        this.depth = 0;\n\n        this.northwest = undefined;\n        this.northeast = undefined;\n        this.southwest = undefined;\n        this.southeast = undefined;\n    }\n\n    get subdivisions() {\n        return this.divided ? [this.northwest, this.northeast, this.southeast, this.southwest] : [];\n    }\n\n    subdivide() {\n        const { x, y, w, h } = this.boundary;\n\n        const halfW = w / 2 + this.margin;\n        const halfH = h / 2 + this.margin;\n\n        const divWidth = w / 2 - this.margin;\n        const divHeight = h / 2 - this.margin;\n\n        const nw = new Rectangle(x, y, divWidth, divHeight);\n        const ne = new Rectangle(x + halfW, y, divWidth, divHeight);\n        const sw = new Rectangle(x, y + halfH, divWidth, divHeight);\n        const se = new Rectangle(x + halfW, y + halfH, divWidth, divHeight);\n\n        this.northwest = new QuadTree(nw, this.capacity, this.margin, this.maxDepth);\n        this.northeast = new QuadTree(ne, this.capacity, this.margin, this.maxDepth);\n        this.southwest = new QuadTree(sw, this.capacity, this.margin, this.maxDepth);\n        this.southeast = new QuadTree(se, this.capacity, this.margin, this.maxDepth);\n\n        this.divided = true;\n\n        this.subdivisions.forEach((s) => {\n            s.phase = this.phase * -1;\n            s.depth = this.depth + 1;\n        });\n    }\n\n    insert(p) {\n        if (!this.boundary.contains(p)) {\n            return false;\n        }\n\n        if (this.points.length < this.capacity) {\n            this.points.push(p);\n            return true;\n        }\n\n        // if (this.maxDepth && this.depth === this.maxDepth) return;\n\n        if (!this.divided) {\n            this.subdivide();\n        }\n        return (\n            this.northwest.insert(p) || this.northeast.insert(p) || this.southwest.insert(p) || this.southeast.insert(p)\n        );\n    }\n\n    query(rectangle, arry = []) {\n        if (!this.boundary.intersects(rectangle)) return;\n\n        this.points.forEach((p) => {\n            if (rectangle.contains(p)) {\n                arry.push(p);\n            }\n        });\n\n        if (this.divided) {\n            this.subdivisions.forEach((s) => {\n                s.query(rectangle, arry);\n            });\n        }\n\n        return arry;\n    }\n\n    flatten(arry = []) {\n        if (this.divided) {\n            this.subdivisions.forEach((s) => {\n                s.flatten(arry);\n            });\n        } else {\n            arry.push(this);\n        }\n\n        return arry;\n    }\n}\n\nexport const flatDepthSortedAsc = (qt) => qt.flatten().sort((a, b) => a.depth - b.depth);\n\nexport const quadTreeFromPoints = (boundary, capacity, points, margin = 0, maxd = 0) => {\n    const quadtree = new QuadTree(boundary, capacity, margin, maxd);\n    points.forEach((p) => quadtree.insert(p));\n    return quadtree;\n};\n\nexport const show = (context) => (qt) => {\n    const { x, y, w, h } = qt.boundary;\n    if (qt.phase === -1) {\n        rect(context)(x, y, w, h, 0.5, 'black');\n    } else {\n        rect(context)(x, y, w, h, 0.5, 'red');\n    }\n\n    qt.points.forEach((p) => {\n        pixel(context)(p.x, p.y, 'black', 'square', 2);\n    });\n    if (qt.divided) {\n        qt.subdivisions.forEach((s) => {\n            show(context)(s);\n        });\n    }\n};\n","import { variation5 } from './released/variation5';\nimport { threeAttractors } from './released/threeAttractors';\nimport { hiImage01 } from './released/hiImage01';\nimport { waves01b } from './released/waves01b';\nimport { lissajous01 } from './released/lissajous01';\nimport { flowFieldParticles } from './released/flow-field-particles';\nimport { flowFieldArcs } from './released/flow-field-arcs';\nimport { flowFieldImage } from './released/flow-field-image';\nimport { radialNoise } from './released/radial-noise';\nimport { flowFieldRibbons } from './released/flow-field-ribbons';\nimport { flowFieldRibbons2 } from './released/flow-field-ribbons-2';\nimport { shadedBoxes } from './released/shaded-boxes';\nimport { larrycarlson02 } from './released/larrycarlson02';\nimport { meanderingRiver02 } from './released/meandering-river-02';\nimport { meanderingRiver01 } from './released/meandering-river-01';\nimport { truchetTiles } from './released/truchet-tiles';\nimport { truchetTiles02 } from './released/truchet-tiles-02';\n\nexport const variationsIndex = {\n    5: {\n        note: 'Like spider webs',\n        sketch: variation5,\n    },\n    8: {\n        note: 'One attractor in the center, two on the sides.',\n        sketch: threeAttractors,\n    },\n    9: {\n        note: 'Say Hi',\n        sketch: hiImage01,\n    },\n    11: {\n        note: 'Inspired by Churn, Kenny Vaden https://www.reddit.com/r/generative/comments/lq8r11/churn_r_code/',\n        sketch: waves01b,\n    },\n    12: {\n        note: 'Experimenting with rose shapes. Refresh for new randomized set.',\n        sketch: lissajous01,\n    },\n    13: {\n        note: 'Particles and fibers flowing with 3d simplex noise.',\n        sketch: flowFieldParticles,\n    },\n    14: {\n        note: 'Arcs flowing with 3d simplex noise.',\n        sketch: flowFieldArcs,\n    },\n    15: {\n        note: 'Rendering an image with flow fields. Photo by Francesca Zama https://unsplash.com/photos/OFjnQOf1pPA',\n        sketch: flowFieldImage,\n    },\n    16: {\n        note: 'Simplex noise going around ...',\n        sketch: radialNoise,\n    },\n    17: {\n        note: 'Ribbons attracted to an attractor',\n        sketch: flowFieldRibbons,\n    },\n    18: {\n        note: 'Ribbons attracted to an attractor',\n        sketch: flowFieldRibbons2,\n    },\n    19: {\n        note: 'Shaded boxes with flow field particles.',\n        sketch: shadedBoxes,\n    },\n    20: {\n        note: 'Render an image in the wavy art style of Larry Carlson',\n        sketch: larrycarlson02,\n    },\n    21: {\n        note: 'Based on \"Meander\" by Robert Hodgin and an implementation by Eric on Reddit',\n        sketch: meanderingRiver02,\n    },\n    22: {\n        note: 'Meandering river over landscape. Refresh for new terrain. Based on \"Meander\" by Robert Hodgin.',\n        sketch: meanderingRiver01,\n    },\n    23: {\n        note: 'Multiscale Truchet Tiles',\n        sketch: truchetTiles,\n    },\n    24: {\n        note: 'Interlaced Truchet Tiles',\n        sketch: truchetTiles02,\n    },\n};\n","import { mapRange } from '../rndrgen/math/math';\nimport { Particle, createRandomParticleValues } from '../rndrgen/systems/Particle';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { connectParticles, particlePoint } from '../rndrgen/canvas/particles';\nimport { createRandomNumberArray } from '../rndrgen/math/random';\n\nconst createGridPointsXY = (width, height, xMargin, yMargin, columns, rows) => {\n    const gridPoints = [];\n\n    const colStep = Math.round((width - xMargin * 2) / (columns - 1));\n    const rowStep = Math.round((height - yMargin * 2) / (rows - 1));\n\n    for (let col = 0; col < columns; col++) {\n        const x = xMargin + col * colStep;\n        for (let row = 0; row < rows; row++) {\n            const y = yMargin + row * rowStep;\n            gridPoints.push([x, y]);\n        }\n    }\n\n    return { points: gridPoints, columnWidth: colStep, rowHeight: rowStep };\n};\n\nexport const threeAttractors = () => {\n    const config = {\n        // width: 500,\n        // height: 500,\n        // fps: 24,\n    };\n\n    let numParticles;\n    const particlesArray = [];\n    let gridPoints = [];\n    const hue = 0;\n\n    let attractorDist;\n\n    let leftattractor;\n    let midattractor;\n    let rightattractor;\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = ({ canvas, context }) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        attractorDist = canvas.width / 0.7;\n\n        leftattractor = { x: 0, y: canvas.height / 2, mass: 10, g: 3 };\n        midattractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 50, g: 10 };\n        rightattractor = { x: canvas.width, y: canvas.height / 2, mass: 10, g: 3 };\n\n        gridPoints = createGridPointsXY(canvas.width, canvas.height, 100, 100, canvas.width / 50, canvas.height / 50)\n            .points;\n        numParticles = gridPoints.length;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = gridPoints[i][0];\n            props.y = gridPoints[i][1];\n            props.velocityX = 0;\n            props.velocityY = 0;\n            props.mass = 1;\n            props.radius = 1; // randomNumberBetween(10, 30);\n            props.spikes = createRandomNumberArray(20, 0, 360);\n\n            const h = mapRange(0, canvas.width, 0, 90, props.x);\n            const s = 100; // lerpRange(0,10,0,100,prop.radius);\n            const l = 50; // lerpRange(0,10,25,75,prop.radius);\n            props.color = `hsla(${h},${s}%,${l}%,0.1)`;\n\n            // props.color = { r: 0, g: 0, b: 0, a: 0.1 };\n\n            particlesArray.push(new Particle(props));\n        }\n\n        background(canvas, context)('white');\n    };\n\n    const draw = ({ canvas, context, mouse }) => {\n        // background(canvas, context)({ r: 255, g: 255, b: 255, a: 0.001 });\n        for (let i = 0; i < numParticles; i++) {\n            particlesArray[i].attract(leftattractor, -1, attractorDist);\n            particlesArray[i].attract(midattractor, 1, attractorDist);\n            particlesArray[i].attract(rightattractor, -1, attractorDist);\n\n            particlesArray[i].velocity = particlesArray[i].velocity.limit(10);\n\n            particlesArray[i].updatePosWithVelocity();\n            // edgeBounce(canvas, particlesArray[i]);\n            particlePoint(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 50, false);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { mapRange, uvFromAngle, snapNumber, quantize } from '../rndrgen/math/math';\nimport { edgeWrap, Particle, createRandomParticleValues } from '../rndrgen/systems/Particle';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { Vector } from '../rndrgen/math/Vector';\nimport { simplexNoise3d } from '../rndrgen/math/attractors';\nimport { hslFromRange } from '../rndrgen/color/palettes';\nimport { randomWholeBetween } from '../rndrgen/math/random';\nimport { circleFilled } from '../rndrgen/canvas/primatives';\n\nexport const flowFieldParticles = () => {\n    const config = {\n        name: 'flowFieldParticles',\n        ratio: ratio.square,\n        scale: scale.standard,\n    };\n\n    const numParticles = 400;\n    const particlesArray = [];\n    const maxSize = 3;\n\n    let time = 0;\n\n    const createRandomParticle = (canvas) => {\n        const props = createRandomParticleValues(canvas);\n        props.x = randomWholeBetween(0, canvas.width);\n        props.y = randomWholeBetween(0, canvas.height);\n        props.velocityX = 0;\n        props.velocityY = 0;\n        return new Particle(props);\n    };\n\n    const setup = ({ canvas, context }) => {\n        for (let i = 0; i < numParticles; i++) {\n            particlesArray.push(createRandomParticle(canvas));\n        }\n\n        background(canvas, context)('rgba(50,50,50,1)');\n    };\n\n    const drawPixel = (canvas, context, force, particle, color, rad = 1) => {\n        particle.applyForce(force);\n        particle.velocity = particle.velocity.limit(1);\n        particle.updatePosWithVelocity();\n        edgeWrap(canvas, particle);\n        const pcolor = color || particle.color;\n        const x = snapNumber(maxSize * 2, particle.x);\n        const y = snapNumber(maxSize * 2, particle.y);\n        circleFilled(context)(x, y, rad, pcolor);\n        return true;\n    };\n\n    const drawParticles = ({ canvas, context }) => {\n        for (let i = 0; i < numParticles; i++) {\n            const particle = particlesArray[i];\n            const sNoise3d = simplexNoise3d(particle.x, particle.y, time, 0.002);\n            const theta = quantize(3, sNoise3d);\n            const force = uvFromAngle(theta);\n            const clr = hslFromRange(5, 270, 360, Math.abs(theta)).setAlpha(0.25);\n            const size = mapRange(0, 5, 1, maxSize, Math.abs(theta));\n\n            drawPixel(canvas, context, force, particle, clr, size);\n\n            particle.acceleration = new Vector(0, 0);\n        }\n    };\n\n    const drawFibers = ({ canvas, context }) => {\n        const particle = createRandomParticle(canvas);\n        const length = 200;\n        for (let i = 0; i < length; i++) {\n            const sNoise3d = simplexNoise3d(particle.x, particle.y, time, 0.002);\n            const theta = sNoise3d;\n            const force = uvFromAngle(theta);\n            const clr = 'rgba(0,0,0,.05)';\n\n            drawPixel(canvas, context, force, particle, clr, 1);\n\n            particle.acceleration = new Vector(0, 0);\n        }\n    };\n\n    const draw = ({ canvas, context }) => {\n        drawFibers({ canvas, context });\n        drawParticles({ canvas, context });\n        time += 0.01;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { Particle, createRandomParticleValues } from '../rndrgen/systems/Particle';\nimport { background, resetContext } from '../rndrgen/canvas/canvas';\nimport { mapRange, uvFromAngle } from '../rndrgen/math/math';\nimport { ratio, scale } from '../rndrgen/Sketch';\nimport { palettes, warmGreyDark, warmWhite, warmPink, paperWhite, bicPenBlue } from '../rndrgen/color/palettes';\nimport { Box } from '../rndrgen/systems/Box';\nimport { simplexNoise3d } from '../rndrgen/math/attractors';\nimport { Vector } from '../rndrgen/math/Vector';\nimport { textureRectZigZag, textureRectStipple, textureRect } from '../rndrgen/canvas/textures';\nimport { connectParticles, particlePoint } from '../rndrgen/canvas/particles';\nimport { getGridCells } from '../rndrgen/math/grids';\nimport { oneOf } from '../rndrgen/math/random';\nimport { pixel } from '../rndrgen/canvas/primatives';\n\nexport const shadedBoxes = () => {\n    const config = {\n        name: 'shadedBoxes',\n        ratio: ratio.square,\n        scale: scale.standard,\n    };\n\n    const numParticles = 30;\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n    let grid;\n    const boxes = [];\n    const palette = palettes.pop;\n    let time = 0;\n\n    const setup = ({ canvas, context }) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        background(canvas, context)(paperWhite);\n\n        const boxwhite = paperWhite.clone().darken(10).saturate(10);\n        const boxbg = [boxwhite, bicPenBlue];\n        const boxfg = [bicPenBlue, boxwhite];\n\n        const gridMargin = Math.round(canvas.width / 10);\n        const gridGutter = Math.round(gridMargin / 4);\n\n        grid = getGridCells(canvas.width, canvas.height, 1, 10, gridMargin, gridGutter);\n\n        grid.points.forEach((p, i) => {\n            boxes.push(\n                new Box({\n                    canvas,\n                    context,\n                    x: p[0],\n                    y: p[1],\n                    width: grid.columnWidth,\n                    height: grid.rowHeight,\n                })\n            );\n        });\n\n        let freq = 0.0001;\n\n        boxes.forEach((b, bidx) => {\n            const particles = [];\n            const clr = bidx % 2 === 0 ? 0 : 1;\n            b.backgroundColor = bicPenBlue.clone(); // boxbg[clr];\n            b.flowField = (x, y, t) => simplexNoise3d(x, y, t, freq);\n            freq += 0.0005;\n            for (let i = 0; i < numParticles; i++) {\n                const props = createRandomParticleValues(canvas);\n                const coords = b.translateInto(b.randomPointInside('normal'));\n                props.x = coords.x;\n                props.y = coords.y;\n                props.velocityX = 0;\n                props.velocityY = 0;\n                props.radius = 1;\n                props.color = bidx <= 4 ? bicPenBlue.clone() : paperWhite.clone(); // tinycolor(boxfg[clr]).clone().setAlpha(0.5);\n                particles.push(new Particle(props));\n            }\n            b.children = particles;\n\n            textureRectStipple(context)(b.x, b.y, b.width, b.height, b.backgroundColor, bidx + 1);\n        });\n\n        // boxes.forEach((b) => {\n        //     b.fill();\n        // });\n\n        return -1;\n    };\n\n    const draw = ({ canvas, context }) => {\n        boxes.forEach((box) => {\n            box.createClip();\n            box.children.forEach((particle) => {\n                const theta = box.flowField(particle.x, particle.y, time);\n                const force = uvFromAngle(theta);\n                particle.applyForce(force);\n                particle.velocity = particle.velocity.limit(1);\n                particle.updatePosWithVelocity();\n                particle.acceleration = new Vector(0, 0);\n                box.particleEdgeWrap(particle);\n                pixel(context)(particle.x, particle.y, particle.color, 'circle', 0.5);\n            });\n            box.removeClip();\n        });\n        time += 0.1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { mapRange } from '../rndrgen/math/math';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale, orientation } from '../rndrgen/Sketch';\nimport { paperWhite } from '../rndrgen/color/palettes';\nimport { Bitmap } from '../rndrgen/canvas/Bitmap';\nimport sourcePng from '../../media/images/alexander-krivitskiy-2wOEPBkaH7o-unsplash.png';\nimport { pixel } from '../rndrgen/canvas/primatives';\n\n/*\nhttps://larrycarlson.com/collections/wavy-art-prints\n */\n\nexport const larrycarlson02 = () => {\n    const config = {\n        name: 'larrycarlson2',\n        ratio: ratio.square,\n        // orientation: orientation.portrait,\n        scale: scale.standard,\n    };\n\n    let ctx;\n    let canvasWidth;\n    let canvasHeight;\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n    let imageWidth;\n    let imageHeight;\n    let startX;\n    let maxX;\n    let startY;\n    let maxY;\n    const margin = 50;\n    const ribbonThickness = 10;\n\n    const backgroundColor = paperWhite.clone();\n    const image = new Bitmap(sourcePng);\n\n    const colorImageTop = tinycolor('#ffeb00');\n    const colorImageBottom = tinycolor('#01ff4f');\n\n    const colorLinesTop = tinycolor('#ff01d7');\n    const colorLinesBottom = tinycolor('#5600cc');\n\n    const setup = ({ canvas, context }) => {\n        image.init(canvas, context);\n\n        ctx = context;\n        canvasWidth = canvas.width;\n        canvasHeight = canvas.height;\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        imageWidth = canvas.width - margin * 2;\n        imageHeight = canvas.height - margin * 2;\n\n        startX = margin;\n        maxX = canvas.width - margin;\n        startY = margin;\n        maxY = canvas.height - margin;\n\n        background(canvas, context)(backgroundColor);\n    };\n\n    // const circleX = (theta, amp, freq) => Math.cos(theta / freq) * amp;\n    // const circleY = (theta, amp, freq) => Math.sin(theta / freq) * amp;\n\n    const renderImage = () => {\n        const resolution = ribbonThickness / 2;\n        const border = margin / -2;\n        // const freq = 30;\n        // const amp = 1;\n        // let theta = 0;\n        for (let x = startX + border; x < maxX - border; x += resolution) {\n            for (let y = startY + border; y < maxY - border; y += resolution) {\n                const pxcolor = image.pixelColorFromCanvas(x, y);\n                const pxbrightness = pxcolor.getBrightness();\n                const bright = mapRange(128, 255, 0, 50, pxbrightness);\n\n                const color = tinycolor.mix(colorImageTop, colorImageBottom, mapRange(startY, maxY, 0, 100, y));\n\n                const size = resolution;\n\n                if (pxbrightness > 128) color.brighten(bright);\n\n                if (pxbrightness >= 70 && pxbrightness <= 100) {\n                    color.spin(30);\n                }\n\n                if (pxbrightness >= 120 && pxbrightness <= 220) {\n                    // color.spin(-30);\n                }\n\n                // const ox = circleX(theta, amp, freq) + x;\n                // const oy = circleY(theta, amp, freq) + y;\n\n                pixel(ctx)(x, y, color, 'circle', size);\n\n                // theta += 0.25;\n            }\n        }\n    };\n\n    const drawRibbonPoint = (point, isOtherSide) => {\n        const x = point[0];\n        const y = point[1];\n\n        // -2 +1 to keep from overlapping other ribbons and give it a min thickness of 1\n        const size = image.sizeFromPixelBrightness(x, y, ribbonThickness - 2, 128, 255) + 0.75;\n        let jitterX = 0; // size;\n        // let jitterY = 0;\n\n        if (isOtherSide) {\n            jitterX = size * -1;\n            // jitterY = size * -0.25;\n        }\n\n        ctx.lineTo(x + jitterX, y);\n    };\n\n    const drawRibbon = (sideA, color, stroke = false) => {\n        const rColor = tinycolor(color).clone();\n        const gradient = ctx.createLinearGradient(0, startY, 0, maxY);\n        gradient.addColorStop(0, colorLinesTop.toRgbString());\n        gradient.addColorStop(1, colorLinesBottom.toRgbString());\n\n        ctx.beginPath();\n        ctx.moveTo(sideA[0], sideA[0]);\n        sideA.forEach((w) => {\n            drawRibbonPoint(w, false);\n        });\n        sideA.reverse().forEach((w) => {\n            drawRibbonPoint(w, true);\n        });\n        ctx.closePath();\n\n        if (stroke) {\n            ctx.strokeStyle = rColor.darken(70).toRgbString();\n            ctx.lineWidth = 0.75;\n            ctx.stroke();\n        }\n\n        ctx.fillStyle = gradient;\n        ctx.fill();\n    };\n\n    const renderPoints = (points) => {\n        points.forEach((line) => {\n            if (line.length) {\n                drawRibbon(line, 'red', false, 0);\n            }\n        });\n    };\n\n    /*\n    https://www.desmos.com/calculator/rzwar3xxpy\n    y-x = amp * Math.sin((y+x)/freq)\n     */\n    const getPointsDiagSinWave = (xoffset, yoffset) => {\n        const freq = 40; // 30\n        const amp = 15; // 5\n        let y = 0;\n        const a = Math.PI / 3; // angle of the wave, 1 is 45\n        const points = [];\n        for (let x = 0; x < canvasWidth; x++) {\n            const b = x; // Math.sin(x / Math.PI) * 2;\n            // y = amp * Math.sin((y + b) / freq) + x * a;\n            y = amp * Math.sin((y * a + b) / freq) + x * a;\n            const px = x + xoffset;\n            const py = y + yoffset;\n            if (px > startX && px < maxX && py > startY && py < maxY) {\n                points.push([px, py]);\n            }\n        }\n        return points;\n    };\n\n    const draw = ({ canvas, context }) => {\n        const points = [];\n\n        renderImage();\n\n        for (let x = (imageWidth + 100) * -1; x < imageWidth * 2; x += ribbonThickness) {\n            points.push(getPointsDiagSinWave(x, 0));\n        }\n\n        renderPoints(points);\n\n        return -1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { background } from '../rndrgen/canvas/canvas';\nimport { orientation, ratio, scale } from '../rndrgen/Sketch';\nimport { bicPenBlue, warmWhite } from '../rndrgen/color/palettes';\nimport { MeanderingRiver } from '../rndrgen/systems/MeanderingRiver';\nimport { chaikinSmooth } from '../rndrgen/math/segments';\nimport { simplexNoise2d } from '../rndrgen/math/attractors';\nimport { getPointsOnCircle } from '../rndrgen/math/grids';\nimport { randomNormalWholeBetween } from '../rndrgen/math/random';\nimport { createSplineFromPointArray } from '../rndrgen/math/points';\nimport { pointPathPA } from '../rndrgen/canvas/primatives';\n\n/*\nMeandering River class at ../rndrgen/MeanderingRiver\n */\n\nconst createHorizontalPath = ({ width, height }, startX, startY, steps = 20) => {\n    const coords = [];\n    const incr = Math.round(width / steps);\n    const midx = width / 2;\n    for (let i = startX; i < width; i += incr) {\n        // greater variation in the middle\n        const midDist = Math.round(midx - Math.abs(i - midx));\n        const y = randomNormalWholeBetween(startY - midDist, startY + midDist);\n\n        coords.push([i, y]);\n    }\n    coords.push([width, startY]);\n    return coords;\n};\n\nconst createVerticalPath = ({ width, height }, startX, startY, steps = 20) => {\n    const coords = [];\n    const incr = Math.round(height / steps);\n    const midy = height / 2;\n    for (let i = startY; i < height; i += incr) {\n        // greater variation in the middle\n        const midDist = Math.round(midy - Math.abs(i - midy));\n        const x = randomNormalWholeBetween(startX - midDist, startX + midDist);\n\n        coords.push([x, i]);\n    }\n    coords.push([startX, height]);\n    return coords;\n};\n\nexport const meanderingRiver02 = () => {\n    const config = {\n        name: 'meandering-river-02',\n        ratio: ratio.a3plus,\n        scale: scale.hidpi,\n        orientation: orientation.portrait,\n        // multiplier: 1,\n        // drawLimit: 100,\n    };\n\n    let ctx;\n    let canvasMidX;\n    let canvasMidY;\n    const renderScale = config.scale; // 1 or 2\n    const rivers = [];\n    let time = 0;\n\n    const backgroundColor = warmWhite;\n\n    // const simplex2d = (x, y) => simplexNoise2d(x, y, 0.002);\n    // const simplex3d = (x, y) => simplexNoise3d(x, y, time, 0.0005);\n    // const clifford = (x, y) => cliffordAttractor(canvas.width, canvas.height, x, y);\n    // const jong = (x, y) => jongAttractor(canvas.width, canvas.height, x, y);\n\n    const noise = (x, y) => simplexNoise2d(x, y, 0.002);\n    const maxHistory = 10;\n    const historyStep = 25;\n\n    const wrapped = false;\n\n    const setup = ({ canvas, context }) => {\n        ctx = context;\n        canvasMidX = canvas.width / 2;\n        canvasMidY = canvas.height / 2;\n        background(canvas, context)(backgroundColor);\n        const horizontal = createSplineFromPointArray(createHorizontalPath(canvas, 0, canvasMidY, 40));\n        const vertical = createSplineFromPointArray(createVerticalPath(canvas, canvasMidX, 0, 40));\n        const circle = getPointsOnCircle(canvasMidX, canvasMidY, canvasMidX / 2, Math.PI * 4, false);\n\n        const cs = {\n            mixTangentRatio: 0.45,\n            mixMagnitude: 1.25, // 1.75\n            curvemeasure: 4,\n            curvesize: 5,\n            pointremove: 5,\n            oxbowProx: 2.5,\n        };\n\n        const circleRiver = new MeanderingRiver(circle, {\n            maxHistory,\n            storeHistoryEvery: historyStep,\n            fixedEndPoints: 1,\n            influenceLimit: 0,\n            wrapEnd: true,\n            handleOxbows: true,\n\n            mixTangentRatio: cs.mixTangentRatio,\n            mixMagnitude: cs.mixMagnitude,\n            oxbowProx: cs.oxbowProx,\n            oxbowPointIndexProx: cs.curvemeasure,\n            measureCurveAdjacent: cs.curvemeasure,\n            curveSize: cs.curvesize,\n            pointRemoveProx: cs.pointremove,\n\n            // pushFlowVectorFn: flowRightToMiddle(0.5, canvasMidY),\n\n            noiseFn: noise,\n            noiseMode: 'mix',\n            noiseStrengthAffect: 0,\n            mixNoiseRatio: 0.3,\n        });\n\n        const verticalRiver = new MeanderingRiver(vertical, {\n            maxHistory,\n            storeHistoryEvery: historyStep,\n            fixedEndPoints: 1,\n            influenceLimit: 0,\n            wrapEnd: wrapped,\n            handleOxbows: true,\n\n            mixTangentRatio: cs.mixTangentRatio,\n            mixMagnitude: cs.mixMagnitude,\n            oxbowProx: cs.oxbowProx,\n            oxbowPointIndexProx: cs.curvemeasure,\n            measureCurveAdjacent: cs.curvemeasure,\n            curveSize: cs.curvesize,\n            pointRemoveProx: cs.pointremove,\n\n            // pushFlowVectorFn: flowRightToMiddle(0.5, canvasMidY),\n\n            noiseFn: noise,\n            noiseMode: 'mix',\n            noiseStrengthAffect: 0,\n            mixNoiseRatio: 0.3,\n        });\n\n        const horizontalRiver = new MeanderingRiver(horizontal, {\n            maxHistory,\n            storeHistoryEvery: historyStep,\n            fixedEndPoints: 1,\n            influenceLimit: 0,\n            wrapEnd: wrapped,\n            handleOxbows: true,\n\n            mixTangentRatio: cs.mixTangentRatio,\n            mixMagnitude: cs.mixMagnitude,\n            oxbowProx: cs.oxbowProx,\n            oxbowPointIndexProx: cs.curvemeasure,\n            measureCurveAdjacent: cs.curvemeasure,\n            curveSize: cs.curvesize,\n            pointRemoveProx: cs.pointremove,\n\n            // pushFlowVectorFn: flowRightToMiddle(0.5, canvasMidY),\n\n            noiseFn: noise,\n            noiseMode: 'mix',\n            noiseStrengthAffect: 0,\n            mixNoiseRatio: 0.3,\n        });\n\n        rivers.push(circleRiver, horizontalRiver);\n    };\n\n    const draw = ({ canvas, context }) => {\n        // background(canvas, context)(backgroundColor.clone().setAlpha(0.005));\n        // renderField(canvas, context, noise, 'rgba(0,0,0,.5)', 30, 15);\n\n        // https://colorhunt.co/palette/264684\n        const riverColor = [bicPenBlue, tinycolor('#fed049')];\n        const closed = [true, false];\n\n        // step\n        rivers.forEach((r) => {\n            for (let i = 0; i < renderScale; i++) {\n                r.step();\n            }\n        });\n\n        // main\n        rivers.forEach((r, i) => {\n            const c = riverColor[i].clone().setAlpha(0.15); // tinycolor(`hsl(${time},70,50)`);\n\n            // r.oxbows.forEach((o) => {\n            //     // const w = Math.abs(mapRange(0, o.startLength, riverWeight[i] / 2, riverWeight[i], o.points.length));\n            //     pointPathPA(ctx)(o.points, c, 1);\n            // });\n\n            const points = chaikinSmooth(r.points, 4);\n            if (points.length) pointPathPA(ctx)(points, c, 2, closed[i]);\n        });\n\n        time += 0.25;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { mapRange } from '../rndrgen/math/math';\nimport { background, strokeDash } from '../rndrgen/canvas/canvas';\nimport { orientation, ratio, scale } from '../rndrgen/Sketch';\nimport { bicPenBlue, warmWhite } from '../rndrgen/color/palettes';\nimport { MeanderingRiver, flowRightToMiddle } from '../rndrgen/systems/MeanderingRiver';\nimport { chaikinSmooth } from '../rndrgen/math/segments';\nimport { simplexNoise2d } from '../rndrgen/math/attractors';\nimport { getPointsOnCircle } from '../rndrgen/math/grids';\nimport { renderFieldColor, renderFieldContour } from '../rndrgen/canvas/fields';\nimport { randomNormalWholeBetween } from '../rndrgen/math/random';\nimport { createSplineFromPointArray } from '../rndrgen/math/points';\nimport { pointPathPA } from '../rndrgen/canvas/primatives';\nimport { renderIsolines } from '../rndrgen/systems/marchingSquares';\n\n/*\nMeandering River class at ../rndrgen/MeanderingRiver\n */\n\nconst createHorizontalPath = ({ width, height }, startX, startY, steps = 20) => {\n    const coords = [];\n    const incr = Math.round(width / steps);\n    const midx = width / 2;\n    for (let i = startX; i < width; i += incr) {\n        // greater variation in the middle\n        const midDist = Math.round(midx - Math.abs(i - midx));\n        const y = randomNormalWholeBetween(startY - midDist, startY + midDist);\n\n        coords.push([i, y]);\n    }\n    coords.push([width, startY]);\n    return coords;\n};\n\nexport const meanderingRiver01 = () => {\n    const config = {\n        name: 'meandering-river-01',\n        ratio: ratio.a3plus,\n        scale: scale.hidpi,\n        orientation: orientation.landscape,\n    };\n\n    let ctx;\n    let canvasMidX;\n    let canvasMidY;\n    const renderScale = config.scale; // 1 or 2\n    const rivers = [];\n    let time = 0;\n\n    const backgroundColor = warmWhite;\n\n    const riverColor = warmWhite.clone().brighten(20);\n    const oxbowColor = riverColor.clone();\n\n    const flatColor = backgroundColor.clone().darken(10);\n    const isolowColor = flatColor.clone().darken(2);\n    const isohighColor = backgroundColor.clone().brighten(10);\n\n    const tintingColor = tinycolor('hsl(38, 38%, 64%)');\n    const palette = [\n        tinycolor('hsl(97, 9%, 73%)'),\n        tinycolor('hsl(51, 7%, 38%)'),\n        tinycolor('hsl(19, 39%, 47%)'),\n        tinycolor('hsl(166, 39%, 59%)'),\n        tinycolor.mix('hsl(97, 9%, 73%)', tintingColor, 25),\n        tinycolor.mix('hsl(51, 7%, 38%)', tintingColor, 25),\n        tinycolor.mix('hsl(19, 39%, 47%)', tintingColor, 25),\n        tinycolor.mix('hsl(166, 39%, 59%)', tintingColor, 25),\n        tinycolor.mix('hsl(97, 9%, 73%)', tintingColor, 55),\n        tinycolor.mix('hsl(51, 7%, 38%)', tintingColor, 55),\n        tinycolor.mix('hsl(19, 39%, 47%)', tintingColor, 55),\n        tinycolor.mix('hsl(166, 39%, 59%)', tintingColor, 55),\n        tinycolor.mix('hsl(97, 9%, 73%)', tintingColor, 75),\n        tinycolor.mix('hsl(51, 7%, 38%)', tintingColor, 75),\n        tinycolor.mix('hsl(19, 39%, 47%)', tintingColor, 75),\n        tinycolor.mix('hsl(166, 39%, 59%)', tintingColor, 75),\n    ].reverse();\n\n    let noiseScale = 0.001 / renderScale;\n    const noise = (x, y) => simplexNoise2d(x, y, noiseScale);\n    const maxHistory = 15;\n    const historyStep = 15;\n\n    const setup = ({ canvas, context }) => {\n        ctx = context;\n        canvasMidX = canvas.width / 2;\n        canvasMidY = canvas.height / 2;\n\n        const horizpoints = createSplineFromPointArray(createHorizontalPath(canvas, 0, canvasMidY, 15));\n\n        const riverScale = 1.25;\n\n        noiseScale /= riverScale * 2;\n\n        const horizontal = new MeanderingRiver(horizpoints, {\n            maxHistory,\n            storeHistoryEvery: historyStep,\n            fixedEndPoints: 2,\n\n            oxbowProx: 3 * renderScale,\n            oxbowPointIndexProx: 4 * renderScale,\n\n            mixTangentRatio: 0.7,\n            mixMagnitude: 1.5 * riverScale,\n\n            measureCurveAdjacent: 6 * renderScale * riverScale,\n            curveSize: 4 * renderScale * riverScale,\n            pointRemoveProx: 4 * renderScale * riverScale,\n\n            pushFlowVectorFn: flowRightToMiddle(0.6, canvasMidY),\n\n            noiseFn: noise,\n            noiseMode: 'flowInTo',\n            noiseStrengthAffect: 0,\n            mixNoiseRatio: 0.3,\n        });\n\n        rivers.push(horizontal);\n\n        // Run some steps before render to smooth lines\n        for (let i = 0; i < 50; i++) {\n            rivers.forEach((r) => {\n                r.step();\n            });\n        }\n\n        background(canvas, context)(backgroundColor);\n        // renderFieldColor(canvas, context, noise, 100, flatColor, backgroundColor, 4);\n\n        const slices = [\n            { nmin: -7, nmax: 7, omin: -1, omax: 1, color: isohighColor },\n            { nmin: -6, nmax: -4, omin: -1, omax: 1, color: isolowColor },\n            { nmin: -4, nmax: -2, omin: -1, omax: 1, color: isolowColor },\n            { nmin: -2, nmax: 0, omin: -1, omax: 1, color: isolowColor },\n            { nmin: 0, nmax: 2, omin: -1, omax: 1, color: isohighColor },\n            { nmin: 2, nmax: 4, omin: -1, omax: 1, color: isohighColor },\n            { nmin: 4, nmax: 6, omin: -1, omax: 1, color: isohighColor },\n        ];\n\n        renderIsolines(context, canvas, noise, 50 * renderScale, 100 * renderScale, true, slices);\n    };\n\n    const outlineThickness = 3 * renderScale;\n    const riverSmoothing = 4;\n    const riverWeight = 20 * renderScale;\n\n    const draw = ({ canvas, context }) => {\n        // step\n        rivers.forEach((r) => {\n            for (let i = 0; i < renderScale; i++) {\n                r.step();\n            }\n        });\n\n        const outlineColor = palette[Math.round(time * 0.03) % palette.length]; // .clone().setAlpha(0.75);\n\n        // outline\n        rivers.forEach((r, i) => {\n            r.oxbows.forEach((o) => {\n                const w = Math.abs(mapRange(0, o.startLength, 1, riverWeight, o.points.length));\n                pointPathPA(ctx)(o.points, outlineColor, w + outlineThickness / 2);\n            });\n            const points = chaikinSmooth(r.points, riverSmoothing);\n            pointPathPA(ctx)(points, outlineColor, riverWeight + outlineThickness);\n        });\n\n        // main\n        rivers.forEach((r, i) => {\n            r.oxbows.forEach((o) => {\n                const w = Math.abs(mapRange(0, o.startLength, riverWeight / 2, riverWeight, o.points.length));\n                pointPathPA(ctx)(o.points, oxbowColor, w);\n            });\n            const points = chaikinSmooth(r.points, riverSmoothing);\n            pointPathPA(ctx)(points, riverColor, riverWeight, false, false);\n        });\n\n        time++;\n        return 1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import { background } from '../rndrgen/canvas/canvas';\nimport { ratio, scale, orientation } from '../rndrgen/sketch';\nimport { bicPenBlue, paperWhite, get2Tone } from '../rndrgen/color/palettes';\n\nimport { truchet } from '../rndrgen/systems/truchetTiles';\nimport { createRectGrid, Rectangle } from '../rndrgen/math/Rectangle';\nimport { randomN, randomWholeBetween } from '../rndrgen/math/random';\nimport { point } from '../rndrgen/math/points';\nimport { flatDepthSortedAsc, quadTreeFromPoints } from '../rndrgen/math/QuadTree';\nimport { Bitmap } from '../rndrgen/canvas/Bitmap';\nimport sourcePng from '../../media/images/hi1.png';\n\nexport const truchetTiles = () => {\n    const config = {\n        name: 'multiscale-truchet-tiles',\n        ratio: ratio.square,\n        scale: scale.hidpi,\n        // fps: 1,\n    };\n\n    let canvasWidth;\n    let canvasHeight;\n\n    let margin = 100;\n\n    let quadtree;\n\n    const colors = get2Tone(5, 15);\n\n    const image = new Bitmap(sourcePng);\n\n    const setup = ({ canvas, context }) => {\n        canvasWidth = canvas.width;\n        canvasHeight = canvas.height;\n\n        image.init(canvas, context);\n\n        margin = canvasWidth / 10;\n\n        const boundary = new Rectangle(margin, margin, canvasWidth - margin * 2, canvasHeight - margin * 2);\n        // const points = [...Array(1000)].map((_) => point(randomN(canvasWidth), randomN(canvasHeight)));\n        // quadtree = quadTreeFromPoints(boundary, 4, points);\n\n        const points = image.thresholdAsPoints(150, 128);\n        quadtree = quadTreeFromPoints(boundary, 1, points);\n\n        // background(canvas, context)('white');\n    };\n\n    const draw = ({ canvas, context }) => {\n        background(canvas, context)(colors.light);\n\n        const max = randomWholeBetween(0, 15);\n\n        flatDepthSortedAsc(quadtree).forEach((q) => {\n            // assign a random pattern\n            q.boundary.motif = randomWholeBetween(0, max); // randomWholeBetween(0, 15);\n            // draw it\n            truchet(context, q.boundary, colors.dark, colors.light);\n        });\n\n        return -1;\n    };\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import { background } from '../rndrgen/canvas/canvas';\nimport { instagram, largePrint } from '../rndrgen/sketch';\nimport { bicPenBlue, paperWhite, get2Tone } from '../rndrgen/color/palettes';\n\nimport { truchet, truchetInterlaced } from '../rndrgen/systems/truchetTiles';\nimport { createRectGrid, Rectangle } from '../rndrgen/math/Rectangle';\nimport { random, randomWholeBetween } from '../rndrgen/math/random';\nimport { point } from '../rndrgen/math/points';\nimport { flatDepthSortedAsc, quadTreeFromPoints } from '../rndrgen/math/QuadTree';\nimport { rect } from '../rndrgen/canvas/primatives';\n\n// https://www.reddit.com/r/generative/comments/ju1xjr/truchet_tiles_pen_plot/\n\nexport const truchetTiles02 = () => {\n    const config = { name: 'interlaced-truchet-tiles', ...instagram };\n\n    let canvasWidth;\n    let canvasHeight;\n\n    let margin = 100;\n\n    let rectangles;\n\n    const colors = get2Tone(5, 15);\n\n    const setup = ({ canvas, context }) => {\n        canvasWidth = canvas.width;\n        canvasHeight = canvas.height;\n\n        margin = Math.round(canvasWidth / 18);\n\n        // 35x21 for a3plus\n        rectangles = createRectGrid(margin, margin, canvasWidth - margin * 2, canvasHeight - margin * 2, 60, 60);\n    };\n\n    let motif = 0;\n\n    const nextMotif = (_) => {\n        const n = motif++;\n        if (motif === 6) motif = 0;\n        return n;\n    };\n\n    const draw = ({ canvas, context }) => {\n        background(canvas, context)(colors.light);\n\n        rectangles.forEach((r) => {\n            r.motif = randomWholeBetween(0, 6);\n            truchetInterlaced(context, r, 4, 0.5, 1, colors.dark, colors.light);\n        });\n\n        return -1;\n    };\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","/*\nExplorations with generative code\n*/\n\nimport normalize from 'normalize.css';\nimport { variationsIndex } from './variationsIndex';\n\nimport * as rndrgen from './rndrgen/rndrgen';\nimport { truchetTiles02 } from './released/truchet-tiles-02';\n\nconst debug = true;\n\nconst s = rndrgen.sketch('canvas', 0, debug);\n\nconst experimentalVariation = undefined;\n// const experimentalVariation = truchetTiles02;\n\nconst setNote = (note) => (document.getElementById('note').innerText = note);\n\nconst runVariation = (v) => {\n    setNote(v.note);\n    s.run(v.sketch, s);\n};\n\nconst variationMapKeys = Object.keys(variationsIndex);\nconst urlKey = rndrgen.utils.getQueryVariable('variation') || variationMapKeys[variationMapKeys.length - 1];\n\nif (experimentalVariation !== undefined) {\n    runVariation({ sketch: experimentalVariation, note: 'Current experiment ...' });\n} else if (urlKey && variationsIndex.hasOwnProperty(urlKey)) {\n    console.log(urlKey, variationsIndex.hasOwnProperty(urlKey));\n    runVariation(variationsIndex[urlKey]);\n} else {\n    runVariation(variationsIndex[variationMapKeys[variationMapKeys.length - 1]]);\n}\n\ndocument.getElementById('download').addEventListener('click', s.saveCanvasCapture);\ndocument.getElementById('record').addEventListener('click', s.saveCanvasRecording);\n"],"names":["$7d806a7a603c235ec027b73d847f4d95$var$mapping","$7d806a7a603c235ec027b73d847f4d95$export$357eb1b4f03c1402","pairs","keys","Object","i","length","$7d806a7a603c235ec027b73d847f4d95$export$40339995e8a21591","id","resolved","Error","parcelRequire","register","JSON","parse","Math1","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","min","mathMax","max","mathRandom","random","tinycolor","color","opts","rgb","r","g","b","a","s","v","l","ok","format","replace","toLowerCase","match","named","names","matchers","exec","rgba","hsl","h","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","String","substr","convertToPercentage","floor","f","p","q","t","mod","hsvToRgb","hue2rgb","hslToRgb","hasOwnProperty","boundAlpha","inputToRGB","_originalInput","this","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","d","rgbToHsv","rgbToHex","allow3Char","hex","pad2","toString","charAt","join","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","push","monochromatic","toHsv","modification","prototype","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","pow","setAlpha","value","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","fn","args","apply","concat","slice","call","arguments","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","size","toUpperCase","validateWCAG2Parms","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","o","flipped","flip","parseFloat","isNaN","n","indexOf","isOnePointZero","processPercent","isPercentage","parseInt","abs","val","c","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp","$205a2b07ba45eeef4a5654446b52ffd6$exports","define","amd","window","Math","$26af7ee1a19417b016614f8a321c98ae$export$a00f0b081d75722f","x","y","z","[object Object]","fraction","sub","mult","add","$26af7ee1a19417b016614f8a321c98ae$var$lerp","sqrt","dot","m","mag","div","setMag","atan2","theta","phi","asin","acos","ceil","PI","$1eff662006699deccd4eb592b69b65d4$export$d62b010d3ed38d59","$1eff662006699deccd4eb592b69b65d4$export$2561c8b523351f02","$1eff662006699deccd4eb592b69b65d4$export$a81d48f05eb20df1","$1eff662006699deccd4eb592b69b65d4$export$fcdbf4b5852e1677","$1eff662006699deccd4eb592b69b65d4$export$8691b07c8652317e","$1eff662006699deccd4eb592b69b65d4$export$4ba4c1b41c56221b","$1eff662006699deccd4eb592b69b65d4$export$e14c41d1916d1752","$1eff662006699deccd4eb592b69b65d4$export$f9488fbfb886385d","$1eff662006699deccd4eb592b69b65d4$export$88807bfbd2f98762","$1eff662006699deccd4eb592b69b65d4$export$4b8705656de00c72","$1eff662006699deccd4eb592b69b65d4$export$2d3aa5ec84b092a3","snap","$1eff662006699deccd4eb592b69b65d4$export$e0f0d0ad73d69a20","total","num","$1eff662006699deccd4eb592b69b65d4$export$e29de4fdb2175738","numAngles","$1eff662006699deccd4eb592b69b65d4$export$13bf17c6a156ab62","Number","EPSILON","$1eff662006699deccd4eb592b69b65d4$export$ec40f3b997ed3193","near","$1eff662006699deccd4eb592b69b65d4$export$7c81524c901d3313","$1eff662006699deccd4eb592b69b65d4$export$2e33abec8aecd572","$1eff662006699deccd4eb592b69b65d4$export$45ca8e7f50ccf2e0","$1eff662006699deccd4eb592b69b65d4$export$c528f904a3813237","x1","y1","x2","y2","$1eff662006699deccd4eb592b69b65d4$export$cf278ddaf35592fb","$1eff662006699deccd4eb592b69b65d4$export$97adb2e64a97ff53","cos","sin","$1eff662006699deccd4eb592b69b65d4$export$3df9f87a6fcd617d","deg","$e87da9c94e4e356148571b7756966f08$var$width","$e87da9c94e4e356148571b7756966f08$var$pool","$e87da9c94e4e356148571b7756966f08$var$GLOBAL","$parcel$global","$e87da9c94e4e356148571b7756966f08$var$startdenom","$e87da9c94e4e356148571b7756966f08$var$significance","$e87da9c94e4e356148571b7756966f08$var$overflow","$e87da9c94e4e356148571b7756966f08$var$mask","$e87da9c94e4e356148571b7756966f08$var$oldRandom","$e87da9c94e4e356148571b7756966f08$var$ARC4","key","keylen","me","j","S","count","t1","i1","j1","s1","$e87da9c94e4e356148571b7756966f08$var$flatten","obj","depth","prop","result","typ","e","$e87da9c94e4e356148571b7756966f08$var$mixkey","seed","smear","stringseed","charCodeAt","$e87da9c94e4e356148571b7756966f08$var$tostring","$e87da9c94e4e356148571b7756966f08$var$autoseed","crypto","getRandomValues","Uint8Array","Date","navigator","plugins","screen","fromCharCode","$e87da9c94e4e356148571b7756966f08$exports","options","global","use_entropy","entropy","arc4","resetGlobal","F2","G2","G3","F4","G4","SimplexNoise","randomOrSeed","s0","s2","mash","masher","alea","buildPermutationTable","perm","permMod12","aux","data","grad3","Float32Array","grad4","noise2D","xin","yin","n0","n1","n2","x0","y0","ii","jj","t0","gi0","gi1","t2","gi2","noise3D","zin","n3","k1","i2","j2","k2","k","z0","z1","z2","x3","y3","z3","kk","t3","gi3","noise4D","w","n4","l1","l2","i3","j3","k3","l3","w0","rankx","ranky","rankz","rankw","w1","w2","w3","x4","y4","z4","w4","ll","t4","gi4","_buildPermutationTable","$fd077734e582b20657b4156c32aecfc2$exports","$a0f877b9eec74c3a77efd662103028ec$exports","undefined","$parcel$interopDefault","$56e72a14ac3070c15b3f01a48cdfd41a$exports","$56e72a14ac3070c15b3f01a48cdfd41a$var$createRandom","defaultSeed","currentSeed","currentRandom","noiseGenerator","defaultRandom","_nextGaussian","_hasNextGaussian","setSeed","opt","createNoise","boolean","range","TypeError","rangeFloor","onCircle","radius","weightedSetIndex","set","weighted","map","weight","weights","totalWeight","createRandom","defaultSeed1","getSeed","getRandomSeed","valueNonZero","u","permuteNoise","noise1D","frequency","amplitude","isFinite","sign","chance","pick","array","shuffle","arr","Array","isArray","rand","tmp","len","insideCircle","onSphere","insideSphere","cbrt","quaternion","u1","u2","u3","sq1","sq2","theta1","theta2","weightedSet","gaussian","mean","standardDerivation","v1","v2","multiplier","log","console","$13288635c3db3d3eb9022f78e2dfaea0$export$e447882fde3e3ed4","$13288635c3db3d3eb9022f78e2dfaea0$export$e197b6b3a403755a","$13288635c3db3d3eb9022f78e2dfaea0$export$124f5c357f4feca0","$13288635c3db3d3eb9022f78e2dfaea0$export$349059aef5055cf9","$13288635c3db3d3eb9022f78e2dfaea0$export$9c5369fc8c8476c7","$13288635c3db3d3eb9022f78e2dfaea0$export$171ce8f564be1777","$13288635c3db3d3eb9022f78e2dfaea0$export$3b792432a569e8e","arry","$13288635c3db3d3eb9022f78e2dfaea0$export$824164a348fb46e5","from","$f23fa0528d78927db9c019f1f463fa81$export$8502864bca7c3201","$f23fa0528d78927db9c019f1f463fa81$export$75be03f10cf0ce99","$f23fa0528d78927db9c019f1f463fa81$export$b7879c18f06201e8","$f23fa0528d78927db9c019f1f463fa81$export$b5dc521a0107739d","$f23fa0528d78927db9c019f1f463fa81$export$b395bc96c5c14b82","$f23fa0528d78927db9c019f1f463fa81$export$c4ab05cd0176dfb3","pointA","pointB","dx","dy","$f23fa0528d78927db9c019f1f463fa81$export$f8c031b5085ae525","points","skip","reduce","acc","$f23fa0528d78927db9c019f1f463fa81$export$506bcd4fbf664169","$f23fa0528d78927db9c019f1f463fa81$export$338e9e8be0bf09a6","tension","numOfSeg","close","pts","rPos","rLen","res","cache","cachePtr","unshift","st","st2","st3","st23","st32","pts1","cache1","pt1","pt2","pt3","pt4","t1x","t1y","t2x","t2y","c3","c4","$dfa76f9dcff7fcf8b00172b6630551b2$export$968522242fcf190a","$d435cab0f0f2f5af923e9266cfd42c79$export$77964a87ff738a0","index","velocityX","velocityY","accelerationX","accelerationY","mass","mass1","alpha","rotation","drawFn","updateFn","colorFn","rest","props","xHistory","yHistory","oX","oY","warn","$f23fa0528d78927db9c019f1f463fa81$export$cc98246446ec64d8","velocity","fVect","fV","aV","acceleration","pV","mu","normal","vfriction","normalize","applyForce","coefficent","velUnit","speed","magSq","vdrag","mode","affectDist","dir","distanceSq","strength","force","$d435cab0f0f2f5af923e9266cfd42c79$export$ec29e810c50988c4","width","height","$d435cab0f0f2f5af923e9266cfd42c79$export$e069a26e94129f1","particle","reverseVelocityX","reverseVelocityY","$d435cab0f0f2f5af923e9266cfd42c79$export$665095e54f9a8268","$9522560fa0ff608f7ff4446a1f59adb8$var$isHiDPI","$9522560fa0ff608f7ff4446a1f59adb8$var$contextScale","$9522560fa0ff608f7ff4446a1f59adb8$var$contextHistory","$9522560fa0ff608f7ff4446a1f59adb8$export$1665813cc8bcf9b1","_","$9522560fa0ff608f7ff4446a1f59adb8$export$caf3b6ad685f03e","$9522560fa0ff608f7ff4446a1f59adb8$export$3846a5c8dcf18b7b","canvas","context","scale","devicePixelRatio","style","$9522560fa0ff608f7ff4446a1f59adb8$var$contextDefaults","strokeStyle","fillStyle","globalAlpha","lineWidth","lineCap","lineJoin","textAlign","textBaseline","globalCompositeOperation","$9522560fa0ff608f7ff4446a1f59adb8$export$7447501bdd5a114f","settings","forEach","$9522560fa0ff608f7ff4446a1f59adb8$export$c5e5db4dbd9ffec","setLineDash","$9522560fa0ff608f7ff4446a1f59adb8$export$1a0b2c2376369c0f","$9522560fa0ff608f7ff4446a1f59adb8$export$c307edd09ff33015","$9522560fa0ff608f7ff4446a1f59adb8$export$5d178b078b219803","translate","$9522560fa0ff608f7ff4446a1f59adb8$export$7d4e13835bc5e5c","$9522560fa0ff608f7ff4446a1f59adb8$export$c40dadbd69639a45","filter","$9522560fa0ff608f7ff4446a1f59adb8$export$887467ca61405034","$9522560fa0ff608f7ff4446a1f59adb8$export$289357f539a0cc3f","$9522560fa0ff608f7ff4446a1f59adb8$export$6dbdc0179713d8a3","dash","$9522560fa0ff608f7ff4446a1f59adb8$export$4f0cf39e8239bba6","$9522560fa0ff608f7ff4446a1f59adb8$export$97fff7491bd246bd","clearRect","$9522560fa0ff608f7ff4446a1f59adb8$export$71e8c57444adea28","fillRect","$bc256a7931e8b135740c82c4c33c46fc$export$83458fc9acd72c0a","beginPath","arc","fill","closePath","$bc256a7931e8b135740c82c4c33c46fc$export$e652f4ab841e8ac9","strokeWidth","linecap","moveTo","lineTo","stroke","$bc256a7931e8b135740c82c4c33c46fc$export$fd13dc44ab3e322f","angle","$bc256a7931e8b135740c82c4c33c46fc$export$5896361fe780611e","$bc256a7931e8b135740c82c4c33c46fc$export$6d7591033d9fdf14","$bc256a7931e8b135740c82c4c33c46fc$export$ad4a2d7072f2d69d","$bc256a7931e8b135740c82c4c33c46fc$export$6cd89528b6830d1c","rect","$bc256a7931e8b135740c82c4c33c46fc$export$c88d30e54701562","$bc256a7931e8b135740c82c4c33c46fc$export$b274a5c4bf8d40de","$bc256a7931e8b135740c82c4c33c46fc$export$b0785052f160ee2d","half","$bc256a7931e8b135740c82c4c33c46fc$export$9a3745bf8aa49108","mx","my","quadraticCurveTo","$bc256a7931e8b135740c82c4c33c46fc$export$91238f0896ade9d5","corner","$bc256a7931e8b135740c82c4c33c46fc$export$6933e38b64441705","coords","$bc256a7931e8b135740c82c4c33c46fc$export$d6fa3d49a74076fc","drawPoint","$bc256a7931e8b135740c82c4c33c46fc$export$f781ec89b5634303","$bc256a7931e8b135740c82c4c33c46fc$export$49220080b4739278","startRadians","clockWise","startR","endR","$86423d7a6fd3903516fc5fb8b198793e$export$13971baf5fa9d11c","$86423d7a6fd3903516fc5fb8b198793e$export$4dd71fc40ff39709","pArray","proximity","useAlpha","pA","pB","distance","pColor","$1d02bf8ffedc555e4d79e3d06473c408$var$avoidPoint","point","forceDirectionX","forceDirectionY","tempX","tempY","$1d02bf8ffedc555e4d79e3d06473c408$var$gravityPoint","$634f916bc30b7d6650877f3f4b6a8b3a$var$bundleURL","$634f916bc30b7d6650877f3f4b6a8b3a$var$getBaseURL","url","$634f916bc30b7d6650877f3f4b6a8b3a$export$da289beea9c5b10d","err","matches","stack","$634f916bc30b7d6650877f3f4b6a8b3a$var$getBundleURL","resolve","$824bc590bf0a3702ac7bd27152cb0639$var$dirname","_filePath","filePath","slashIndex","lastIndexOf","$824bc590bf0a3702ac7bd27152cb0639$var$relative","to","fromParts","split","shift","divergeIndex","toParts","parts","module","exports","fromId","toId","$824bc590bf0a3702ac7bd27152cb0639$require$resolve","_dirname","_relative","$766d11408e6a7316d5cebc270bc67d39$exports","getBundleURL","$12a1c18ab57fe6522feb1d9c4e299b9c$var$getImageDataColor","imageData","$4da3ff9489cc7ecc9233de14d393dd7b$exports","appendChild","dom","children","display","document","createElement","cssText","addEventListener","preventDefault","performance","now","Panel","self","memory","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","f1","Infinity","getContext","font","fillText","h1","drawImage","Stats","$f47d1a545c98fd46f92fd46707a5cff9$export$4cb75df974ea6a2f","$f47d1a545c98fd46f92fd46707a5cff9$export$f28d97d5ce71bdb1","$f47d1a545c98fd46f92fd46707a5cff9$export$fe244bf6eee8e2ab","$f47d1a545c98fd46f92fd46707a5cff9$export$ce916fd9816373b4","$f47d1a545c98fd46f92fd46707a5cff9$export$c3bb67cf08ad3ff7","arrLength","splice","$f47d1a545c98fd46f92fd46707a5cff9$export$cec7ee45e359e14a","start","values","$f47d1a545c98fd46f92fd46707a5cff9$export$442ef1d60cb2d131","$f47d1a545c98fd46f92fd46707a5cff9$export$1efbc9d7bf467eb2","$f47d1a545c98fd46f92fd46707a5cff9$export$6943fafba6dc0f40","$f47d1a545c98fd46f92fd46707a5cff9$export$651f5623f4a5e555","$f47d1a545c98fd46f92fd46707a5cff9$export$56a5c41113abe6c4","$f47d1a545c98fd46f92fd46707a5cff9$export$b7f0d89af0f48396","variable","vars","location","search","substring","pair","$33fac3877f162348006757296f9919b8$export$eafb3565b164e5ff","$33fac3877f162348006757296f9919b8$export$ab5df0df96ad35b7","fps","video_bits_per_sec","types","MediaRecorder","isTypeSupported","supportedType","mimeType","videoBitsPerSecond","captureBPS","recordedBlobs","mediaRecorder","stream","error","onstop","handleStop","ondataavailable","handleDataAvailable","captureFPS","stop","video","controls","save","file_name","name","blob","Blob","type","URL","createObjectURL","href","download","body","click","setTimeout","removeChild","revokeObjectURL","colorDepth","captureStream","event","superBuffer","src","$b60e92883c8cebff7fe93af10e687901$export$6480c6e9724e608e","$b60e92883c8cebff7fe93af10e687901$export$8f1df4a31b057a38","a4","a3","a3plus","archd","golden","square","auto","$b60e92883c8cebff7fe93af10e687901$export$8f869025bba9609b","$b60e92883c8cebff7fe93af10e687901$export$94b53b922906eafb","$b60e92883c8cebff7fe93af10e687901$export$ca2320202a16838","ratio","$862cbdbe71c546939fa8b299239d1b7b$export$6c22f145b767ded4","sideA","sideB","sourceColor","thickness","segStartX","segStartY","gradient","createLinearGradient","$862cbdbe71c546939fa8b299239d1b7b$export$3543abba0793359e","addColorStop","$af530edd2abd1f269462692331e5727b$export$71e02ff2a341deea","$13288635c3db3d3eb9022f78e2dfaea0$export$41b035764341c1f4","$af530edd2abd1f269462692331e5727b$export$7933c000cbea1291","$13288635c3db3d3eb9022f78e2dfaea0$export$49dbc9cdd9cd63cc","$af530edd2abd1f269462692331e5727b$var$attractorVarA","$af530edd2abd1f269462692331e5727b$var$attractorVarB","$af530edd2abd1f269462692331e5727b$var$attractorVarC","$af530edd2abd1f269462692331e5727b$var$attractorVarD","$af530edd2abd1f269462692331e5727b$export$8ff0493f2d05cd5d","$af530edd2abd1f269462692331e5727b$export$1066bf1ac8e56906","$3780046694dea8d561c82cbdf774f17e$exports","$cc1c5410850a2730a46c5ab9862b3c30$export$1dacaefca0eebb76","$cc1c5410850a2730a46c5ab9862b3c30$export$b2a53232102262dd","$cc1c5410850a2730a46c5ab9862b3c30$export$1d899aa83eb953d3","colors","$cc1c5410850a2730a46c5ab9862b3c30$export$abcfa04d15765806","$cc1c5410850a2730a46c5ab9862b3c30$export$90ce5b6a3651c623","$cc1c5410850a2730a46c5ab9862b3c30$export$24437bb733ab8e7d","$cc1c5410850a2730a46c5ab9862b3c30$export$73dea75b39f2f703","$cc1c5410850a2730a46c5ab9862b3c30$export$33b2447dd7f5a057","$cc1c5410850a2730a46c5ab9862b3c30$export$a3672e2ff5f1a35d","$cc1c5410850a2730a46c5ab9862b3c30$export$a39b981591e9c271","$cc1c5410850a2730a46c5ab9862b3c30$export$8d3b6be28485244c","greyWarm","greyCool","pop","retro_sunset","vapor_wave","thought_provoking","$cc1c5410850a2730a46c5ab9862b3c30$export$cd1e7b2745fc9966","$cc1c5410850a2730a46c5ab9862b3c30$export$bac909ef1c509b88","$cc1c5410850a2730a46c5ab9862b3c30$export$c39017d645f741db","pal","light","dark","text","$cc1c5410850a2730a46c5ab9862b3c30$export$2eb9bde86c5870cc","colorsArray","variance","getAtIndex","$192e6cdb31e421dade262183e369bdd0$var$drawDots","path","yorigin","rnd","quantity","xoff","yoff","$7a486d593b02795786a80dec86aed458$export$d0b69df025e8abbe","$3dc971f0c5a214745aed7f8d926a3a6c$export$3c4c377c5360b3c3","$3dc971f0c5a214745aed7f8d926a3a6c$export$770e70c8b4fabfad","$3dc971f0c5a214745aed7f8d926a3a6c$export$e9b0eaf0960504a6","sansHelvetica","monoCourier","monoLucidia","serifGeorgia","default","small","$3dc971f0c5a214745aed7f8d926a3a6c$export$dda4c431c32351d4","measureText","$bda919a06d69f2a077f9f2b5cf5b2c68$export$9536425b66773a19","columns","rows","margin","gutter","colStep","rowStep","row","col","columnWidth","rowHeight","$04b0375cc446915452c9eaedd977dcc9$var$Curve","noise","originX","originY","xa","xb","ya","yb","centerX","centerY","$57352fe40df1dc0006794dafec4cf973$var$TAU","$57352fe40df1dc0006794dafec4cf973$var$arc","thick","$57352fe40df1dc0006794dafec4cf973$var$circle","rad","$57352fe40df1dc0006794dafec4cf973$var$line","$65f060cf557829b84cb5531c274aed5d$export$b7845f75b2e86c16","src1","scaleX","scaleY","image","Image","scaley","wipe","imageWidth","imageHeight","getImageData","pixelColorRaw","pixelAverageGrey","pixelColor","pixelTheta","low","brightness","pixelColorFromCanvas","threshold","colw","rowh","pixelAverageGreyFromCanvas","onload","$0ff5b761973001896e9b151b47b00fe6$exports","$0aa2b20dfc482d8cf4721568ac8a4080$export$d627d6bf69d9cc3a","resolution","xStep","yStep","xMid","yMid","vect","$0e00c83e9b79a9efa03d18286042a6dc$var$TAU","$d2b64a2aa3fd0a46fa054857929a810f$var$drawRibbonPoint","$d3178ae57237cb81df6f63891f17aaf4$var$drawRibbonPoint","$d3178ae57237cb81df6f63891f17aaf4$var$drawRibbon","segments","segmentData","left","reverse","segEndY","rColor","$d3178ae57237cb81df6f63891f17aaf4$var$drawRibbonSegment","$86aedb02c6faa32b4c98e222512d7125$var$defaultMP","top","right","bottom","$86aedb02c6faa32b4c98e222512d7125$var$defaultFlow","$86aedb02c6faa32b4c98e222512d7125$var$boxIndex","$86aedb02c6faa32b4c98e222512d7125$var$Point","$86aedb02c6faa32b4c98e222512d7125$export$7e21d2286de59cab","padding","clip","flowField","backgroundColor","region","Path2D","restore","translateX","translateY","distribution","edgeBuffer","isInside","np","psize","$6c9377592c727f593990709d6d227393$var$intervals","total_intervals","endInterval","minLog","exp","$1eff662006699deccd4eb592b69b65d4$export$7d2f639496d4c734","$6c9377592c727f593990709d6d227393$var$clipping","$6c9377592c727f593990709d6d227393$export$b34f2bb23d03725","$6c9377592c727f593990709d6d227393$var$getRotatedYCoords","$6c9377592c727f593990709d6d227393$export$bc37e9d5415b0344","quarter","strokeColor","endValue","numIttr","maxRadius","tx","ty","tx2","ty2","$6c9377592c727f593990709d6d227393$export$ce171e6e85798ba7","radIncr","thetaIncr","spirals","ox","oy","px","py","$6c9377592c727f593990709d6d227393$export$b2e35385ecc83d28","$6c9377592c727f593990709d6d227393$export$46ec22613267b4da","yIncrement","yincr","loops","yOff","connectSide","lastCoords","$6c9377592c727f593990709d6d227393$var$pointLine","$41efba28346ff5eb23b22690a74ec65b$exports","$b6fadbf78d6adaf269b57f28bb5a6c55$export$288d5b1c140c4096","input","itr","output","p0","p1","p0x","p0y","p1x","p1y","Q","R","$b6fadbf78d6adaf269b57f28bb5a6c55$export$35af5d7d5c80003b","det","lambda","gamma","$ba1f59728a5f6c2d6cb1af0182720d9f$export$18f62abe5608d90e","initPoints","startingPoints","pointVectors","oxbows","handleOxbows","wrapEnd","fixedEndPoints","measureCurveAdjacent","segCurveMultiplier","mixTangentRatio","mixMagnitude","influenceLimit","pushFlowVectorFn","curveSize","insertionFactor","pointRemoveProx","oxbowProx","oxbowPointIndexProx","noiseMode","noiseFn","noiseStrengthAffect","mixNoiseRatio","steps","maxHistory","storeHistoryEvery","history","running","channel","sum","diffs","prev","next","p2","p3","allPoints","curvature","averageMCurvature","getPointsToMeasure","curveDirection","nextPoint","tangent","biangle","bitangent","mVector","nscale","limit","fixedPointsPct","startIndex","startIndexPoints","endIndex","endIndexPoints","influencedPoints","mixVector","curvatureInfluence","infPoint","pushVector","fixed","numInsertPoints","nx","ny","canRemovePoint","newPoints","oxpoints","startLength","oxbowArr","oxacc","oxbow","shrinkPct","ptacc","cp","nop","meanderWrapped","meanderLinear","adjustPointsSpacing","checkForOxbows","shrinkOxbows","addToHistory","$ba1f59728a5f6c2d6cb1af0182720d9f$export$21c4ac1391a269c3","mid","dist","$b5238ee3c9c345374890d88c59b03784$var$point","$b5238ee3c9c345374890d88c59b03784$var$midPoint","$b5238ee3c9c345374890d88c59b03784$var$lerpAmt","$b5238ee3c9c345374890d88c59b03784$export$4c15868e155524d9","corners","phase","average","smooth","lerpTop","midTop","lerpRight","midRight","lerpBottom","midBottom","lerpLeft","midLeft","halfW","halfH","parent","$b5238ee3c9c345374890d88c59b03784$export$9a611ec155d14f11","cols","colgap","rowgap","rects","rx","ry","$225722dd29926955a49f784418a3f1a2$export$5e719a3d9adca2bd","noiseFn2d","smoothing","squares","nmin","nmax","omin","omax","cornerAPx","cornerBPx","cornerCPx","cornerDPx","drawLine","sides","getSides","cornerState","$225722dd29926955a49f784418a3f1a2$export$2ff5dfabd9eab526","$f7745843392062998d27964b56f3e2f4$export$f3726c14231f3ee","$f7745843392062998d27964b56f3e2f4$var$endLineMult","$f7745843392062998d27964b56f3e2f4$var$sqTileLinesHorizontal","foreColor","backColor","gap","iy","$f7745843392062998d27964b56f3e2f4$var$sqTileLinesVertical","ix","$f7745843392062998d27964b56f3e2f4$var$rings","ir","$f7745843392062998d27964b56f3e2f4$var$sqTileCornerArc","$f7745843392062998d27964b56f3e2f4$export$3e981b78221de52f","$99f50b75c0ec3ee08c1a60ebc2ba7e4f$export$446b087162c3c422","boundary","capacity","maxd","divided","maxDepth","northwest","northeast","southwest","southeast","divWidth","divHeight","nw","ne","sw","se","subdivisions","contains","subdivide","insert","rectangle","intersects","query","flatten","$f1e675c41d3f05a296633a3528bb0a08$export$b78c9ef7c501391c","5","note","sketch","config","numParticles","particlesArray","circles","diameter","mouse","updatePosWithVelocity","8","gridPoints","attractorDist","leftattractor","midattractor","rightattractor","canvasCenterX","canvasCenterY","centerRadius","xMargin","yMargin","$f98391f8349e0e05dd4d9f7f088ae3c7$var$createGridPointsXY","spikes","attract","9","imageZoomFactor","png","particleColor","$12a1c18ab57fe6522feb1d9c4e299b9c$var$getImageDataFromImage","drag","11","orientation","canvasWidth","canvasHeight","canvasMiddle","renderScale","waveYValues","numWaveXPoints","waveDensity","numWaveRows","maxX","maxY","startY","time","createNoiseValues","idx","createRow","distFromCenter","yBufferSpace","currentY","incrementX","incrementY","canvasFocal","focalRange","maxWaveHeight","distFromMiddle","waveheight","waveTop","waveBottom","currentX","12","curves","palette","colorBackground","colorCurve","colorText","grid","roseX","curve","roseY","$13288635c3db3d3eb9022f78e2dfaea0$export$ed16481fefcaf801","tick","13","createRandomParticle","drawPixel","pcolor","maxSize","sNoise3d","drawFibers","clr","drawParticles","14","cell","arcColor","lineColor","renderField","15","imageFlow","pixelThetaFromCanvas","drawParticle","fromCenter","imagePixelColor","imagePixelBrightness","hslColor","$0e00c83e9b79a9efa03d18286042a6dc$var$splatter","$0e00c83e9b79a9efa03d18286042a6dc$var$createRandomParticle","init","16","canvasMidX","canvasMidY","radiusScale","currentRadiusSize","imageColor","circleX","circleY","radScaled","radians","monoColor","offs","$13288635c3db3d3eb9022f78e2dfaea0$export$9bb7d44ee5b5f118","17","createRibbon","fieldFn","startX","vlimit","ribbonThickness","rpoint","startx","starty","endy","$d2b64a2aa3fd0a46fa054857929a810f$var$drawRibbon","18","ribbonLen","maxItterations","currentItteration","19","boxes","gridMargin","gridGutter","freq","bidx","particles","translateInto","randomPointInside","box","createClip","particleEdgeWrap","removeClip","20","ctx","colorImageTop","colorImageBottom","colorLinesTop","colorLinesBottom","drawRibbonPoint","isOtherSide","sizeFromPixelBrightness","jitterX","renderPoints","line","drawRibbon","getPointsDiagSinWave","xoffset","yoffset","border","pxbrightness","bright","renderImage","21","rivers","horizontal","incr","midx","midDist","$9cc4aaebb1b6472ff31a6dfde390e8b6$var$createHorizontalPath","vertical","midy","$9cc4aaebb1b6472ff31a6dfde390e8b6$var$createVerticalPath","circle","offsetX","offsetY","$bda919a06d69f2a077f9f2b5cf5b2c68$export$b9ce0cccd2085b05","cs","circleRiver","horizontalRiver","riverColor","closed","step","22","oxbowColor","isolowColor","isohighColor","tintingColor","noiseScale","outlineThickness","riverWeight","horizpoints","$439fd85c066f8ad44a083a09329adf84$var$createHorizontalPath","riverScale","outlineColor","23","quadtree","thresholdAsPoints","boundary1","capacity1","margin1","maxd1","$99f50b75c0ec3ee08c1a60ebc2ba7e4f$export$270039446640682","qt","sort","motif","fore","back","third","twoThirds","sixth","$f7745843392062998d27964b56f3e2f4$export$bb5ffa087b873ca5","24","rectangles","lines","$f7745843392062998d27964b56f3e2f4$export$2ca893d8f3863637","$c538a5606a0f62ab996ce5881a60f569$var$s","canvasElId","smode","debug","isDown","sizeMode","debugMode","currentVariationFn","currentVariationRes","animationId","canvasRecorder","statsJS","hasStarted","drawRuns","isRecording","isPaused","getElementById","mouseDown","evt","mouseMove","canvasFrame","getBoundingClientRect","mouseUp","mouseOut","run","variation","sinstance","sketchInstance","currentDrawLimit","addEvents","lastAnimationFrameTime","rendering","targetFpsInterval","innerWidth","innerHeight","finalWidth","finalHeight","cfgMultiplier","cfgOrientation","cfgRatio","cfgScale","smallestWindowSize","delta","applyCanvasSize","drawLimit","startSketch","removeEventListener","setup","drawFrame","draw","render","requestAnimationFrame","renderAtFps","elapsed","removeEvents","cancelAnimationFrame","windowResize","windowFocus","windowBlur","getVariationName","onCanvasDragOver","onCanvasDragDrop","imageDataHandler","stopPropagation","dataTransfer","files","reader","FileReader","target","readAsDataURL","variationName","imageURI","toDataURL","setAttribute","$b60e92883c8cebff7fe93af10e687901$export$7d50e499e2417752","$c538a5606a0f62ab996ce5881a60f569$var$runVariation","innerText","$c538a5606a0f62ab996ce5881a60f569$var$variationMapKeys","$c538a5606a0f62ab996ce5881a60f569$var$urlKey","$f47d1a545c98fd46f92fd46707a5cff9$exports","getQueryVariable","saveCanvasCapture","saveCanvasRecording"],"version":3,"file":"index.717b18b8.js.map"}