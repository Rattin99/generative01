{"version":3,"sources":["node_modules/tinycolor2/tinycolor.js","scripts/lib/vector.js","scripts/lib/particle.js","scripts/lib/math.js","scripts/lib/canvas.js","scripts/lib/sketch.js","scripts/debug-dev.js","scripts/variation1.js","scripts/variation2.js","scripts/variation3.js","scripts/variation4.js","scripts/variation5.js","scripts/variation6.js","scripts/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Vector","x","y","z","prototype","negative","add","v","sub","mult","div","equals","dot","cross","length","Math","sqrt","getMag","normalize","mag","m","c","r","unit","divide","min","max","toAngles","theta","atan2","phi","asin","angleTo","a","acos","toArray","n","slice","clone","init","b","subtract","multiply","fromAngles","cos","sin","randomDirection","random","PI","lerp","fraction","fromArray","angleBetween","MAX_COORD_HISTORY","limitArrayLen","arr","arrLength","splice","Particle","values","initValues","index","velocityX","velocityY","accelerationX","accelerationY","radius","mass","color","alpha","rotation","lifetime","drawFn","updateFn","colorFn","_x","_y","xHistory","yHistory","oX","oY","_color","g","draw","value","toRgbString","unshift","pixel","psCanvasRandom","canvas","width","height","createRandomParticleValues","vel","coords","updatePosWithVelocity","particle","vVector","edgeBounce","edgeWrap","gravityPoint","f","distance","dx","dy","forceDirectionX","forceDirectionY","force","tempX","tempY","avoidPoint","point","attractPoint","pointPush","randomSign","round","val","normalizeInverse","clamp","invlerp","lerpRange","x1","y1","x2","y2","pointDistance","pointA","pointB","pointRotateCoord","angle","pointAngleFromVelocity","radiansToDegrees","rad","randomNumberBetween","randomNumberBetweenMid","scalePointToCanvas","cwidth","cheight","zoomFactor","particleXOffset","particleYOffset","createCirclePoints","centerX","centerY","diameter","steps","sx","sy","points","push","resizeCanvas","clearCanvas","context","_","clearRect","fillCanvas","opacity","fillStyle","fillRect","background","drawRotatedParticle","ctx","pSaveX","pSaveY","save","translate","rotate","heading","args","restore","drawPoint","beginPath","arc","fill","drawTestPoint","strokeStyle","lineWidth","stroke","drawLine","drawRake","spacing","i","drawSquare","drawTriangle","half","moveTo","lineTo","strokeWidth","drawCircle","connectParticles","pArray","proximity","len","pA","pB","pColor","setAlpha","toHslString","drawPointTrail","trailLen","aFade","sFade","startX","startY","drawMouse","undefined","sketch","mouse","isDown","fps","canvasSizeFraction","document","getElementById","getContext","window","innerWidth","innerHeight","getCanvas","getMouse","mouseDown","evt","mouseMove","canvasFrame","getBoundingClientRect","mouseUp","mouseOut","windowResize","addEventListener","run","variation","backgroundColor","hasOwnProperty","config","console","log","removeEventListener","rendering","targetFpsInterval","lastAnimationFrameTime","startSketch","setup","render","result","requestAnimationFrame","renderAtFps","now","Date","elapsed","debugDev","numParticles","particlesArray","canvasCenterX","canvasCenterY","centerRadius","props","accelerateToPoint","targetX","targetY","magnitude","vLimit","accX","accY","applyForce","fVect","fV","aV","aVector","pV","friction","mu","normal","vfriction","gravity","wind","weight","variation1","variation2","decay","tweenDamp","margin","intensity","newValues","newCoords","variation3","png","Image","src","domokun","drawImage","data","getImageData","imageZoomFactor","pX","pY","variation4","circles","variation5","variation6","hue","s","l","DEBUG","saveCanvasCapture","imageURI","toDataURL","href","e","key","click","setNote","note","innerText","getQueryVariable","variable","query","location","search","substring","vars","split","pair","variationKey","variations","vToRun","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","appendChild","createElement","stackTrace","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AcAA,IAAIoU,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIC,OAAO,GAAG,CAAC,KAAKD,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBC,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWC,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD;;AAEDC,OAAO,CAACT,YAAR,GAAuBD,kBAAvB;AACAU,OAAO,CAACH,UAAR,GAAqBA,UAArB;;AC5BA,IAAII,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAACE,SAAL,EAAd;;AACAD,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;AACD,GAFD;;AAGAH,EAAAA,OAAO,CAACnC,IAAR,GAAekC,IAAI,CAAClC,IAAL,CAAUc,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCzE,IAAI,CAACD,GAAL,EAA/C;AACA8F,EAAAA,IAAI,CAACK,UAAL,CAAgBC,YAAhB,CAA6BL,OAA7B,EAAsCD,IAAI,CAACO,WAA3C;AACD;;AAED,IAAIC,UAAU,GAAG,IAAjB;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,EAAAA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,QAAIC,KAAK,GAAG3I,QAAQ,CAAC4I,gBAAT,CAA0B,wBAA1B,CAAZ;;AACA,SAAK,IAAI1K,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyK,KAAK,CAAChV,MAA1B,EAAkCuK,CAAC,EAAnC,EAAuC;AACrC,UAAI2J,MAAM,CAACJ,UAAP,CAAkBkB,KAAK,CAACzK,CAAD,CAAL,CAAS4H,IAA3B,MAAqC+B,MAAM,CAACV,YAAP,EAAzC,EAAgE;AAC9DY,QAAAA,UAAU,CAACY,KAAK,CAACzK,CAAD,CAAN,CAAV;AACD;AACF;;AAEDsK,IAAAA,UAAU,GAAG,IAAb;AACD,GATsB,EASpB,EAToB,CAAvB;AAUD;;AAEDK,MAAM,CAACjB,OAAP,GAAiBa,SAAjB;;;;;;;;;Af7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AC3qCA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,SAAS5V,MAAT,CAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AAC5B,OAAKF,CAAL,GAASA,CAAC,IAAI,CAAd;AACA,OAAKC,CAAL,GAASA,CAAC,IAAI,CAAd;AACA,OAAKC,CAAL,GAASA,CAAC,IAAI,CAAd;AACH;;AACDH,MAAM,CAACI,SAAP,GAAmB;AACfC,EAAAA,QADe,sBACJ;AACP,WAAO,IAAIL,MAAJ,CAAW,CAAC,KAAKC,CAAjB,EAAoB,CAAC,KAAKC,CAA1B,EAA6B,CAAC,KAAKC,CAAnC,CAAP;AACH,GAHc;AAIfG,EAAAA,GAJe,eAIXC,CAJW,EAIR;AACH,QAAIA,CAAC,YAAYP,MAAjB,EAAyB,OAAO,IAAIA,MAAJ,CAAW,KAAKC,CAAL,GAASM,CAAC,CAACN,CAAtB,EAAyB,KAAKC,CAAL,GAASK,CAAC,CAACL,CAApC,EAAuC,KAAKC,CAAL,GAASI,CAAC,CAACJ,CAAlD,CAAP;AACzB,WAAO,IAAIH,MAAJ,CAAW,KAAKC,CAAL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","file":"scripts.bcf3243b.js","sourceRoot":"..","sourcesContent":["// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","// Vector class originally from https://evanw.github.io/lightgl.js/docs/vector.html\n// Edited and expanded as required\n\n// ref - p5 vector https://p5js.org/reference/#/p5.Vector\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-vectors/a/more-vector-math\n\n/*\n\n    const getVMagnitude = ({ x, y }) => Math.sqrt(x * x + y * y);\n\n    const getVNormalize = (vector) => {\n        let mag = getVMagnitude(vector);\n        mag = mag || 1;\n        return {\n            x: vector.x / mag,\n            y: vector.y / mag,\n        };\n    };\n\n    const vMagnitude = (m, vector) => {\n        const c = getVMagnitude(vector);\n        const r = m / c;\n        return {\n            x: vector.x * r,\n            y: vector.y * r,\n        };\n    };\n */\n\nexport function Vector(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n}\nVector.prototype = {\n    negative() {\n        return new Vector(-this.x, -this.y, -this.z);\n    },\n    add(v) {\n        if (v instanceof Vector) return new Vector(this.x + v.x, this.y + v.y, this.z + v.z);\n        return new Vector(this.x + v, this.y + v, this.z + v);\n    },\n    sub(v) {\n        if (v instanceof Vector) return new Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n        return new Vector(this.x - v, this.y - v, this.z - v);\n    },\n    mult(v) {\n        if (v instanceof Vector) return new Vector(this.x * v.x, this.y * v.y, this.z * v.z);\n        return new Vector(this.x * v, this.y * v, this.z * v);\n    },\n    div(v) {\n        if (v instanceof Vector) return new Vector(this.x / v.x, this.y / v.y, this.z / v.z);\n        return new Vector(this.x / v, this.y / v, this.z / v);\n    },\n    equals(v) {\n        return this.x === v.x && this.y === v.y && this.z === v.z;\n    },\n    dot(v) {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    },\n    cross(v) {\n        return new Vector(this.y * v.z - this.z * v.y, this.z * v.x - this.x * v.z, this.x * v.y - this.y * v.x);\n    },\n    length() {\n        return Math.sqrt(this.dot(this));\n    },\n    getMag() {\n        return this.length();\n    },\n    normalize() {\n        let mag = this.getMag();\n        mag = mag || 1;\n        return this.div(mag);\n    },\n    mag(m) {\n        const c = this.getMag();\n        const r = m / c;\n        return this.mult(r);\n    },\n    unit() {\n        return this.divide(this.length());\n    },\n    min() {\n        return Math.min(Math.min(this.x, this.y), this.z);\n    },\n    max() {\n        return Math.max(Math.max(this.x, this.y), this.z);\n    },\n    toAngles() {\n        return {\n            theta: Math.atan2(this.z, this.x),\n            phi: Math.asin(this.y / this.length()),\n        };\n    },\n    angleTo(a) {\n        return Math.acos(this.dot(a) / (this.length() * a.length()));\n    },\n    toArray(n) {\n        return [this.x, this.y, this.z].slice(0, n || 3);\n    },\n    clone() {\n        return new Vector(this.x, this.y, this.z);\n    },\n    init(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    },\n};\nVector.negative = function (a, b) {\n    b.x = -a.x;\n    b.y = -a.y;\n    b.z = -a.z;\n    return b;\n};\nVector.add = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x + b.x;\n        c.y = a.y + b.y;\n        c.z = a.z + b.z;\n    } else {\n        c.x = a.x + b;\n        c.y = a.y + b;\n        c.z = a.z + b;\n    }\n    return c;\n};\nVector.subtract = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x - b.x;\n        c.y = a.y - b.y;\n        c.z = a.z - b.z;\n    } else {\n        c.x = a.x - b;\n        c.y = a.y - b;\n        c.z = a.z - b;\n    }\n    return c;\n};\nVector.multiply = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x * b.x;\n        c.y = a.y * b.y;\n        c.z = a.z * b.z;\n    } else {\n        c.x = a.x * b;\n        c.y = a.y * b;\n        c.z = a.z * b;\n    }\n    return c;\n};\nVector.divide = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x / b.x;\n        c.y = a.y / b.y;\n        c.z = a.z / b.z;\n    } else {\n        c.x = a.x / b;\n        c.y = a.y / b;\n        c.z = a.z / b;\n    }\n    return c;\n};\nVector.cross = function (a, b, c) {\n    c.x = a.y * b.z - a.z * b.y;\n    c.y = a.z * b.x - a.x * b.z;\n    c.z = a.x * b.y - a.y * b.x;\n    return c;\n};\nVector.unit = function (a, b) {\n    const length = a.length();\n    b.x = a.x / length;\n    b.y = a.y / length;\n    b.z = a.z / length;\n    return b;\n};\nVector.fromAngles = function (theta, phi) {\n    return new Vector(Math.cos(theta) * Math.cos(phi), Math.sin(phi), Math.sin(theta) * Math.cos(phi));\n};\nVector.randomDirection = function () {\n    return Vector.fromAngles(Math.random() * Math.PI * 2, Math.asin(Math.random() * 2 - 1));\n};\nVector.min = function (a, b) {\n    return new Vector(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.min(a.z, b.z));\n};\nVector.max = function (a, b) {\n    return new Vector(Math.max(a.x, b.x), Math.max(a.y, b.y), Math.max(a.z, b.z));\n};\nVector.lerp = function (a, b, fraction) {\n    return b.subtract(a).multiply(fraction).add(a);\n};\nVector.fromArray = function (a) {\n    return new Vector(a[0], a[1], a[2]);\n};\nVector.angleBetween = function (a, b) {\n    return a.angleTo(b);\n};\n","import tinycolor from 'tinycolor2';\nimport { pointDistance, normalizeInverse, randomNumberBetween, lerp, pointAngleFromVelocity } from './math';\nimport { Vector } from './vector';\n\nconst MAX_COORD_HISTORY = 30;\n\nconst limitArrayLen = (arr) => {\n    const arrLength = arr.length;\n    if (arrLength > MAX_COORD_HISTORY) {\n        arr.splice(0, arrLength - MAX_COORD_HISTORY);\n    }\n    return arr;\n};\n\nexport class Particle {\n    constructor(values) {\n        this.initValues(values);\n    }\n\n    initValues({\n        index,\n        x,\n        y,\n        velocityX,\n        velocityY,\n        accelerationX,\n        accelerationY,\n        radius,\n        mass,\n        color,\n        alpha,\n        rotation,\n        lifetime,\n        drawFn,\n        updateFn,\n        colorFn,\n    }) {\n        this.index = index || 0;\n        this._x = x || 0;\n        this._y = y || 0;\n        this.xHistory = [x];\n        this.yHistory = [y];\n        this.oX = x || this.oX;\n        this.oY = y || this.oY;\n        this.velocityX = velocityX || 0;\n        this.velocityY = velocityY || 0;\n        this.accelerationX = accelerationX || 0;\n        this.accelerationY = accelerationY || 0;\n        // this.oVelocityX = velocityX || 0;\n        // this.oVelocityY = velocityY || 0;\n        this.mass = mass || 1;\n        this.radius = radius || 1;\n        this._color = color ? tinycolor(color) : tinycolor({ r: 255, g: 255, b: 255 });\n        this.rotation = rotation || 0;\n        this.lifetime = lifetime || 1;\n        this.drawFn = drawFn;\n        this.updateFn = updateFn;\n        // always return a string\n        this.colorFn = colorFn;\n    }\n\n    get color() {\n        if (this.colorFn) {\n            return tinycolor(this.colorFn(this));\n        }\n        return this._color;\n    }\n\n    set color(value) {\n        this._color = tinycolor(value);\n    }\n\n    get colorStr() {\n        if (this.colorFn) {\n            return this.colorFn(this);\n        }\n        return this._color.toRgbString();\n    }\n\n    get x() {\n        return this._x;\n    }\n\n    set x(value) {\n        this._x = value;\n        this.xHistory.unshift(value);\n        if (this.xHistory.length > MAX_COORD_HISTORY) {\n            this.xHistory = this.xHistory.slice(0, MAX_COORD_HISTORY);\n        }\n    }\n\n    get y() {\n        return this._y;\n    }\n\n    set y(value) {\n        this._y = value;\n        this.yHistory.unshift(value);\n        if (this.yHistory.length > MAX_COORD_HISTORY) {\n            this.yHistory = this.yHistory.slice(0, MAX_COORD_HISTORY);\n        }\n    }\n\n    get vVector() {\n        return new Vector(this.velocityX, this.velocityY, 0);\n    }\n\n    set vVector({ x, y }) {\n        this.velocityX = x;\n        this.velocityY = y;\n    }\n\n    get aVector() {\n        return new Vector(this.accelerationX, this.accelerationY, 0);\n    }\n\n    set aVector({ x, y }) {\n        this.accelerationX = x;\n        this.accelerationY = y;\n    }\n\n    // Rotation angle to point in direction of velocity\n    get heading() {\n        return pointAngleFromVelocity(this);\n    }\n\n    draw() {\n        this.drawFn(this);\n    }\n\n    update() {\n        this.updateFn(this);\n        this.draw(this);\n    }\n}\n\nexport const pixel = (x, y, color, radius) => new Particle({ x, y, color, radius });\n\nexport const psCanvasRandom = (canvas) => ({\n    x: randomNumberBetween(0, canvas.width),\n    y: randomNumberBetween(0, canvas.height),\n});\n\nexport const createRandomParticleValues = (canvas) => {\n    const vel = 2;\n    const radius = randomNumberBetween(5, 10);\n    const coords = psCanvasRandom(canvas);\n    return {\n        radius,\n        x: coords.x,\n        y: coords.y,\n        mass: randomNumberBetween(1, 10),\n        velocityX: randomNumberBetween(-vel, vel),\n        velocityY: randomNumberBetween(-vel, vel),\n        accelerationX: 0,\n        accelerationY: 0,\n        rotation: randomNumberBetween(-180, 180),\n        // color: { r: randomNumberBetween(100, 255), g: randomNumberBetween(100, 255), b: randomNumberBetween(100, 255) },\n        color: {\n            r: lerp(0, 255, coords.x / canvas.width),\n            g: randomNumberBetween(100, 255),\n            b: lerp(0, 255, coords.y / canvas.height),\n        },\n    };\n};\n\nexport const updatePosWithVelocity = (particle) => {\n    particle.x += particle.vVector.x;\n    particle.y += particle.vVector.y;\n};\n\nexport const edgeBounce = ({ width, height }, particle) => {\n    // if (particle.x + particle.radius > width || particle.x - particle.radius < 0) {\n    //     particle.velocityX *= -1;\n    // }\n    // if (particle.y + particle.radius > height || particle.y - particle.radius < 0) {\n    //     particle.velocityY *= -1;\n    // }\n    if (particle.x + particle.radius > width) {\n        particle.velocityX *= -1;\n        particle.x = width - particle.radius;\n    }\n    if (particle.x - particle.radius < 0) {\n        particle.velocityX *= -1;\n        particle.x = particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.velocityY *= -1;\n        particle.y = height - particle.radius;\n    }\n    if (particle.y - particle.radius < 0) {\n        particle.velocityY *= -1;\n        particle.y = particle.radius;\n    }\n};\n\nexport const edgeWrap = ({ width, height }, particle) => {\n    if (particle.x + particle.radius > width) {\n        particle.x = 0 + particle.radius;\n    } else if (particle.x - particle.radius < 0) {\n        particle.x = width - particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.y = 0 + particle.radius;\n    } else if (particle.y - particle.radius < 0) {\n        particle.y = height - particle.radius;\n    }\n};\n\nexport const gravityPoint = (mult = 0.2, f = 1) => (x, y, radius, particle) => {\n    const distance = pointDistance({ x, y }, particle);\n    if (distance < radius) {\n        const dx = x - particle.x;\n        const dy = y - particle.y;\n        const forceDirectionX = dx / distance;\n        const forceDirectionY = dy / distance;\n        const force = normalizeInverse(0, radius, distance) * f * mult;\n        const tempX = forceDirectionX * force * particle.radius * 2;\n        const tempY = forceDirectionY * force * particle.radius * 2;\n        particle.x += tempX;\n        particle.y += tempY;\n    }\n};\n\n// for moving points, push away/around from point\nexport const avoidPoint = (point, particle, f = 1) => {\n    gravityPoint(1, (f *= -1))(point.x, point.y, point.radius, particle);\n};\n\n// for moving points, pull towards point\nexport const attractPoint = (point, particle, f = 1) => {\n    gravityPoint(1, f)(point.x, point.y, point.radius, particle);\n};\n\n// for moving static, push away/outward from point\nexport const pointPush = (point, particle, f = 1) => {\n    const dx = point.x - particle.x;\n    const dy = point.y - particle.y;\n    const distance = pointDistance(point, particle);\n    const forceDirectionX = dx / distance;\n    const forceDirectionY = dy / distance;\n    const force = normalizeInverse(0, point.radius, distance) * f;\n    particle.velocityX = forceDirectionX * force * particle.mass * 0.8;\n    particle.velocityY = forceDirectionY * force * particle.mass * 0.8;\n\n    if (distance < point.radius) {\n        particle.x -= particle.velocityX;\n        particle.y -= particle.velocityY;\n    } else {\n        // TODO if < 1 then snap to 0\n        if (particle.x !== particle.oX) {\n            particle.x -= (particle.x - particle.oX) * 0.1;\n        }\n        if (particle.y !== particle.oY) {\n            particle.y -= (particle.y - particle.oY) * 0.1;\n        }\n    }\n};\n","/*\n  // Math aliases\n  var  = Math.PI\n  var random = Math.random\n  var round = Math.round\n  var floor = Math.floor\n  var abs = Math.abs\n  var sin = Math.sin\n  var cos = Math.cos\n  var tan = Math.tan\n\n  Math Snippets\n  https://github.com/terkelg/math\n*/\n\nimport {createRandomParticleValues, Particle} from \"./particle\";\nimport {fillCanvas} from \"./canvas\";\n\nexport const randomSign = () => (Math.round(Math.random()) == 1 ? 1 : -1);\n\n// returns value between 0-1, 250,500,0 => .5\nexport const normalize = (min, max, val) => (val - min) / (max - min);\nexport const normalizeInverse = (min, max, val) => 1 - normalize(min, max, val);\n\n// https://twitter.com/mattdesl/status/1031305279227478016\n// https://www.trysmudford.com/blog/linear-interpolation-functions/\n// lerp(20, 80, 0.5) // 40\nexport const lerp = (x, y, a) => x * (1 - a) + y * a;\nexport const clamp = (min = 0, max = 1, a) => Math.min(max, Math.max(min, a));\n// invlerp(50, 100, 75)  // 0.5\nexport const invlerp = (x, y, a) => clamp(0,1,(a - x) / (y - x));\n// a is point in 1 and converts to point in 2\n// range(10, 100, 2000, 20000, 50) // 10000\nexport const lerpRange = (x1, y1, x2, y2, a) => lerp(x2, y2, invlerp(x1, y1, a));\n\nexport const pointDistance = (pointA, pointB) => {\n    const dx = pointA.x - pointB.x;\n    const dy = pointA.y - pointB.y;\n    return Math.sqrt(dx * dx + dy * dy);\n};\n\n// https://stackoverflow.com/questions/13043945/how-do-i-calculate-the-position-of-a-point-in-html5-canvas-after-rotation\nexport const pointRotateCoord = (point, angle) => ({\n    x: point.x * cos(angle) - point.y * sin(angle),\n    y: point.y * cos(angle) + point.x * sin(angle),\n});\n\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-angular-movement/a/pointing-towards-movement\nexport const pointAngleFromVelocity = ({velocityX, velocityY}) => Math.atan2(velocityY, velocityX);\n\nexport const radiansToDegrees = (rad) => (rad * 180) / Math.PI;\n\nexport const randomNumberBetween = (min, max) => Math.random() * (max - min) + min;\nexport const randomNumberBetweenMid = (min, max) => randomNumberBetween(min, max) - max / 2;\n\n// Scale up point grid and center in the canvas\nexport const scalePointToCanvas = (cwidth, cheight, width, height, zoomFactor, x, y) => {\n    const particleXOffset = cwidth / 2 - (width * zoomFactor) / 2;\n    const particleYOffset = cheight / 2 - (height * zoomFactor) / 2;\n    return {\n        x: x * zoomFactor + particleXOffset,\n        y: y * zoomFactor + particleYOffset,\n    };\n};\n\n// [[x,y], ...]\nexport const createCirclePoints = (centerX, centerY, diameter, steps, sx = 1, sy = 1) => {\n    const points = [];\n    for (let theta = 0; theta < 360; theta += steps) {\n        const radius = theta * (Math.PI / 180);\n        const x = (Math.cos(radius) * diameter + sx) + centerX;\n        const y = (Math.sin(radius) * diameter + sy) + centerY;\n        points.push([x, y]);\n    }\n    return points;\n}","import tinycolor from 'tinycolor2';\n\nimport { radiansToDegrees, pointAngleFromVelocity, pointDistance, normalizeInverse } from './math';\n\nexport const resizeCanvas = (canvas, width, height) => {\n    canvas.width = width;\n    canvas.height = height;\n};\n\nexport const clearCanvas = (canvas, context) => (_) => context.clearRect(0, 0, canvas.width, canvas.height);\n\nexport const fillCanvas = (canvas, context) => (opacity = 1, color = '0,0,0') => {\n    context.fillStyle = `rgba(${color},${opacity})`;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n};\n\nexport const background = (canvas, context) => (color = 'black') => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fillRect(0, 0, canvas.width, canvas.height);\n};\n\nexport const drawRotatedParticle = (ctx, drawFn, particle, ...args) => {\n    const pSaveX = particle.x;\n    const pSaveY = particle.y;\n    particle.x = 0;\n    particle.y = 0;\n    ctx.save();\n    ctx.translate(pSaveX, pSaveY);\n    ctx.rotate(particle.heading);\n    drawFn(ctx)(particle, args);\n    ctx.restore();\n    particle.x = pSaveX;\n    particle.y = pSaveY;\n};\n\nexport const drawPoint = (context) => ({ x, y, radius, color }) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n};\n\nexport const drawTestPoint = (context) => ({ x, y, radius, color }) => {\n    context.strokeStyle = color.toRgbString();\n    context.lineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(255,255,255,.1)';\n    context.fill();\n    context.stroke();\n    drawLine(context)(1, x, y, x + radius, y);\n};\n\n// TODO center it\nexport const drawRake = (context) => ({ x, y, radius, color }, spacing) => {\n    const points = 5;\n    spacing |= radius * 3;\n    for (let i = 0; i < points; i++) {\n        drawPoint(context)({ x: x + spacing * i, y, radius, color });\n    }\n};\n\nexport const drawSquare = (context) => ({ x, y, radius, color }) => {\n    context.fillStyle = color.toRgbString();\n    context.fillRect(x, y, radius, radius);\n};\n\nexport const drawTriangle = (context) => ({ x, y, radius, color }) => {\n    const half = radius / 2;\n    context.beginPath();\n    context.moveTo(x - half, y - half);\n    context.lineTo(x + half, y);\n    context.lineTo(x - half, y + half);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n\n    // context.beginPath();\n    // context.arc(x+half, y, 3, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgb(255,0,0)';\n    // context.fill();\n};\n\nexport const drawLine = (context) => (strokeWidth, x1, y1, x2, y2) => {\n    context.lineWidth = strokeWidth;\n    context.beginPath();\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n};\n\nexport const drawCircle = (context) => (strokeWidth, x, y, radius) => {\n    // context.strokeStyle = 'rgba(255,255,255,.25)';\n    context.lineWidth = strokeWidth;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgba(255,255,255,.1)';\n    // context.fill();\n    context.stroke();\n};\n\nexport const connectParticles = (context) => (pArray, proximity) => {\n    const opacity = 1;\n    const len = pArray.length;\n    for (let a = 0; a < len; a++) {\n        // all consecutive particles\n        for (let b = a; b < len; b++) {\n            const pA = pArray[a];\n            const pB = pArray[b];\n            const distance = pointDistance(pA, pB);\n            if (distance < proximity) {\n                const pColor = pA.color;\n                pColor.setAlpha(normalizeInverse(0, proximity, distance));\n                context.strokeStyle = pColor.toHslString();\n                drawLine(context)(0.5, pA.x, pA.y, pB.x, pB.y);\n            }\n        }\n    }\n};\n\nexport const drawPointTrail = (context) => (particle) => {\n    const trailLen = particle.xHistory.length;\n    context.lineWidth = particle.radius;\n    const pColor = particle.color;\n    const aFade = (100 / trailLen) * 0.01;\n    let alpha = 1;\n    const sFade = (particle.radius * 2) / trailLen;\n    let stroke = particle.radius * 2;\n    for (let i = 0; i < trailLen; i++) {\n        const startX = i === 0 ? particle.x : particle.xHistory[i - 1];\n        const startY = i === 0 ? particle.y : particle.yHistory[i - 1];\n        drawLine(context)(stroke, startX, startY, particle.xHistory[i], particle.yHistory[i]);\n        pColor.setAlpha(alpha);\n        context.strokeStyle = pColor.toRgbString();\n        alpha -= aFade;\n        stroke -= sFade;\n    }\n    //\n};\n\nexport const drawMouse = (context) => ({ x, y, radius }) => {\n    if (x === undefined || y === undefined) return;\n    context.strokeStyle = 'rgba(255,255,255,.25)';\n    context.lineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(255,255,255,.1)';\n    context.fill();\n    context.stroke();\n};\n","/*\nConvenience canvas sketch runner. Based on p5js\n\n\nconst variation = () => {\n    const config = {};\n\n    const setup = (canvas, context) => {\n        // create initial state\n    };\n\n    // will run every frame\n    const draw = (canvas, context, mouse) => {\n        // draw on every frame\n        return 1; // -1 to exit animation loop\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n*/\n\nimport {fillCanvas, resizeCanvas} from './canvas';\n\nexport const sketch = () => {\n    const mouse = {\n        x: undefined,\n        y: undefined,\n        isDown: false,\n        radius: 100,\n    };\n\n    let fps = 0;\n\n    const canvasSizeFraction = 0.85;\n    const canvas = document.getElementById('canvas');\n    const context = canvas.getContext('2d');\n    canvas.width = window.innerWidth * canvasSizeFraction;\n    canvas.height = window.innerHeight * canvasSizeFraction;\n\n    const getCanvas = (_) => canvas;\n    const getContext = (_) => context;\n    const getMouse = (_) => mouse;\n\n    const mouseDown = (evt) => {\n        mouse.isDown = true;\n    };\n\n    const mouseMove = (evt) => {\n        const canvasFrame = canvas.getBoundingClientRect();\n        mouse.x = evt.x - canvasFrame.x;\n        mouse.y = evt.y - canvasFrame.y;\n    };\n\n    const mouseUp = (evt) => {\n        mouse.isDown = false;\n    };\n\n    const mouseOut = (evt) => {\n        mouse.x = undefined;\n        mouse.y = undefined;\n        mouse.isDown = false;\n    };\n\n    const windowResize = (evt) => resizeCanvas(canvas, window.innerWidth * canvasSizeFraction, window.innerHeight * canvasSizeFraction);\n\n    window.addEventListener('mousedown', mouseDown);\n    window.addEventListener('touchstart', mouseDown);\n\n    window.addEventListener('mousemove', mouseMove);\n    window.addEventListener('touchmove', mouseMove);\n\n    window.addEventListener('mouseup', mouseUp);\n    window.addEventListener('touchend', mouseUp);\n\n    window.addEventListener('mouseout', mouseOut);\n    window.addEventListener('touchcancel', mouseOut);\n\n    window.addEventListener('resize', windowResize);\n\n    const run = (variation) => {\n\n        let backgroundColor = '0,0,0'\n\n        if (variation.hasOwnProperty(('config'))) {\n            const config = variation.config;\n            console.log('Sketch config:', variation.config);\n            if (config.width && config.height) {\n                window.removeEventListener('resize', windowResize);\n                resizeCanvas(canvas, config.width, config.height);\n            }\n            if(config.background) {\n                backgroundColor = config.background;\n            }\n            if (config.fps) {\n                fps = config.fps;\n            }\n        }\n\n        let rendering = true;\n        let targetFpsInterval = 1000 / fps;\n        let lastAnimationFrameTime;\n\n        const startSketch = () => {\n            window.removeEventListener('load', startSketch);\n            variation.setup(canvas, context);\n\n            // fillCanvas(canvas, context)(1,backgroundColor);\n\n            const render = () => {\n                const result = variation.draw(canvas, context, mouse);\n                if (result !== -1) {\n                    requestAnimationFrame(render);\n                }\n            };\n\n            // https://stackoverflow.com/questions/19764018/controlling-fps-with-requestanimationframe\n            const renderAtFps = () => {\n                if (rendering) {\n                    requestAnimationFrame(renderAtFps);\n                }\n\n                let now = Date.now();\n                let elapsed = now - lastAnimationFrameTime;\n\n                if (elapsed > targetFpsInterval) {\n                    lastAnimationFrameTime = now - (elapsed % targetFpsInterval);\n                    const result = variation.draw(canvas, context, mouse);\n                    if (result === -1) {\n                        rendering = false;\n                    }\n                }\n\n            };\n\n            if (!fps) {\n                requestAnimationFrame(render);\n            } else {\n                lastAnimationFrameTime = Date.now();\n                requestAnimationFrame(renderAtFps);\n            }\n\n        };\n\n        window.addEventListener('load', startSketch);\n    };\n\n\n\n    return {\n        canvas: getCanvas,\n        context: getContext,\n        mouse: getMouse,\n        run,\n    };\n};\n","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n    edgeWrap,\n} from './lib/particle';\nimport {\n    clearCanvas,\n    connectParticles,\n    drawMouse,\n    drawPoint,\n    drawPointTrail,\n    drawRotatedParticle,\n    drawTestPoint,\n    drawTriangle,\n    background,\n    drawRake,\n} from './lib/canvas';\nimport { clamp } from './lib/math';\nimport { Vector } from './lib/vector';\n\nexport const debugDev = () => {\n    const config = {\n        width: 700,\n        height: 700,\n        // fps: 30,\n    };\n\n    const numParticles = 10;\n    const particlesArray = [];\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n\n            // props.color = 'white';\n            // props.mass = 1;\n            props.radius = Math.sqrt(props.mass) * 10;\n            // props.y = canvasCenterY;\n            props.velocityX = 0;\n            props.velocityY = 0;\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    // const targetX = mouse.x ? mouse.x : canvas.width / 2;\n    // const targetY = mouse.y ? mouse.y : canvas.height / 2;\n    // accelerateToPoint(targetX, targetY, particlesArray[i]);\n    const accelerateToPoint = (targetX, targetY, particle) => {\n        const magnitude = 0.001;\n        const vLimit = 5;\n        const accX = ((targetX - particle.x) * magnitude) / particle.mass;\n        const accY = ((targetY - particle.y) * magnitude) / particle.mass;\n        particle.velocityX += accX;\n        particle.velocityY += accY;\n        particle.velocityX = clamp(-vLimit, vLimit, particle.velocityX);\n        particle.velocityY = clamp(-vLimit, vLimit, particle.velocityY);\n    };\n\n    const applyForce = (fVect, particle) => {\n        const fV = fVect.div(particle.mass);\n        const aV = particle.aVector.add(fV);\n        const pV = particle.vVector.add(aV);\n        particle.vVector = pV;\n    };\n\n    const friction = ({ width, height }, particle) => {\n        if (particle.y + particle.radius >= height) {\n            const mu = 0.1;\n            const normal = particle.mass;\n            const vfriction = particle.vVector\n                .normalize()\n                .mult(-1)\n                .mag(mu * normal);\n            applyForce(vfriction, particle);\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 0, g: 0, b: 50, a: 0.5 });\n        for (let i = 0; i < numParticles; i++) {\n            const gravity = new Vector(0, 0.5);\n            const wind = new Vector(1, 0);\n\n            const weight = gravity.mult(particlesArray[i].mass);\n\n            if (mouse.isDown) {\n                applyForce(wind, particlesArray[i]);\n            }\n\n            applyForce(weight, particlesArray[i]);\n            friction(canvas, particlesArray[i]);\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            drawRotatedParticle(context, drawTestPoint, particlesArray[i]);\n            particlesArray[i].aVector = { x: 0, y: 0 };\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n} from './lib/particle';\nimport {clearCanvas, connectParticles, drawMouse, drawPoint, drawPointTrail, fillCanvas} from './lib/canvas';\n\n// Based on https://www.youtube.com/watch?v=d620nV6bp0A\nexport const variation1 = () => {\n    const numParticles= 100;\n    const particlesArray = [];\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width/2;\n        canvasCenterY = canvas.height/2;\n        centerRadius = canvas.height/4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = 5;\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)();\n\n        for (let i = 0; i < numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            avoidPoint({ radius: centerRadius, x:canvasCenterX, y:canvasCenterY }, particlesArray[i], 4);\n            attractPoint(mouse, particlesArray[i], mouse.isDown ? -1 : 1);\n            drawPoint(context)(particlesArray[i]);\n            drawPointTrail(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 200);\n        drawMouse(context)(mouse);\n    };\n\n    return {\n        setup,\n        draw,\n    };\n};\n","import { avoidPoint, Particle, createRandomParticleValues } from './lib/particle';\nimport { clearCanvas, connectParticles, drawMouse, drawPoint } from './lib/canvas';\nimport { randomNumberBetween } from './lib/math';\n\n// Based on https://www.youtube.com/watch?v=j_BgnpMPxzM\nexport const variation2 = () => {\n    const config = {\n        friction: 0.8,\n        gravity: 1,\n        decay: 0.05,\n        tweenDamp: 0.1,\n        margin: 50,\n        intensity: 0,\n        numParticles: 200,\n    };\n\n    const particlesArray = [];\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            particlesArray.push(new Particle(createRandomParticleValues(canvas)));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        clearCanvas(canvas, context)();\n\n        for (let i = 0; i < config.numParticles; i++) {\n            particlesArray[i].radius -= config.decay;\n            if (particlesArray[i].radius <= 0) {\n                const newValues = createRandomParticleValues(canvas);\n                const newCoords = mouse;\n                newValues.x = newCoords.x + randomNumberBetween(-10, 10);\n                newValues.y = newCoords.y + randomNumberBetween(-10, 10);\n                particlesArray[i].initValues(newValues);\n            }\n            particlesArray[i].y += particlesArray[i].mass * (mouse.isDown ? 1 : 0.2);\n            particlesArray[i].mass += 0.2 * config.gravity;\n            if (\n                particlesArray[i].y + particlesArray[i].radius > canvas.height ||\n                particlesArray[i].y - particlesArray[i].radius < 0\n            ) {\n                particlesArray[i].mass *= -1;\n            }\n\n            avoidPoint(mouse, particlesArray[i]);\n            // attractPoint(psMouseCoords(), particlesArray[i]);\n            drawPoint(context)(particlesArray[i]);\n            // drawPointTrail(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 100);\n        drawMouse(context)(mouse);\n\n        return 1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import domokun from '../domokun.png';\nimport { clearCanvas, drawMouse, drawSquare, fillCanvas } from './lib/canvas';\nimport { randomNumberBetween, scalePointToCanvas } from './lib/math';\nimport { Particle, pointPush } from './lib/particle';\n\n// Based on https://www.youtube.com/watch?v=afdHgwn1XCY\nexport const variation3 = (_) => {\n    const config = {\n        friction: 0.8,\n        gravity: 1,\n        decay: 0.05,\n        tweenDamp: 0.1,\n        margin: 50,\n        intensity: 0,\n        numParticles: 200,\n    };\n\n    const png = new Image();\n    png.src = domokun;\n    const particlesArray = [];\n\n    const setup = (canvas, context) => {\n        context.drawImage(png, 0, 0);\n        const data = context.getImageData(0, 0, png.width, png.width);\n        clearCanvas(canvas, context)();\n\n        const imageZoomFactor = 7;\n\n        for (let y = 0, y2 = data.height; y < y2; y++) {\n            for (let x = 0, x2 = data.width; x < x2; x++) {\n                // BUG drawing transparent px\n                if (data.data[y * 4 * data.width + x * 4 + 3] > 128) {\n                    const points = scalePointToCanvas(\n                        canvas.width,\n                        canvas.height,\n                        data.width,\n                        data.height,\n                        imageZoomFactor,\n                        x,\n                        y\n                    );\n                    const pX = points.x;\n                    const pY = points.y;\n                    const mass = randomNumberBetween(2, 12);\n                    const r = data.data[y * 4 * data.width + x * 4];\n                    const g = data.data[y * 4 * data.width + x * 4 + 1];\n                    const b = data.data[y * 4 * data.width + x * 4 + 2];\n                    const color = { r, g, b };\n                    const radius = imageZoomFactor;\n                    particlesArray.push(new Particle({ x: pX, y: pY, mass, color, radius }));\n                }\n            }\n        }\n\n        config.numParticles = particlesArray.length;\n    };\n\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)(0.5);\n\n        for (let i = 0; i < config.numParticles; i++) {\n            pointPush(mouse, particlesArray[i], mouse.isDown ? -1 : 1);\n            drawSquare(context)(particlesArray[i]);\n        }\n        drawMouse(context)(mouse);\n\n        return 1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {createRandomParticleValues, Particle, pointPush} from \"./lib/particle\";\nimport {connectParticles, drawPoint, fillCanvas} from \"./lib/canvas\";\n\nexport const variation4 = () => {\n    const config = {\n        numParticles:0\n    };\n\n    const particlesArray = [];\n    const circles = [];\n\n    const setup = (canvas, context) => {\n        const centerX = canvas.width/2;\n        const centerY = canvas.height/2;\n        const diameter = canvas.height/4;\n        const steps = 10;\n\n        for(let theta = 0; theta < 360; theta += steps) {\n            const rad = theta*(Math.PI/180);\n            const x = (Math.cos(rad)*diameter)+centerX;\n            const y = (Math.sin(rad)*diameter)+centerY;\n            circles.push([x, y]);\n            const props = createRandomParticleValues(canvas);\n            props.x = x;\n            props.y = y;\n            props.radius=1;\n            props.color = {r:0,g:0,b:0}\n            props.index = circles.length-1;\n            particlesArray.push(new Particle(props));\n        }\n        config.numParticles = particlesArray.length;\n        fillCanvas(canvas, context)(1,'255,255,255');\n    };\n\n    // will run every frame\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)(0.005,'255,255,255');\n        for (let i = 0; i < config.numParticles; i++) {\n            pointPush(mouse, particlesArray[i], mouse.isDown ? -1 : 5);\n            drawPoint(context)(particlesArray[i]);\n            // let index = particlesArray[i].index + 1;\n            // if(index === circles.length) {\n            //     index = 0;\n            // }\n            // particlesArray[i].x = circles[index][0];\n            // particlesArray[i].y = circles[index][1];\n            // particlesArray.index = index;\n        }\n        connectParticles(context)(particlesArray, 200);\n        return 1; // -1 to exit animation loop\n\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n} from './lib/particle';\nimport {clearCanvas, connectParticles, drawMouse, drawPoint, drawPointTrail, fillCanvas} from './lib/canvas';\nimport {randomNumberBetween} from \"./lib/math\";\n\n\nexport const variation5 = () => {\n    const config = {\n        numParticles: 50,\n    };\n\n    const particlesArray = [];\n    const circles = [];\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = canvas.width / 2;\n            props.y = canvas.height / 2;\n            props.color = {r:0,g:0,b:0}\n            props.radius = .5;\n            particlesArray.push(new Particle(props));\n        }\n        const centerX = canvas.width/2;\n        const centerY = canvas.height/2;\n        const diameter = canvas.height/4;\n        const steps = 30;\n        for(let theta = 0; theta < 360; theta += steps) {\n            const rad = theta*(Math.PI/180);\n            const x = (Math.cos(rad)*diameter)+centerX;\n            const y = (Math.sin(rad)*diameter)+centerY;\n            circles.push([x, y, randomNumberBetween(20,100)]);\n        }\n        fillCanvas(canvas, context)(1,'255,255,255');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        // fillCanvas(canvas, context)(.005,'255,255,255');\n        for (let i = 0; i < config.numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            for(let c=0;c<circles.length; c++) {\n                avoidPoint({ radius: circles[c][2],  x:circles[c][0],y:circles[c][1]}, particlesArray[i], 4);\n            }\n            drawPoint(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 50);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {avoidPoint, Particle, createRandomParticleValues, updatePosWithVelocity, edgeBounce, gravityPoint} from './lib/particle';\nimport { fillCanvas, connectParticles, drawMouse, drawPoint } from './lib/canvas';\nimport {lerpRange, randomNumberBetween} from './lib/math';\n\n// Based on https://www.youtube.com/watch?v=j_BgnpMPxzM\nexport const variation6 = () => {\n\n    const numParticles = 200;\n    const particlesArray = [];\n    let hue=0;\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < numParticles; i++) {\n            const initValues = createRandomParticleValues(canvas);\n            initValues.color = {r:255,g:255,b:255};\n            particlesArray.push(new Particle(initValues));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)(.08);\n        if(hue++ > 361) hue = 0;\n        for (let i = 0; i < numParticles; i++) {\n            particlesArray[i].radius -= 0.05;\n            if (particlesArray[i].radius <= 0) {\n                const initValues = createRandomParticleValues(canvas);\n                initValues.x = mouse.x ? mouse.x : canvas.width/2;\n                initValues.y = mouse.y ? mouse.y : canvas.height/2;\n                // let h = lerpRange(0,canvas.width,100,200,initValues.x);\n                let s = lerpRange(0,10,0,100,initValues.radius);\n                let l = lerpRange(0,10,25,75,initValues.radius);\n                initValues.color = `hsl(${hue},${s}%,${l}%)`\n                particlesArray[i].initValues(initValues);\n            }\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n\n            gravityPoint()(canvas.width/2, canvas.height, 2000, particlesArray[i]);\n            // gravityPoint({x:canvas.width/2, y:canvas.height}, particlesArray[i])\n            drawPoint(context)(particlesArray[i]);\n        }\n        // connectParticles(context)(particlesArray, 100);\n        return 1;\n    };\n\n    return {\n        setup,\n        draw,\n    };\n};\n","/*\nExplorations with generative code\n*/\n\nimport normliaze from 'normalize.css';\n\nimport { sketch } from './lib/sketch';\nimport {debugDev} from \"./debug-dev\";\nimport { variation1 } from './variation1';\nimport { variation2 } from './variation2';\nimport { variation3 } from './variation3';\nimport {variation4} from \"./variation4\";\nimport {variation5} from \"./variation5\";\nimport {variation6} from './variation6'\n\nconst s = sketch();\n\nconst DEBUG = true;\n\nconst saveCanvasCapture = (_) => {\n    console.log('Saving capture');\n    const imageURI = s.canvas().toDataURL('image/png');\n    document.getElementById('download').href = imageURI;\n};\n\ndocument.getElementById('download').addEventListener('click', saveCanvasCapture);\nwindow.addEventListener('keydown', (e) => {\n    if (e.key === 's') {\n        document.getElementById('download').click();\n    }\n});\n\nconst setNote = (note) => (document.getElementById('note').innerText = note);\n\nconst getQueryVariable = (variable) => {\n    const query = window.location.search.substring(1);\n    const vars = query.split('&');\n    for (let i = 0; i < vars.length; i++) {\n        const pair = vars[i].split('=');\n        if (pair[0] === variable) {\n            return pair[1];\n        }\n    }\n    return false;\n};\n\nlet variationKey = getQueryVariable('variation');\nvariationKey = variationKey || '1';\n\nconst variations = {\n    1: {\n        note: 'Particles are attracted to the pointer. Press to repel.',\n        sketch: variation1,\n    },\n    2: {\n        note: 'Press to increase speed.',\n        sketch: variation2,\n    },\n    3: {\n        note: 'Particles are repelled from the pointer. Press to attract.',\n        sketch: variation3,\n    },\n    4: {\n        note: 'Particles are repelled from the pointer. Press to attract.',\n        sketch: variation4,\n    },\n    5: {\n        note: 'Sit back and watch.',\n        sketch: variation5,\n    },\n    6: {\n        note: 'Move the mouse',\n        sketch: variation6,\n    },\n};\n\nif (variations.hasOwnProperty(variationKey) & !DEBUG) {\n    const vToRun = variations[variationKey];\n    setNote(vToRun.note);\n    s.run(vToRun.sketch());\n} else {\n    setNote('Not a valid variation!');\n}\n\nif(DEBUG) {\n    s.run(debugDev())\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}