{"version":3,"sources":["node_modules/tinycolor2/tinycolor.js","node_modules/seed-random/index.js","node_modules/simplex-noise/simplex-noise.js","node_modules/defined/index.js","node_modules/canvas-sketch-util/random.js","scripts/lib/Vector.js","scripts/lib/math.js","scripts/lib/canvas.js","scripts/lib/sketch.js","scripts/experiments/lissajous01.js","scripts/released/waves01.js","node_modules/nice-color-palettes/100.json","scripts/lib/palettes.js","scripts/lib/Timeline.js","scripts/released/windLines.js","scripts/lib/Particle.js","scripts/released/hiImage01.js","scripts/released/variation1.js","scripts/released/variation2.js","scripts/released/domokun.js","scripts/released/variation4.js","scripts/released/variation5.js","scripts/released/variation6.js","scripts/released/rainbow-rake-orbit-mouse.js","scripts/released/threeAttractors.js","scripts/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Vector","x","y","z","prototype","negative","add","v","sub","mult","div","equals","dot","cross","length","Math","sqrt","mag","magSq","m","setMag","c","r","normalize","unit","divide","min","max","limit","cm","toAngles","theta","atan2","phi","asin","angleTo","a","acos","toArray","n","slice","clone","init","b","subtract","multiply","fromAngles","cos","sin","randomDirection","random","PI","lerp","fraction","fromArray","angleBetween","setSeed","getRandomSeed","console","log","getSeed","TAU","setRandomSeed","s","randomNumberBetween","value","randomNumberBetweenMid","randomSign","round","oneOf","arry","i","lowest","reduce","acc","highest","createRandomNumberArray","len","Array","from","map","loopingValue","t","pingPontValue","pointOnCircle","val","normalizeInverse","clamp","invlerp","mapRange","x1","y1","x2","y2","toSinValue","abs","marginify","margin","u","width","height","pointDistance","pointA","pointB","dx","dy","pointRotateCoord","point","angle","pointAngleFromVelocity","velocityX","velocityY","aFromVector","uvFromAngle","radiansToDegrees","rad","scalePointToCanvas","canvasWidth","canvasHeight","zoomFactor","particleXOffset","particleYOffset","create2dNoise","amplitude","frequency","noise2D","create3dNoise","noise3D","createCirclePoints","offsetX","offsetY","diameter","steps","sx","sy","points","radius","push","createGridPointsXY","xMargin","yMargin","columns","rows","gridPoints","colStep","rowStep","col","row","createGridPointsUV","rotation","position","resizeCanvas","canvas","clearCanvas","context","_","clearRect","fillCanvas","opacity","color","fillStyle","fillRect","background","toRgbString","resetStyles","strokeStyle","lineWidth","setLineDash","lineCap","drawParticlePoint","beginPath","arc","fill","setStokeColor","drawLine","strokeWidth","linecap","moveTo","lineTo","stroke","drawLineAngle","vect","drawCircle","drawCircleFilled","drawRectFilled","w","h","drawSquareFilled","size","drawTriangleFilled","half","drawQuadRectFilled","mx","my","quadraticCurveTo","drawRoundRectFilled","corner","drawTextFilled","text","style","font","fillText","drawRake","spacing","drawSpikeCircle","spikes","spikeLength","circleStroke","spikeStroke","drawRotatedParticle","ctx","drawFn","particle","pSaveX","pSaveY","save","translate","rotate","heading","args","restore","connectParticles","pArray","proximity","useAlpha","pA","pB","distance","pColor","setAlpha","toHslString","drawPointTrail","trailLen","xHistory","aFade","alpha","sFade","startX","startY","yHistory","drawTestPoint","drawParticleVectors","vmult","amult","vel","vVector","aVector","drawMouse","undefined","drawAttractor","mode","mass","g","getImageDataFromImage","image","drawImage","getImageData","getColorAverageGrey","getImageDataColor","imageData","data","sketch","mouse","isDown","fps","currentVariation","canvasSizeFraction","document","getElementById","getContext","window","innerWidth","innerHeight","getCanvas","getMouse","mouseDown","evt","mouseMove","canvasFrame","getBoundingClientRect","mouseUp","mouseOut","windowResize","addEventListener","run","variation","backgroundColor","hasOwnProperty","config","removeEventListener","rendering","targetFpsInterval","lastAnimationFrameTime","startSketch","setup","render","result","draw","requestAnimationFrame","renderAtFps","now","Date","elapsed","tan","pow","pointStroked","line","Curve","centerX","centerY","speed","lissajous01","curves","canvasCenterX","canvasCenterY","centerRadius","tick","colSize","colOffset","circleX","curve","circleY","roseX","k","roseY","manyX","manyY","manyR","pointRad","px","py","distFromCenter","l","createWave","noise","cfrequency","camplitude","drawWaveLine","startx","endx","yorigin","topWave","bottomWave","dots","currentX","currentY","waveColor","lineheight","gradient","createLinearGradient","addColorStop","darken","xstep","forEach","dotColor","rnd","lighten","waves01","canvasMiddle","colorBackground","colorTop","colorBottom","waves","waveResolution","waveRows","incrementY","maxY","cosOffset","createWavesRow","idx","mid","top","bottom","buffer","tinycolor","mix","spin","brighten","asTinyColor","palettes","pop","retro_sunset","vapor_wave","thought_provoking","nicePalette","nicepalettes","Object","keys","palette","Timeline","loop","duration","totalLoopFrames","iterations","time","playhead","frame","elapsedLoops","startTime","windLines","counter","grid","timeline","colors","wave","startvect","onFrame","MAX_COORD_HISTORY","limitArrayLen","arr","arrLength","splice","Particle","values","initValues","index","accelerationX","accelerationY","lifetime","updateFn","colorFn","rest","props","oX","oY","res","warn","unshift","pixel","psCanvasRandom","createRandomParticleValues","coords","updatePosWithVelocity","applyForce","fVect","fV","aV","pV","friction","mu","normal","vfriction","drag","coefficent","area","velUnit","vdrag","attract","affectDist","dir","distanceSq","strength","force","edgeBounce","edgeWrap","gravityPoint","f","forceDirectionX","forceDirectionY","tempX","tempY","avoidPoint","attractPoint","pointPush","hiImage01","numParticles","imageZoomFactor","png","Image","src","sourcePng","particlesArray","particleColor","pxColor","variation1","variation2","gravity","decay","tweenDamp","intensity","newValues","newCoords","domokun","imageSize","domokunPng","cropColor","pX","pY","variation4","circles","variation5","variation6","hue","rainbowRakeOrbit","attractor","threeAttractors","attractorDist","leftattractor","midattractor","rightattractor","DEBUG","saveCanvasCapture","imageURI","toDataURL","setAttribute","href","e","key","click","setNote","note","innerText","getQueryVariable","variable","query","location","search","substring","vars","split","pair","variationKey","variations","vToRun","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","appendChild","createElement","stackTrace","innerHTML","getParents","modules","parents","d","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A0BAA,IAAI4gB,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIC,OAAO,GAAG,CAAC,KAAKD,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBC,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWC,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD;;AAEDC,OAAO,CAACT,YAAR,GAAuBD,kBAAvB;AACAU,OAAO,CAACH,UAAR,GAAqBA,UAArB;;AC5BA,IAAII,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAACE,SAAL,EAAd;;AACAD,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;AACD,GAFD;;AAGAH,EAAAA,OAAO,CAACnC,IAAR,GAAekC,IAAI,CAAClC,IAAL,CAAUc,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgC1N,IAAI,CAACD,GAAL,EAA/C;AACA+O,EAAAA,IAAI,CAACK,UAAL,CAAgBC,YAAhB,CAA6BL,OAA7B,EAAsCD,IAAI,CAACO,WAA3C;AACD;;AAED,IAAIC,UAAU,GAAG,IAAjB;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,EAAAA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,QAAIC,KAAK,GAAG3R,QAAQ,CAAC4R,gBAAT,CAA0B,wBAA1B,CAAZ;;AACA,SAAK,IAAIhe,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+d,KAAK,CAACxhB,MAA1B,EAAkCyD,CAAC,EAAnC,EAAuC;AACrC,UAAIid,MAAM,CAACJ,UAAP,CAAkBkB,KAAK,CAAC/d,CAAD,CAAL,CAASkb,IAA3B,MAAqC+B,MAAM,CAACV,YAAP,EAAzC,EAAgE;AAC9DY,QAAAA,UAAU,CAACY,KAAK,CAAC/d,CAAD,CAAN,CAAV;AACD;AACF;;AAED4d,IAAAA,UAAU,GAAG,IAAb;AACD,GATsB,EASpB,EAToB,CAAvB;AAUD;;AAEDK,MAAM,CAACjB,OAAP,GAAiBa,SAAjB;;;;;;;;;A3B7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3qCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzdA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACxUA;AACA;AACA;AACA;AAEO,SAASpiB,MAAT,CAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;AAC5B,OAAKF,CAAL,GAASA,CAAC,IAAI,CAAd;AACA,OAAKC,CAAL,GAASA,CAAC,IAAI,CAAd;AACA,OAAKC,CAAL,GAASA,CAAC,IAAI,CAAd;AACH;;AACDH,MAAM,CAACI,SAAP,GAAmB;AACfC,EAAAA,QADe,sBACJ;AACP,WAAO,IAAIL,MAAJ,CAAW,CAAC,KAAKC,CAAjB,EAAoB,CAAC,KAAKC,CAA1B,EAA6B,CAAC,KAAKC,CAAnC,CAAP;AACH,GAHc;AAIfG,EAAAA,GAJe,eAIXC,CAJW,EAIR;AACH,QAAIA,CAAC,YAAYP,MAAjB,EAAyB,OAAO,IAAIA,MAAJ,CAAW,KAAKC,CAAL,GAASM,CAAC,CAACN,CAAtB,EAAyB,KAAKC,CAAL,GAASK,CAAC,CAACL,CAApC,EAAuC,KAAKC,CAAL,GAASI,CAAC,CAACJ,CAAlD,CAAP;AACzB,WAAO,IAAIH,MA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","file":"scripts.bcf3243b.js","sourceRoot":"..","sourcesContent":["// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","'use strict';\r\n\r\nvar width = 256;// each RC4 output is 0 <= x < 256\r\nvar chunks = 6;// at least six RC4 outputs for each double\r\nvar digits = 52;// there are 52 significant digits in a double\r\nvar pool = [];// pool: entropy pool starts empty\r\nvar GLOBAL = typeof global === 'undefined' ? window : global;\r\n\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\nvar startdenom = Math.pow(width, chunks),\r\n    significance = Math.pow(2, digits),\r\n    overflow = significance * 2,\r\n    mask = width - 1;\r\n\r\n\r\nvar oldRandom = Math.random;\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\nmodule.exports = function(seed, options) {\r\n  if (options && options.global === true) {\r\n    options.global = false;\r\n    Math.random = module.exports(seed, options);\r\n    options.global = true;\r\n    return Math.random;\r\n  }\r\n  var use_entropy = (options && options.entropy) || false;\r\n  var key = [];\r\n\r\n  // Flatten the seed string or build one from local entropy if needed.\r\n  var shortseed = mixkey(flatten(\r\n    use_entropy ? [seed, tostring(pool)] :\r\n    0 in arguments ? seed : autoseed(), 3), key);\r\n\r\n  // Use the seed to initialize an ARC4 generator.\r\n  var arc4 = new ARC4(key);\r\n\r\n  // Mix the randomness into accumulated entropy.\r\n  mixkey(tostring(arc4.S), pool);\r\n\r\n  // Override Math.random\r\n\r\n  // This function returns a random double in [0, 1) that contains\r\n  // randomness in every bit of the mantissa of the IEEE 754 value.\r\n\r\n  return function() {         // Closure to return a random double:\r\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n        x = 0;                          //   and no 'extra last byte'.\r\n    while (n < significance) {          // Fill up all significant digits by\r\n      n = (n + x) * width;              //   shifting numerator and\r\n      d *= width;                       //   denominator and generating a\r\n      x = arc4.g(1);                    //   new least-significant-byte.\r\n    }\r\n    while (n >= overflow) {             // To avoid rounding up, before adding\r\n      n /= 2;                           //   last byte, shift everything\r\n      d /= 2;                           //   right using integer Math until\r\n      x >>>= 1;                         //   we have exactly the desired bits.\r\n    }\r\n    return (n + x) / d;                 // Form the number within [0, 1).\r\n  };\r\n};\r\n\r\nmodule.exports.resetGlobal = function () {\r\n  Math.random = oldRandom;\r\n};\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n/** @constructor */\r\nfunction ARC4(key) {\r\n  var t, keylen = key.length,\r\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n  // The empty key [] is treated as [0].\r\n  if (!keylen) { key = [keylen++]; }\r\n\r\n  // Set up S using the standard key scheduling algorithm.\r\n  while (i < width) {\r\n    s[i] = i++;\r\n  }\r\n  for (i = 0; i < width; i++) {\r\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n    s[j] = t;\r\n  }\r\n\r\n  // The \"g\" method returns the next (count) outputs as one number.\r\n  (me.g = function(count) {\r\n    // Using instance members instead of closure state nearly doubles speed.\r\n    var t, r = 0,\r\n        i = me.i, j = me.j, s = me.S;\r\n    while (count--) {\r\n      t = s[i = mask & (i + 1)];\r\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n    }\r\n    me.i = i; me.j = j;\r\n    return r;\r\n    // For robust unpredictability discard an initial batch of values.\r\n    // See http://www.rsa.com/rsalabs/node.asp?id=2009\r\n  })(width);\r\n}\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\nfunction flatten(obj, depth) {\r\n  var result = [], typ = (typeof obj)[0], prop;\r\n  if (depth && typ == 'o') {\r\n    for (prop in obj) {\r\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n    }\r\n  }\r\n  return (result.length ? result : typ == 's' ? obj : obj + '\\0');\r\n}\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\nfunction mixkey(seed, key) {\r\n  var stringseed = seed + '', smear, j = 0;\r\n  while (j < stringseed.length) {\r\n    key[mask & j] =\r\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n  }\r\n  return tostring(key);\r\n}\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto if available.\r\n//\r\n/** @param {Uint8Array=} seed */\r\nfunction autoseed(seed) {\r\n  try {\r\n    GLOBAL.crypto.getRandomValues(seed = new Uint8Array(width));\r\n    return tostring(seed);\r\n  } catch (e) {\r\n    return [+new Date, GLOBAL, GLOBAL.navigator && GLOBAL.navigator.plugins,\r\n            GLOBAL.screen, tostring(pool)];\r\n  }\r\n}\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\nfunction tostring(a) {\r\n  return String.fromCharCode.apply(0, a);\r\n}\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to intefere with determinstic PRNG state later,\r\n// seedrandom will not call Math.random on its own again after\r\n// initialization.\r\n//\r\nmixkey(Math.random(), pool);\r\n","/*\n * A fast javascript implementation of simplex noise by Jonas Wagner\n\nBased on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\nWhich is based on example code by Stefan Gustavson (stegu@itn.liu.se).\nWith Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\nBetter rank ordering method by Stefan Gustavson in 2012.\n\n\n Copyright (c) 2018 Jonas Wagner\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n(function() {\n  'use strict';\n\n  var F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\n  var G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n  var F3 = 1.0 / 3.0;\n  var G3 = 1.0 / 6.0;\n  var F4 = (Math.sqrt(5.0) - 1.0) / 4.0;\n  var G4 = (5.0 - Math.sqrt(5.0)) / 20.0;\n\n  function SimplexNoise(randomOrSeed) {\n    var random;\n    if (typeof randomOrSeed == 'function') {\n      random = randomOrSeed;\n    }\n    else if (randomOrSeed) {\n      random = alea(randomOrSeed);\n    } else {\n      random = Math.random;\n    }\n    this.p = buildPermutationTable(random);\n    this.perm = new Uint8Array(512);\n    this.permMod12 = new Uint8Array(512);\n    for (var i = 0; i < 512; i++) {\n      this.perm[i] = this.p[i & 255];\n      this.permMod12[i] = this.perm[i] % 12;\n    }\n\n  }\n  SimplexNoise.prototype = {\n    grad3: new Float32Array([1, 1, 0,\n      -1, 1, 0,\n      1, -1, 0,\n\n      -1, -1, 0,\n      1, 0, 1,\n      -1, 0, 1,\n\n      1, 0, -1,\n      -1, 0, -1,\n      0, 1, 1,\n\n      0, -1, 1,\n      0, 1, -1,\n      0, -1, -1]),\n    grad4: new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n      0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n      1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n      -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n      1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n      -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n      1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n      -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]),\n    noise2D: function(xin, yin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0 = 0; // Noise contributions from the three corners\n      var n1 = 0;\n      var n2 = 0;\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin) * F2; // Hairy factor for 2D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var t = (i + j) * G2;\n      var X0 = i - t; // Unskew the cell origin back to (x,y) space\n      var Y0 = j - t;\n      var x0 = xin - X0; // The x,y distances from the cell origin\n      var y0 = yin - Y0;\n      // For the 2D case, the simplex shape is an equilateral triangle.\n      // Determine which simplex we are in.\n      var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n      if (x0 > y0) {\n        i1 = 1;\n        j1 = 0;\n      } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n      else {\n        i1 = 0;\n        j1 = 1;\n      } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n      // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n      // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n      // c = (3-sqrt(3))/6\n      var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n      var y1 = y0 - j1 + G2;\n      var x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n      var y2 = y0 - 1.0 + 2.0 * G2;\n      // Work out the hashed gradient indices of the three simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      // Calculate the contribution from the three corners\n      var t0 = 0.5 - x0 * x0 - y0 * y0;\n      if (t0 >= 0) {\n        var gi0 = permMod12[ii + perm[jj]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n      }\n      var t1 = 0.5 - x1 * x1 - y1 * y1;\n      if (t1 >= 0) {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n      }\n      var t2 = 0.5 - x2 * x2 - y2 * y2;\n      if (t2 >= 0) {\n        var gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to return values in the interval [-1,1].\n      return 70.0 * (n0 + n1 + n2);\n    },\n    // 3D simplex noise\n    noise3D: function(xin, yin, zin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0, n1, n2, n3; // Noise contributions from the four corners\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin + zin) * F3; // Very nice and simple skew factor for 3D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var k = Math.floor(zin + s);\n      var t = (i + j + k) * G3;\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var x0 = xin - X0; // The x,y,z distances from the cell origin\n      var y0 = yin - Y0;\n      var z0 = zin - Z0;\n      // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n      // Determine which simplex we are in.\n      var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n      var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n      if (x0 >= y0) {\n        if (y0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // X Y Z order\n        else if (x0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // X Z Y order\n        else {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // Z X Y order\n      }\n      else { // x0<y0\n        if (y0 < z0) {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Z Y X order\n        else if (x0 < z0) {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Y Z X order\n        else {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // Y X Z order\n      }\n      // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n      // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n      // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n      // c = 1/6.\n      var x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords\n      var y1 = y0 - j1 + G3;\n      var z1 = z0 - k1 + G3;\n      var x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords\n      var y2 = y0 - j2 + 2.0 * G3;\n      var z2 = z0 - k2 + 2.0 * G3;\n      var x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords\n      var y3 = y0 - 1.0 + 3.0 * G3;\n      var z3 = z0 - 1.0 + 3.0 * G3;\n      // Work out the hashed gradient indices of the four simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      // Calculate the contribution from the four corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to stay just inside [-1,1]\n      return 32.0 * (n0 + n1 + n2 + n3);\n    },\n    // 4D simplex noise, better simplex rank ordering method 2012-03-09\n    noise4D: function(x, y, z, w) {\n      var perm = this.perm;\n      var grad4 = this.grad4;\n\n      var n0, n1, n2, n3, n4; // Noise contributions from the five corners\n      // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n      var s = (x + y + z + w) * F4; // Factor for 4D skewing\n      var i = Math.floor(x + s);\n      var j = Math.floor(y + s);\n      var k = Math.floor(z + s);\n      var l = Math.floor(w + s);\n      var t = (i + j + k + l) * G4; // Factor for 4D unskewing\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var W0 = l - t;\n      var x0 = x - X0; // The x,y,z,w distances from the cell origin\n      var y0 = y - Y0;\n      var z0 = z - Z0;\n      var w0 = w - W0;\n      // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n      // To find out which of the 24 possible simplices we're in, we need to\n      // determine the magnitude ordering of x0, y0, z0 and w0.\n      // Six pair-wise comparisons are performed between each possible pair\n      // of the four coordinates, and the results are used to rank the numbers.\n      var rankx = 0;\n      var ranky = 0;\n      var rankz = 0;\n      var rankw = 0;\n      if (x0 > y0) rankx++;\n      else ranky++;\n      if (x0 > z0) rankx++;\n      else rankz++;\n      if (x0 > w0) rankx++;\n      else rankw++;\n      if (y0 > z0) ranky++;\n      else rankz++;\n      if (y0 > w0) ranky++;\n      else rankw++;\n      if (z0 > w0) rankz++;\n      else rankw++;\n      var i1, j1, k1, l1; // The integer offsets for the second simplex corner\n      var i2, j2, k2, l2; // The integer offsets for the third simplex corner\n      var i3, j3, k3, l3; // The integer offsets for the fourth simplex corner\n      // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n      // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n      // impossible. Only the 24 indices which have non-zero entries make any sense.\n      // We use a thresholding to set the coordinates in turn from the largest magnitude.\n      // Rank 3 denotes the largest coordinate.\n      i1 = rankx >= 3 ? 1 : 0;\n      j1 = ranky >= 3 ? 1 : 0;\n      k1 = rankz >= 3 ? 1 : 0;\n      l1 = rankw >= 3 ? 1 : 0;\n      // Rank 2 denotes the second largest coordinate.\n      i2 = rankx >= 2 ? 1 : 0;\n      j2 = ranky >= 2 ? 1 : 0;\n      k2 = rankz >= 2 ? 1 : 0;\n      l2 = rankw >= 2 ? 1 : 0;\n      // Rank 1 denotes the second smallest coordinate.\n      i3 = rankx >= 1 ? 1 : 0;\n      j3 = ranky >= 1 ? 1 : 0;\n      k3 = rankz >= 1 ? 1 : 0;\n      l3 = rankw >= 1 ? 1 : 0;\n      // The fifth corner has all coordinate offsets = 1, so no need to compute that.\n      var x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords\n      var y1 = y0 - j1 + G4;\n      var z1 = z0 - k1 + G4;\n      var w1 = w0 - l1 + G4;\n      var x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords\n      var y2 = y0 - j2 + 2.0 * G4;\n      var z2 = z0 - k2 + 2.0 * G4;\n      var w2 = w0 - l2 + 2.0 * G4;\n      var x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords\n      var y3 = y0 - j3 + 3.0 * G4;\n      var z3 = z0 - k3 + 3.0 * G4;\n      var w3 = w0 - l3 + 3.0 * G4;\n      var x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords\n      var y4 = y0 - 1.0 + 4.0 * G4;\n      var z4 = z0 - 1.0 + 4.0 * G4;\n      var w4 = w0 - 1.0 + 4.0 * G4;\n      // Work out the hashed gradient indices of the five simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      var ll = l & 255;\n      // Calculate the contribution from the five corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);\n      }\n      var t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n      if (t4 < 0) n4 = 0.0;\n      else {\n        var gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;\n        t4 *= t4;\n        n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);\n      }\n      // Sum up and scale the result to cover the range [-1,1]\n      return 27.0 * (n0 + n1 + n2 + n3 + n4);\n    }\n  };\n\n  function buildPermutationTable(random) {\n    var i;\n    var p = new Uint8Array(256);\n    for (i = 0; i < 256; i++) {\n      p[i] = i;\n    }\n    for (i = 0; i < 255; i++) {\n      var r = i + ~~(random() * (256 - i));\n      var aux = p[i];\n      p[i] = p[r];\n      p[r] = aux;\n    }\n    return p;\n  }\n  SimplexNoise._buildPermutationTable = buildPermutationTable;\n\n  function alea() {\n    // Johannes Baage <baagoe@baagoe.com>, 2010\n    var s0 = 0;\n    var s1 = 0;\n    var s2 = 0;\n    var c = 1;\n\n    var mash = masher();\n    s0 = mash(' ');\n    s1 = mash(' ');\n    s2 = mash(' ');\n\n    for (var i = 0; i < arguments.length; i++) {\n      s0 -= mash(arguments[i]);\n      if (s0 < 0) {\n        s0 += 1;\n      }\n      s1 -= mash(arguments[i]);\n      if (s1 < 0) {\n        s1 += 1;\n      }\n      s2 -= mash(arguments[i]);\n      if (s2 < 0) {\n        s2 += 1;\n      }\n    }\n    mash = null;\n    return function() {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n      s0 = s1;\n      s1 = s2;\n      return s2 = t - (c = t | 0);\n    };\n  }\n  function masher() {\n    var n = 0xefc8249d;\n    return function(data) {\n      data = data.toString();\n      for (var i = 0; i < data.length; i++) {\n        n += data.charCodeAt(i);\n        var h = 0.02519603282416938 * n;\n        n = h >>> 0;\n        h -= n;\n        h *= n;\n        n = h >>> 0;\n        h -= n;\n        n += h * 0x100000000; // 2^32\n      }\n      return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n  }\n\n  // amd\n  if (typeof define !== 'undefined' && define.amd) define(function() {return SimplexNoise;});\n  // common js\n  if (typeof exports !== 'undefined') exports.SimplexNoise = SimplexNoise;\n  // browser\n  else if (typeof window !== 'undefined') window.SimplexNoise = SimplexNoise;\n  // nodejs\n  if (typeof module !== 'undefined') {\n    module.exports = SimplexNoise;\n  }\n\n})();\n","module.exports = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (arguments[i] !== undefined) return arguments[i];\n    }\n};\n","var seedRandom = require('seed-random');\nvar SimplexNoise = require('simplex-noise');\nvar defined = require('defined');\n\nfunction createRandom (defaultSeed) {\n  defaultSeed = defined(defaultSeed, null);\n  var defaultRandom = Math.random;\n  var currentSeed;\n  var currentRandom;\n  var noiseGenerator;\n  var _nextGaussian = null;\n  var _hasNextGaussian = false;\n\n  setSeed(defaultSeed);\n\n  return {\n    value: value,\n    createRandom: function (defaultSeed) {\n      return createRandom(defaultSeed);\n    },\n    setSeed: setSeed,\n    getSeed: getSeed,\n    getRandomSeed: getRandomSeed,\n    valueNonZero: valueNonZero,\n    permuteNoise: permuteNoise,\n    noise1D: noise1D,\n    noise2D: noise2D,\n    noise3D: noise3D,\n    noise4D: noise4D,\n    sign: sign,\n    boolean: boolean,\n    chance: chance,\n    range: range,\n    rangeFloor: rangeFloor,\n    pick: pick,\n    shuffle: shuffle,\n    onCircle: onCircle,\n    insideCircle: insideCircle,\n    onSphere: onSphere,\n    insideSphere: insideSphere,\n    quaternion: quaternion,\n    weighted: weighted,\n    weightedSet: weightedSet,\n    weightedSetIndex: weightedSetIndex,\n    gaussian: gaussian\n  };\n\n  function setSeed (seed, opt) {\n    if (typeof seed === 'number' || typeof seed === 'string') {\n      currentSeed = seed;\n      currentRandom = seedRandom(currentSeed, opt);\n    } else {\n      currentSeed = undefined;\n      currentRandom = defaultRandom;\n    }\n    noiseGenerator = createNoise();\n    _nextGaussian = null;\n    _hasNextGaussian = false;\n  }\n\n  function value () {\n    return currentRandom();\n  }\n\n  function valueNonZero () {\n    var u = 0;\n    while (u === 0) u = value();\n    return u;\n  }\n\n  function getSeed () {\n    return currentSeed;\n  }\n\n  function getRandomSeed () {\n    var seed = String(Math.floor(Math.random() * 1000000));\n    return seed;\n  }\n\n  function createNoise () {\n    return new SimplexNoise(currentRandom);\n  }\n\n  function permuteNoise () {\n    noiseGenerator = createNoise();\n  }\n\n  function noise1D (x, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise2D(x * frequency, 0);\n  }\n\n  function noise2D (x, y, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise2D(x * frequency, y * frequency);\n  }\n\n  function noise3D (x, y, z, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    if (!isFinite(z)) throw new TypeError('z component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise3D(\n      x * frequency,\n      y * frequency,\n      z * frequency\n    );\n  }\n\n  function noise4D (x, y, z, w, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    if (!isFinite(z)) throw new TypeError('z component for noise() must be finite');\n    if (!isFinite(w)) throw new TypeError('w component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise4D(\n      x * frequency,\n      y * frequency,\n      z * frequency,\n      w * frequency\n    );\n  }\n\n  function sign () {\n    return boolean() ? 1 : -1;\n  }\n\n  function boolean () {\n    return value() > 0.5;\n  }\n\n  function chance (n) {\n    n = defined(n, 0.5);\n    if (typeof n !== 'number') throw new TypeError('expected n to be a number');\n    return value() < n;\n  }\n\n  function range (min, max) {\n    if (max === undefined) {\n      max = min;\n      min = 0;\n    }\n\n    if (typeof min !== 'number' || typeof max !== 'number') {\n      throw new TypeError('Expected all arguments to be numbers');\n    }\n\n    return value() * (max - min) + min;\n  }\n\n  function rangeFloor (min, max) {\n    if (max === undefined) {\n      max = min;\n      min = 0;\n    }\n\n    if (typeof min !== 'number' || typeof max !== 'number') {\n      throw new TypeError('Expected all arguments to be numbers');\n    }\n\n    return Math.floor(range(min, max));\n  }\n\n  function pick (array) {\n    if (array.length === 0) return undefined;\n    return array[rangeFloor(0, array.length)];\n  }\n\n  function shuffle (arr) {\n    if (!Array.isArray(arr)) {\n      throw new TypeError('Expected Array, got ' + typeof arr);\n    }\n\n    var rand;\n    var tmp;\n    var len = arr.length;\n    var ret = arr.slice();\n    while (len) {\n      rand = Math.floor(value() * len--);\n      tmp = ret[len];\n      ret[len] = ret[rand];\n      ret[rand] = tmp;\n    }\n    return ret;\n  }\n\n  function onCircle (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var theta = value() * 2.0 * Math.PI;\n    out[0] = radius * Math.cos(theta);\n    out[1] = radius * Math.sin(theta);\n    return out;\n  }\n\n  function insideCircle (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    onCircle(1, out);\n    var r = radius * Math.sqrt(value());\n    out[0] *= r;\n    out[1] *= r;\n    return out;\n  }\n\n  function onSphere (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var u = value() * Math.PI * 2;\n    var v = value() * 2 - 1;\n    var phi = u;\n    var theta = Math.acos(v);\n    out[0] = radius * Math.sin(theta) * Math.cos(phi);\n    out[1] = radius * Math.sin(theta) * Math.sin(phi);\n    out[2] = radius * Math.cos(theta);\n    return out;\n  }\n\n  function insideSphere (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var u = value() * Math.PI * 2;\n    var v = value() * 2 - 1;\n    var k = value();\n\n    var phi = u;\n    var theta = Math.acos(v);\n    var r = radius * Math.cbrt(k);\n    out[0] = r * Math.sin(theta) * Math.cos(phi);\n    out[1] = r * Math.sin(theta) * Math.sin(phi);\n    out[2] = r * Math.cos(theta);\n    return out;\n  }\n\n  function quaternion (out) {\n    out = out || [];\n    var u1 = value();\n    var u2 = value();\n    var u3 = value();\n\n    var sq1 = Math.sqrt(1 - u1);\n    var sq2 = Math.sqrt(u1);\n\n    var theta1 = Math.PI * 2 * u2;\n    var theta2 = Math.PI * 2 * u3;\n\n    var x = Math.sin(theta1) * sq1;\n    var y = Math.cos(theta1) * sq1;\n    var z = Math.sin(theta2) * sq2;\n    var w = Math.cos(theta2) * sq2;\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n  }\n\n  function weightedSet (set) {\n    set = set || [];\n    if (set.length === 0) return null;\n    return set[weightedSetIndex(set)].value;\n  }\n\n  function weightedSetIndex (set) {\n    set = set || [];\n    if (set.length === 0) return -1;\n    return weighted(set.map(function (s) {\n      return s.weight;\n    }));\n  }\n\n  function weighted (weights) {\n    weights = weights || [];\n    if (weights.length === 0) return -1;\n    var totalWeight = 0;\n    var i;\n\n    for (i = 0; i < weights.length; i++) {\n      totalWeight += weights[i];\n    }\n\n    if (totalWeight <= 0) throw new Error('Weights must sum to > 0');\n\n    var random = value() * totalWeight;\n    for (i = 0; i < weights.length; i++) {\n      if (random < weights[i]) {\n        return i;\n      }\n      random -= weights[i];\n    }\n    return 0;\n  }\n\n  function gaussian (mean, standardDerivation) {\n    mean = defined(mean, 0);\n    standardDerivation = defined(standardDerivation, 1);\n\n    // https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/util/Random.java#L496\n    if (_hasNextGaussian) {\n      _hasNextGaussian = false;\n      var result = _nextGaussian;\n      _nextGaussian = null;\n      return mean + standardDerivation * result;\n    } else {\n      var v1 = 0;\n      var v2 = 0;\n      var s = 0;\n      do {\n        v1 = value() * 2 - 1; // between -1 and 1\n        v2 = value() * 2 - 1; // between -1 and 1\n        s = v1 * v1 + v2 * v2;\n      } while (s >= 1 || s === 0);\n      var multiplier = Math.sqrt(-2 * Math.log(s) / s);\n      _nextGaussian = (v2 * multiplier);\n      _hasNextGaussian = true;\n      return mean + standardDerivation * (v1 * multiplier);\n    }\n  }\n}\n\nmodule.exports = createRandom();\n","// Vector class originally from https://evanw.github.io/lightgl.js/docs/vector.html\n// Edited and expanded to match p5's vectors\n// ref - p5 vector https://p5js.org/reference/#/p5.Vector\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-vectors/a/more-vector-math\n\nexport function Vector(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n}\nVector.prototype = {\n    negative() {\n        return new Vector(-this.x, -this.y, -this.z);\n    },\n    add(v) {\n        if (v instanceof Vector) return new Vector(this.x + v.x, this.y + v.y, this.z + v.z);\n        return new Vector(this.x + v, this.y + v, this.z + v);\n    },\n    sub(v) {\n        if (v instanceof Vector) return new Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n        return new Vector(this.x - v, this.y - v, this.z - v);\n    },\n    mult(v) {\n        if (v instanceof Vector) return new Vector(this.x * v.x, this.y * v.y, this.z * v.z);\n        return new Vector(this.x * v, this.y * v, this.z * v);\n    },\n    div(v) {\n        if (v instanceof Vector) return new Vector(this.x / v.x, this.y / v.y, this.z / v.z);\n        return new Vector(this.x / v, this.y / v, this.z / v);\n    },\n    equals(v) {\n        return this.x === v.x && this.y === v.y && this.z === v.z;\n    },\n    dot(v) {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    },\n    cross(v) {\n        return new Vector(this.y * v.z - this.z * v.y, this.z * v.x - this.x * v.z, this.x * v.y - this.y * v.x);\n    },\n    length() {\n        return Math.sqrt(this.dot(this));\n    },\n    mag() {\n        return this.length();\n    },\n    magSq() {\n        const m = this.length();\n        return m * m;\n    },\n    setMag(m) {\n        const c = this.mag();\n        const r = m / c;\n        return this.mult(r);\n    },\n    normalize() {\n        let mag = this.mag();\n        mag = mag || 1;\n        return this.div(mag);\n    },\n    unit() {\n        return this.divide(this.length());\n    },\n    min() {\n        return Math.min(Math.min(this.x, this.y), this.z);\n    },\n    max() {\n        return Math.max(Math.max(this.x, this.y), this.z);\n    },\n    limit(v) {\n        const cm = this.mag();\n        if (cm > v) {\n            return this.setMag(v);\n        }\n        return this;\n    },\n    // clamp(min, max) {\n    //     // export const clamp = (min = 0, max = 1, a) => Math.min(max, Math.max(min, a));\n    // },\n    toAngles() {\n        return {\n            theta: Math.atan2(this.z, this.x),\n            phi: Math.asin(this.y / this.length()),\n        };\n    },\n    angleTo(a) {\n        return Math.acos(this.dot(a) / (this.length() * a.length()));\n    },\n    toArray(n) {\n        return [this.x, this.y, this.z].slice(0, n || 3);\n    },\n    clone() {\n        return new Vector(this.x, this.y, this.z);\n    },\n    init(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    },\n};\nVector.negative = function (a, b) {\n    b.x = -a.x;\n    b.y = -a.y;\n    b.z = -a.z;\n    return b;\n};\nVector.add = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x + b.x;\n        c.y = a.y + b.y;\n        c.z = a.z + b.z;\n    } else {\n        c.x = a.x + b;\n        c.y = a.y + b;\n        c.z = a.z + b;\n    }\n    return c;\n};\nVector.subtract = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x - b.x;\n        c.y = a.y - b.y;\n        c.z = a.z - b.z;\n    } else {\n        c.x = a.x - b;\n        c.y = a.y - b;\n        c.z = a.z - b;\n    }\n    return c;\n};\nVector.multiply = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x * b.x;\n        c.y = a.y * b.y;\n        c.z = a.z * b.z;\n    } else {\n        c.x = a.x * b;\n        c.y = a.y * b;\n        c.z = a.z * b;\n    }\n    return c;\n};\nVector.divide = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x / b.x;\n        c.y = a.y / b.y;\n        c.z = a.z / b.z;\n    } else {\n        c.x = a.x / b;\n        c.y = a.y / b;\n        c.z = a.z / b;\n    }\n    return c;\n};\nVector.cross = function (a, b, c) {\n    c.x = a.y * b.z - a.z * b.y;\n    c.y = a.z * b.x - a.x * b.z;\n    c.z = a.x * b.y - a.y * b.x;\n    return c;\n};\nVector.unit = function (a, b) {\n    const length = a.length();\n    b.x = a.x / length;\n    b.y = a.y / length;\n    b.z = a.z / length;\n    return b;\n};\nVector.fromAngles = function (theta, phi) {\n    return new Vector(Math.cos(theta) * Math.cos(phi), Math.sin(phi), Math.sin(theta) * Math.cos(phi));\n};\nVector.randomDirection = function () {\n    return Vector.fromAngles(Math.random() * Math.PI * 2, Math.asin(Math.random() * 2 - 1));\n};\nVector.min = function (a, b) {\n    return new Vector(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.min(a.z, b.z));\n};\nVector.max = function (a, b) {\n    return new Vector(Math.max(a.x, b.x), Math.max(a.y, b.y), Math.max(a.z, b.z));\n};\nVector.lerp = function (a, b, fraction) {\n    return b.subtract(a).multiply(fraction).add(a);\n};\nVector.fromArray = function (a) {\n    return new Vector(a[0], a[1], a[2]);\n};\nVector.angleBetween = function (a, b) {\n    return a.angleTo(b);\n};\n","/*\n  // Math aliases\n  var  = Math.PI\n  var random = Math.random\n  var round = Math.round\n  var floor = Math.floor\n  var abs = Math.abs\n  var sin = Math.sin\n  var cos = Math.cos\n  var tan = Math.tan\n\n  Math Snippets\n  https://github.com/terkelg/math\n*/\n\nimport random from 'canvas-sketch-util/random';\nimport { Vector } from './Vector';\n\nrandom.setSeed(random.getRandomSeed());\nconsole.log(`Using seed ${random.getSeed()}`);\n\nexport const TAU = Math.PI * 2;\n\nexport const getRandomSeed = () => random.getSeed();\nexport const setRandomSeed = (s) => random.setRandomSeed(s);\n\nexport const randomNumberBetween = (min, max) => random.value() * (max - min) + min;\nexport const randomNumberBetweenMid = (min, max) => randomNumberBetween(min, max) - max / 2;\n\nexport const randomSign = () => (Math.round(random.value()) == 1 ? 1 : -1);\n\nexport const oneOf = (arry) => {\n    const i = Math.round(randomNumberBetween(0, arry.length - 1));\n    return arry[i];\n};\n\nexport const lowest = (arry) =>\n    arry.reduce((acc, v) => {\n        if (v < acc) {\n            acc = v;\n        }\n        return acc;\n    }, 0);\n\nexport const highest = (arry) =>\n    arry.reduce((acc, v) => {\n        if (v > acc) {\n            acc = v;\n        }\n        return acc;\n    }, 0);\n\nexport const createRandomNumberArray = (len, min, max) =>\n    Array.from(new Array(len)).map(() => randomNumberBetween(min, max));\n\n// -> -1 ... 1\nexport const loopingValue = (t, m = 0.5) => Math.sin(t * m);\n\n// t is 0-1, -> -1 ... 1\nexport const pingPontValue = (t) => Math.sin(t * Math.PI);\n\n// x,y offsets for the current circle position\nexport const pointOnCircle = (x, y, r, a) => ({ x: r * Math.sin(a) + x, y: r * Math.cos(a) + y });\n\n// returns value between 0-1, 250,500,0 => .5\nexport const normalize = (min, max, val) => (val - min) / (max - min);\nexport const normalizeInverse = (min, max, val) => 1 - normalize(min, max, val);\n\n// https://twitter.com/mattdesl/status/1031305279227478016\n// https://www.trysmudford.com/blog/linear-interpolation-functions/\n// lerp(20, 80, 0.5) // 40\nexport const lerp = (x, y, a) => x * (1 - a) + y * a;\n\nexport const clamp = (min = 0, max = 1, a) => Math.min(max, Math.max(min, a));\n\n// invlerp(50, 100, 75)  // 0.5\nexport const invlerp = (x, y, a) => clamp(0, 1, (a - x) / (y - x));\n\n// p5js map fn is reverse map(a,x2,y2,x1,y1)\n// a is point in 1 and converts to point in 2\n// range(10, 100, 2000, 20000, 50) // 10000\nexport const mapRange = (x1, y1, x2, y2, a) => lerp(x2, y2, invlerp(x1, y1, a));\n\n// Accepts a value 0-1 and returns a value 0-1 in a sin wave\nexport const toSinValue = (value) => Math.abs(Math.sin(value * TAU));\n\nexport const marginify = ({ margin, u, v, width, height }) => ({\n    x: lerp(margin, width - margin, u),\n    y: lerp(margin, height - margin, v),\n});\n\nexport const pointDistance = (pointA, pointB) => {\n    const dx = pointA.x - pointB.x;\n    const dy = pointA.y - pointB.y;\n    return Math.sqrt(dx * dx + dy * dy);\n};\n\n// https://stackoverflow.com/questions/13043945/how-do-i-calculate-the-position-of-a-point-in-html5-canvas-after-rotation\nexport const pointRotateCoord = (point, angle) => ({\n    x: point.x * cos(angle) - point.y * sin(angle),\n    y: point.y * cos(angle) + point.x * sin(angle),\n});\n\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-angular-movement/a/pointing-towards-movement\nexport const pointAngleFromVelocity = ({ velocityX, velocityY }) => Math.atan2(velocityY, velocityX);\n\nexport const aFromVector = ({ x, y }) => Math.atan2(y, x);\nexport const uvFromAngle = (a) => new Vector(Math.cos(a), Math.sin(a));\n\nexport const radiansToDegrees = (rad) => (rad * 180) / Math.PI;\n\n// Scale up point grid and center in the canvas\nexport const scalePointToCanvas = (canvasWidth, canvasHeight, width, height, zoomFactor, x, y) => {\n    const particleXOffset = canvasWidth / 2 - (width * zoomFactor) / 2;\n    const particleYOffset = canvasHeight / 2 - (height * zoomFactor) / 2;\n    return {\n        x: x * zoomFactor + particleXOffset,\n        y: y * zoomFactor + particleYOffset,\n    };\n};\n\nexport const create2dNoise = (u, v, amplitude = 1, frequency = 0.5) =>\n    Math.abs(random.noise2D(u * frequency, v * frequency)) * amplitude;\n\nexport const create3dNoise = (u, v, t, amplitude = 1, frequency = 0.5) =>\n    Math.abs(random.noise3D(u * frequency, v * frequency, t * frequency)) * amplitude;\n\n// [[x,y], ...]\nexport const createCirclePoints = (offsetX, offsetY, diameter, steps, sx = 1, sy = 1) => {\n    const points = [];\n    for (let theta = 0; theta < 360; theta += steps) {\n        const radius = theta * (Math.PI / 180);\n        const x = Math.cos(radius) * diameter + sx + offsetX;\n        const y = Math.sin(radius) * diameter + sy + offsetY;\n        points.push([x, y]);\n    }\n    return points;\n};\n\n// -> [[x,y], ...]\nexport const createGridPointsXY = (width, height, xMargin, yMargin, columns, rows) => {\n    const gridPoints = [];\n\n    const colStep = (width - xMargin * 2) / (columns - 1);\n    const rowStep = (height - yMargin * 2) / (rows - 1);\n\n    for (let col = 0; col < columns; col++) {\n        const x = xMargin + col * colStep;\n        for (let row = 0; row < rows; row++) {\n            const y = yMargin + row * rowStep;\n            gridPoints.push([x, y]);\n        }\n    }\n\n    return gridPoints;\n};\n\n// -> [{radius, rotation, position:[u,v]}, ...]\nexport const createGridPointsUV = (columns, rows) => {\n    rows = rows || columns;\n    const points = [];\n\n    const amplitude = 0.1;\n    const frequency = 1;\n\n    for (let x = 0; x < columns; x++) {\n        for (let y = 0; y < rows; y++) {\n            const u = columns <= 1 ? 0.5 : x / (columns - 1);\n            const v = columns <= 1 ? 0.5 : y / (rows - 1);\n            // const radius = Math.abs(random.gaussian() * 0.02);\n            const radius = create2dNoise(u, v);\n            const rotation = create2dNoise(u, v);\n            points.push({\n                radius,\n                rotation,\n                position: [u, v],\n            });\n        }\n    }\n    return points;\n};\n","import tinycolor from 'tinycolor2';\n\nimport {\n    radiansToDegrees,\n    pointAngleFromVelocity,\n    pointDistance,\n    normalizeInverse,\n    pointOnCircle,\n    uvFromAngle,\n} from './math';\n\nexport const resizeCanvas = (canvas, width, height) => {\n    canvas.width = width;\n    canvas.height = height;\n};\n\nexport const clearCanvas = (canvas, context) => (_) => context.clearRect(0, 0, canvas.width, canvas.height);\n\nexport const fillCanvas = (canvas, context) => (opacity = 1, color = '0,0,0') => {\n    context.fillStyle = `rgba(${color},${opacity})`;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n};\n\nexport const background = (canvas, context) => (color = 'black') => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fillRect(0, 0, canvas.width, canvas.height);\n};\n\n// context.save() and context.restore() may be slow, just reset what i'm using\nexport const resetStyles = (context) => {\n    context.strokeStyle = '#000';\n    context.fillStyle = '#fff';\n    context.lineWidth = 1;\n    context.setLineDash([]);\n    context.lineCap = 'butt';\n};\n\n//----------------------------------------------------------------------------------------------------------------------\n// PRIMITIVES\n//----------------------------------------------------------------------------------------------------------------------\n\n// TODO use circle?\nexport const drawParticlePoint = (context) => ({ x, y, radius, color }) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n};\n\nexport const setStokeColor = (context) => (color) => (context.strokeStyle = tinycolor(color).toRgbString());\n\n// linecap = butt, round, square\nexport const drawLine = (context) => (x1, y1, x2, y2, strokeWidth, linecap = 'butt') => {\n    context.lineWidth = strokeWidth;\n    context.lineCap = linecap;\n    context.beginPath();\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n};\n\nexport const drawLineAngle = (context) => (x1, y1, angle, length, strokeWidth, linecap) => {\n    const vect = uvFromAngle(angle).setMag(length);\n    const x2 = x1 + vect.x;\n    const y2 = y1 + vect.y;\n    drawLine(context)(x1, y1, x2, y2, strokeWidth, linecap);\n};\n\nexport const drawCircle = (context) => (strokeWidth, x, y, radius) => {\n    // context.strokeStyle = 'rgba(255,255,255,.25)';\n    context.lineWidth = strokeWidth;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgba(255,255,255,.1)';\n    // context.fill();\n    context.stroke();\n};\n\nexport const drawCircleFilled = (context) => (x, y, radius, color) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = color;\n    context.fill();\n};\n\nexport const drawRectFilled = (context) => (x, y, w, h, color = 'white') => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fillRect(x, y, w, h);\n};\n\nexport const drawSquareFilled = (context) => (x, y, size, color) => {\n    drawRectFilled(context)(x, y, size, size, color);\n};\n\nexport const drawTriangleFilled = (context) => (x, y, size, color) => {\n    const half = size / 2;\n    context.beginPath();\n    context.moveTo(x - half, y - half);\n    context.lineTo(x + half, y);\n    context.lineTo(x - half, y + half);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n};\n\n// https://www.scriptol.com/html5/canvas/rounded-rectangle.php\n// TODO center on x,y\nexport const drawQuadRectFilled = (context) => (x, y, w, h, color) => {\n    const mx = x + w / 2;\n    const my = y + h / 2;\n    context.beginPath();\n    // context.strokeStyle = 'green';\n    // context.lineWidth = '4';\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.moveTo(x, my);\n    context.quadraticCurveTo(x, y, mx, y);\n    context.quadraticCurveTo(x + w, y, x + w, my);\n    context.quadraticCurveTo(x + w, y + h, mx, y + h);\n    context.quadraticCurveTo(x, y + h, x, my);\n    // context.stroke();\n    context.fill();\n};\n\n// https://www.scriptol.com/html5/canvas/rounded-rectangle.php\n// TODO center on x,y\nexport const drawRoundRectFilled = (context) => (x, y, w, h, corner, color) => {\n    if (w < corner || h < corner) {\n        corner = Math.min(w, h);\n    }\n\n    const r = x + w;\n    const b = y + h;\n    context.beginPath();\n    // context.strokeStyle = 'green';\n    // context.lineWidth = '4';\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.moveTo(x + corner, y);\n    context.lineTo(r - corner, y);\n    context.quadraticCurveTo(r, y, r, y + corner);\n    context.lineTo(r, y + h - corner);\n    context.quadraticCurveTo(r, b, r - corner, b);\n    context.lineTo(x + corner, b);\n    context.quadraticCurveTo(x, b, x, b - corner);\n    context.lineTo(x, y + corner);\n    context.quadraticCurveTo(x, y, x + corner, y);\n    // context.stroke();\n    context.fill();\n};\n\nexport const drawTextFilled = (context) => (text, x, y, color, style) => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.font = style || '1rem \"Helvetica Neue\",Helvetica,Arial,sans-serif';\n    context.fillText(text, x, y);\n};\n\n//----------------------------------------------------------------------------------------------------------------------\n// COMPLEX SHAPES\n//----------------------------------------------------------------------------------------------------------------------\n\n// TODO center it\nexport const drawRake = (context) => ({ x, y, radius, color }, spacing) => {\n    const points = 5;\n    spacing |= radius * 3;\n    for (let i = 0; i < points; i++) {\n        drawParticlePoint(context)({ x: x + spacing * i, y, radius, color });\n    }\n};\n\n// Spikes is an array of angles\nexport const drawSpikeCircle = (context) => ({ x, y, radius, color }, spikes, spikeLength = 5) => {\n    const circleStroke = 1;\n    const spikeStroke = 2;\n    context.strokeStyle = color.toRgbString();\n    context.lineWidth = circleStroke;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgba(255,255,255,.1)';\n    // context.fill();\n    context.stroke();\n    for (let s = 0; s < spikes.length; s++) {\n        const pointA = pointOnCircle(x, y, radius, spikes[s]);\n        const pointB = pointOnCircle(x, y, radius + spikeLength, spikes[s]);\n        context.strokeStyle = color.toRgbString();\n        drawLine(context)(pointA.x, pointA.y, pointB.x, pointB.y, spikeStroke);\n    }\n};\n\n//----------------------------------------------------------------------------------------------------------------------\n// PARTICLE INTERACTIVITY AND FANCY STUFF\n//----------------------------------------------------------------------------------------------------------------------\n\nexport const drawRotatedParticle = (ctx, drawFn, particle, ...args) => {\n    const pSaveX = particle.x;\n    const pSaveY = particle.y;\n    particle.x = 0;\n    particle.y = 0;\n    ctx.save();\n    ctx.translate(pSaveX, pSaveY);\n    ctx.rotate(particle.heading);\n    drawFn(ctx)(particle, args);\n    ctx.restore();\n    particle.x = pSaveX;\n    particle.y = pSaveY;\n};\n\nexport const connectParticles = (context) => (pArray, proximity, useAlpha = true) => {\n    const len = pArray.length;\n    for (let a = 0; a < len; a++) {\n        // all consecutive particles\n        for (let b = a; b < len; b++) {\n            const pA = pArray[a];\n            const pB = pArray[b];\n            const distance = pointDistance(pA, pB);\n            if (distance < proximity) {\n                const pColor = pA.color;\n                if (useAlpha) {\n                    pColor.setAlpha(normalizeInverse(0, proximity, distance));\n                }\n                context.strokeStyle = pColor.toHslString();\n                drawLine(context)(pA.x, pA.y, pB.x, pB.y, 0.5);\n            }\n        }\n    }\n    resetStyles(context);\n};\n\nexport const drawPointTrail = (context) => (particle) => {\n    const trailLen = particle.xHistory.length;\n    context.lineWidth = particle.radius;\n    const pColor = particle.color;\n    const aFade = (100 / trailLen) * 0.01;\n    let alpha = 1;\n    const sFade = (particle.radius * 2) / trailLen;\n    let stroke = particle.radius * 2;\n    for (let i = 0; i < trailLen; i++) {\n        const startX = i === 0 ? particle.x : particle.xHistory[i - 1];\n        const startY = i === 0 ? particle.y : particle.yHistory[i - 1];\n        drawLine(context)(startX, startY, particle.xHistory[i], particle.yHistory[i], stroke);\n        pColor.setAlpha(alpha);\n        context.strokeStyle = pColor.toRgbString();\n        alpha -= aFade;\n        stroke -= sFade;\n    }\n};\n\n//----------------------------------------------------------------------------------------------------------------------\n// DEBUG\n//----------------------------------------------------------------------------------------------------------------------\n\nexport const drawTestPoint = (context) => ({ x, y, radius, color }) => {\n    context.strokeStyle = color.toRgbString();\n    context.lineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(255,255,255,.1)';\n    context.fill();\n    context.stroke();\n    drawLine(context)(x, y, x + radius, y, 1);\n};\n\nexport const drawParticleVectors = (context) => (particle) => {\n    const vmult = 5;\n    const amult = 100;\n    const vel = 'green';\n    const acc = 'yellow';\n    const { vVector } = particle;\n    const { aVector } = particle;\n\n    context.strokeStyle = tinycolor(vel).toRgbString();\n    drawLine(context)(particle.x, particle.y, particle.x + vVector.x * vmult, particle.y + vVector.y * vmult, 1);\n\n    context.strokeStyle = tinycolor(acc).toRgbString();\n    drawLine(context)(particle.x, particle.y, particle.x + aVector.x * amult, particle.y + aVector.y * amult, 1);\n};\n\nexport const drawMouse = (context) => ({ x, y, radius }) => {\n    if (x === undefined || y === undefined) return;\n    context.strokeStyle = 'rgba(255,255,255,.25)';\n    context.lineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(255,255,255,.1)';\n    context.fill();\n    context.stroke();\n};\n\nexport const drawAttractor = (context) => ({ x, y, mass, g }, mode, radius) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(0,0,0,.1)';\n    context.fill();\n\n    context.beginPath();\n    context.arc(x, y, Math.sqrt(mass) * g, 0, Math.PI * 2, false);\n    context.fillStyle = mode === 1 ? 'rgba(0,255,0,.25)' : 'rgba(255,0,0,.25)';\n    context.fill();\n};\n\n//----------------------------------------------------------------------------------------------------------------------\n// IMAGE DATA / PIXELS\n//----------------------------------------------------------------------------------------------------------------------\n\nexport const getImageDataFromImage = (context) => (image) => {\n    context.drawImage(image, 0, 0);\n    return context.getImageData(0, 0, image.width, image.width);\n};\n\n/*\nGray = 0.21R + 0.72G + 0.07B // Luminosity\nGray = (R + G + B)  3 // Average Brightness\nGray = 0.299R + 0.587G + 0.114B // rec601 standard\nGray = 0.2126R + 0.7152G + 0.0722B // ITU-R BT.709 standard\nGray = 0.2627R + 0.6780G + 0.0593B // ITU-R BT.2100 standard\n */\n// https://sighack.com/post/averaging-rgb-colors-the-right-way\nexport const getColorAverageGrey = ({ r, g, b }) => Math.sqrt((r * r + g * g + b * b) / 3);\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas\nexport const getImageDataColor = (imageData, x, y) => ({\n    r: imageData.data[y * 4 * imageData.width + x * 4],\n    g: imageData.data[y * 4 * imageData.width + x * 4 + 1],\n    b: imageData.data[y * 4 * imageData.width + x * 4 + 2],\n    a: imageData.data[y * 4 * imageData.width + x * 4 + 3],\n});\n","/*\nConvenience canvas sketch runner. Based on p5js\n\n\nconst variation = () => {\n    const config = {};\n\n    const setup = (canvas, context) => {\n        // create initial state\n    };\n\n    // will run every frame\n    const draw = (canvas, context, mouse) => {\n        // draw on every frame\n        return 1; // -1 to exit animation loop\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n*/\n\nimport { fillCanvas, resizeCanvas } from './canvas';\n\nexport const sketch = () => {\n    const mouse = {\n        x: undefined,\n        y: undefined,\n        isDown: false,\n        radius: 100,\n    };\n\n    let fps = 0;\n\n    let currentVariation;\n\n    const canvasSizeFraction = 0.85;\n    const canvas = document.getElementById('canvas');\n    const context = canvas.getContext('2d');\n    canvas.width = window.innerWidth * canvasSizeFraction;\n    canvas.height = window.innerHeight * canvasSizeFraction;\n\n    const getCanvas = (_) => canvas;\n    const getContext = (_) => context;\n    const getMouse = (_) => mouse;\n\n    const mouseDown = (evt) => {\n        mouse.isDown = true;\n    };\n\n    const mouseMove = (evt) => {\n        const canvasFrame = canvas.getBoundingClientRect();\n        mouse.x = evt.x - canvasFrame.x;\n        mouse.y = evt.y - canvasFrame.y;\n    };\n\n    const mouseUp = (evt) => {\n        mouse.isDown = false;\n    };\n\n    const mouseOut = (evt) => {\n        mouse.x = undefined;\n        mouse.y = undefined;\n        mouse.isDown = false;\n    };\n\n    const windowResize = (evt) =>\n        resizeCanvas(canvas, window.innerWidth * canvasSizeFraction, window.innerHeight * canvasSizeFraction);\n\n    window.addEventListener('mousedown', mouseDown);\n    window.addEventListener('touchstart', mouseDown);\n\n    window.addEventListener('mousemove', mouseMove);\n    window.addEventListener('touchmove', mouseMove);\n\n    window.addEventListener('mouseup', mouseUp);\n    window.addEventListener('touchend', mouseUp);\n\n    window.addEventListener('mouseout', mouseOut);\n    window.addEventListener('touchcancel', mouseOut);\n\n    window.addEventListener('resize', windowResize);\n\n    const run = (variation) => {\n        currentVariation = variation;\n\n        let backgroundColor = '0,0,0';\n\n        if (variation.hasOwnProperty('config')) {\n            const { config } = variation;\n            console.log('Sketch config:', variation.config);\n            if (config.width && config.height) {\n                window.removeEventListener('resize', windowResize);\n                resizeCanvas(canvas, config.width, config.height);\n            }\n            if (config.background) {\n                backgroundColor = config.background;\n            }\n            if (config.fps) {\n                fps = config.fps;\n            }\n        }\n\n        let rendering = true;\n        const targetFpsInterval = 1000 / fps;\n        let lastAnimationFrameTime;\n\n        const startSketch = () => {\n            window.removeEventListener('load', startSketch);\n            variation.setup(canvas, context);\n\n            // fillCanvas(canvas, context)(1,backgroundColor);\n\n            const render = () => {\n                const result = variation.draw(canvas, context, mouse);\n                if (result !== -1) {\n                    requestAnimationFrame(render);\n                }\n            };\n\n            // https://stackoverflow.com/questions/19764018/controlling-fps-with-requestanimationframe\n            const renderAtFps = () => {\n                if (rendering) {\n                    requestAnimationFrame(renderAtFps);\n                }\n\n                const now = Date.now();\n                const elapsed = now - lastAnimationFrameTime;\n\n                if (elapsed > targetFpsInterval) {\n                    lastAnimationFrameTime = now - (elapsed % targetFpsInterval);\n                    const result = variation.draw(canvas, context, mouse);\n                    if (result === -1) {\n                        rendering = false;\n                    }\n                }\n            };\n\n            if (!fps) {\n                requestAnimationFrame(render);\n            } else {\n                lastAnimationFrameTime = Date.now();\n                requestAnimationFrame(renderAtFps);\n            }\n        };\n\n        window.addEventListener('load', startSketch);\n    };\n\n    return {\n        canvas: getCanvas,\n        context: getContext,\n        mouse: getMouse,\n        run,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { background, connectParticles, drawMouse, drawParticlePoint, drawPointTrail } from '../lib/canvas';\nimport { mapRange, pointDistance, randomNumberBetween } from '../lib/math';\n\n/*\nBased on Coding Challenge #116: Lissajous Curve Table https://www.youtube.com/watch?v=--6eyLO78CY\n\n */\n\nconst { PI } = Math;\nconst TAU = Math.PI * 2;\nconst { abs } = Math;\nconst { sin } = Math;\nconst { cos } = Math;\nconst { tan } = Math;\nconst { pow } = Math;\n\nconst point = (context, x, y, radius, color) => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fill();\n};\n\nconst pointStroked = (context, x, y, radius, color) => {\n    context.strokeStyle = tinycolor(color).toRgbString();\n    context.lineWidth = 0.5;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.stroke();\n};\n\nconst line = (context, x1, y1, x2, y2, color) => {\n    context.strokeStyle = tinycolor(color).toRgbString();\n    context.lineWidth = 0.5;\n    context.beginPath();\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n};\n\nclass Curve {\n    constructor(centerX, centerY, radius, angle, speed) {\n        this.x = undefined;\n        this.y = undefined;\n        this.centerX = centerX;\n        this.centerY = centerY;\n        this.radius = radius;\n        this.speed = speed || 1;\n        this.angle = angle || 0;\n    }\n}\n\nexport const lissajous01 = () => {\n    const config = {\n        width: 1000,\n        height: 1000,\n    };\n\n    const curves = [];\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n    const columns = 1;\n    const margin = 50;\n    let tick = 0;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        const colSize = (canvas.width - margin * 2) / columns;\n        const colOffset = (canvas.width - margin * 2) / (columns * 2);\n\n        if (columns === 1) {\n            curves.push(new Curve(canvasCenterX, canvasCenterY, centerRadius, 0, 0.05));\n        } else {\n            for (let x = colOffset + margin; x < canvas.width - margin; x += colSize) {\n                for (let y = colOffset + margin; y < canvas.height - margin; y += colSize) {\n                    curves.push(new Curve(x, y, colOffset * 0.75, 0, 0.05));\n                }\n            }\n        }\n\n        background(canvas, context)({ r: 230, g: 230, b: 230 });\n    };\n\n    const circleX = (curve, v = 1) => curve.radius * Math.cos(curve.angle * v);\n    const circleY = (curve, v = 1) => curve.radius * Math.sin(curve.angle * v);\n\n    // k is # of petals\n    // https://en.wikipedia.org/wiki/Rose_(mathematics)\n    // http://xahlee.info/SpecialPlaneCurves_dir/Rose_dir/rose.html\n    const roseX = (curve, k = 1, a = 1, b = 1) =>\n        curve.radius * Math.cos(k * curve.angle * a) * Math.cos(curve.angle * b);\n    const roseY = (curve, k = 1, a = 1, b = 1) =>\n        curve.radius * Math.cos(k * curve.angle * a) * Math.sin(curve.angle * b);\n\n    // https://www.huffpost.com/entry/flowers_b_9817126\n    // x = cos(14k/9000)(1-(3/4)(sin(20k/9000))4-(1/4)(cos(60k/9000))3)\n    // y = sin(14k/9000)(1-(3/4)(sin(20k/9000))4-(1/4)(cos(60k/9000))3)\n    // r = (1/120)+(1/18)(sin(60k/9000))4+(1/18)(sin(160k/9000))4\n    const manyX = (curve, r, k, i) =>\n        r * cos((14 * PI * k) / i) * pow(1 - 0.75 * sin((20 * PI * k) / i), 4) -\n        0.25 * (pow(cos((60 * PI * k) / i)), 3);\n    const manyY = (curve, r, k, i) =>\n        r * sin((14 * PI * k) / i) * pow(1 - 0.75 * sin((20 * PI * k) / i), 4) - 0.25 * pow(cos((60 * PI * k) / i), 3);\n    const manyR = (curve, k, i) =>\n        abs(\n            0.008333333333 +\n                0.05555555556 * sin((60 * PI * k) / i) * 4 +\n                0.05555555556 * pow(sin((160 * PI * k) / i), 4)\n        );\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 230, g: 230, b: 230, a: 0.001 });\n\n        for (let i = 0; i < curves.length; i++) {\n            const pointRad = 0.5;\n            const c = curves[i];\n\n            const px = c.x;\n            const py = c.y;\n\n            // c.x = c.centerX + circleX(c);\n            // c.y = c.centerY + circleY(c);\n            // c.x = c.centerX + roseX(c, (i + 1) / 9, 1);\n            // c.y = c.centerY + roseY(c, (i + 1) / 9, 1);\n            c.x = c.centerX + manyX(c, c.radius * 0.15, tick, 9000);\n            c.y = c.centerY + manyY(c, c.radius * 0.15, tick, 9000);\n            pointRad = manyR(c, tick, 9000) * 250;\n            c.angle += c.speed;\n\n            const distFromCenter = pointDistance({ x: canvasCenterX, y: canvasCenterY }, { x: c.x, y: c.y });\n            const h = mapRange(0, canvasCenterX, 180, 270, distFromCenter);\n            const s = 100;\n            const l = 30;\n            const a = 0.1;\n            const color = `hsla(${h},${s}%,${l}%,${a})`;\n\n            // if (px && py) line(context, px, py, c.x, c.y, 'rgba(0,0,0,.1');\n            pointStroked(context, c.x, c.y, pointRad, color);\n        }\n        tick++;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { background } from '../lib/canvas';\nimport { create2dNoise, mapRange, randomNumberBetween, lowest, highest } from '../lib/math';\n\n/*\nOriginal inspiration\nChurn by Kenny Vaden\nhttps://www.reddit.com/r/generative/comments/lq8r11/churn_r_code/\n */\n\nconst createWave = (width, angle, frequency, amplitude, noise = 1) => {\n    const points = [];\n    const cfrequency = frequency * noise;\n    const camplitude = amplitude * noise;\n\n    for (let i = 0; i < width; i++) {\n        const s = Math.sin((angle + Math.PI * 2 + i) / frequency) * amplitude;\n        const c = Math.cos((angle + Math.PI * 2 + i) / cfrequency) * camplitude;\n        points.push(s + c);\n    }\n\n    return points;\n};\n\n// get the lowest of top and the highest of bottom, height+=that difference\nconst drawWaveLine = (context) => (startx, endx, yorigin, height, topWave, bottomWave, color, dots = true) => {\n    let currentX = startx;\n    let currentY = yorigin;\n\n    const waveColor = color.clone();\n\n    // const highestTop = lowest(topWave);\n    const lineheight = highest(bottomWave) - lowest(topWave) + height;\n\n    const gradient = context.createLinearGradient(0, yorigin, 0, yorigin + lineheight);\n    gradient.addColorStop(0, waveColor.toRgbString());\n    gradient.addColorStop(1, waveColor.darken(20).toRgbString());\n\n    context.strokeStyle = waveColor.darken(70).toRgbString();\n    context.lineWidth = 0.75;\n    context.beginPath();\n\n    context.moveTo(startx, currentY);\n\n    let xstep = (endx - startx) / topWave.length + 1;\n    topWave.forEach((w) => {\n        context.lineTo(currentX, w + currentY);\n        currentX += xstep;\n    });\n\n    currentY += lineheight;\n    context.lineTo(currentX, currentY);\n\n    xstep = (endx - startx) / bottomWave.length + 1;\n    bottomWave.forEach((w) => {\n        context.lineTo(currentX, w + currentY);\n        currentX -= xstep;\n    });\n\n    context.lineTo(startx, currentY);\n\n    if (dots) {\n        context.stroke();\n        context.fillStyle = gradient;\n    } else {\n        context.fillStyle = tinycolor(waveColor).toRgbString();\n    }\n\n    context.fill();\n\n    if (dots) {\n        currentX = startx;\n        currentY = yorigin;\n        xstep = (endx - startx) / topWave.length + 1;\n        const dotColor = color.clone();\n        topWave.forEach((w) => {\n            // if (w <= highestTop * 0.5) {\n            const rnd = randomNumberBetween(0, yorigin);\n            if (rnd < 2) {\n                // context.strokeStyle = tinycolor(waveColor).darken(20).toRgbString();\n                // context.lineWidth = 2;\n                const radius = rnd < 0.008 ? randomNumberBetween(50, 100) : randomNumberBetween(1, 3);\n\n                context.fillStyle = dotColor.lighten(5).toRgbString();\n                context.beginPath();\n                context.arc(\n                    currentX + randomNumberBetween(-50, 50),\n                    w + currentY - randomNumberBetween(5, 50),\n                    radius,\n                    0,\n                    Math.PI * 2,\n                    false\n                );\n                context.fill();\n                context.stroke();\n            }\n            // }\n            currentX += xstep;\n        });\n    }\n};\n\nexport const waves01 = () => {\n    const config = {};\n\n    let canvasHeight;\n    let canvasMiddle;\n\n    // Palette from https://www.colourlovers.com/palette/694737/Thought_Provoking\n    const colorBackground = 'hsl(46, 75%, 70%)';\n    const colorTop = 'hsl(350, 65%, 46%)';\n    const colorBottom = 'hsl(185, 19%, 40%)';\n\n    const waves = [];\n\n    const waveResolution = 400;\n    let waveRows;\n\n    let incrementY = 1;\n    let startY = 0;\n    let currentY;\n    let maxY;\n\n    let angle = 90;\n    let frequency = 10;\n    let amplitude = 10;\n    let cosOffset = 0;\n\n    const createWavesRow = (idx) => {\n        const mid = waveRows / 2;\n        const distFromCenter = Math.abs(mid - idx);\n\n        angle = mapRange(0, waveRows, 0, 360, idx);\n\n        frequency = mapRange(0, mid, 8, 30, distFromCenter);\n        amplitude = mapRange(0, mid, 15, 20, distFromCenter) + randomNumberBetween(-5, 5);\n\n        const noise = create2dNoise(angle, idx, amplitude * 0.5, frequency * randomNumberBetween(0, 2));\n        cosOffset = noise / randomNumberBetween(2, 10);\n\n        return {\n            top: createWave(waveResolution, angle, frequency, amplitude, cosOffset),\n            bottom: createWave(waveResolution, angle, frequency, amplitude, cosOffset),\n        };\n    };\n\n    const setup = (canvas, context) => {\n        canvasHeight = canvas.height;\n        canvasMiddle = canvas.height / 2;\n\n        waveRows = canvas.height;\n\n        const buffer = canvas.height / 5;\n        startY = buffer;\n\n        currentY = startY;\n\n        maxY = canvas.height - buffer * 1.5;\n        incrementY = (maxY - startY) / waveRows;\n\n        for (let i = 0; i < waveRows; i++) {\n            waves.push(createWavesRow(i));\n        }\n\n        background(canvas, context)(tinycolor(colorBackground).lighten(20));\n    };\n\n    const draw = (canvas, context, mouse) => {\n        const mid = canvasMiddle;\n\n        for (let i = 0; i < waves.length; i++) {\n            const distFromCenter = Math.abs(mid - currentY);\n            const color = tinycolor.mix(colorTop, colorBottom, mapRange(startY, maxY, 0, 100, currentY));\n\n            color.spin(mapRange(0, mid / 2, 60, 0, distFromCenter));\n            color.brighten(mapRange(0, mid / 2, 50, 0, distFromCenter));\n            color.darken(mapRange(0, mid, 0, 40, distFromCenter) + randomNumberBetween(0, 30));\n\n            const height = mapRange(startY, maxY, 50, 0, currentY);\n            drawWaveLine(context)(0, canvas.width, currentY, height, waves[i].top, waves[i].bottom, color, true);\n\n            currentY += incrementY;\n        }\n\n        // final white lines at top and bottom to clean up edges\n        // drawWaveLine(context)(0, canvas.width, currentY + rowHeight, 200, topwave, [0], 'white', false);\n        // drawWaveLine(context)(0, canvas.width, -100, 100, topwave, bottomwave, 'white', false);\n\n        return -1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","module.exports = [[\"#69d2e7\",\"#a7dbd8\",\"#e0e4cc\",\"#f38630\",\"#fa6900\"],[\"#fe4365\",\"#fc9d9a\",\"#f9cdad\",\"#c8c8a9\",\"#83af9b\"],[\"#ecd078\",\"#d95b43\",\"#c02942\",\"#542437\",\"#53777a\"],[\"#556270\",\"#4ecdc4\",\"#c7f464\",\"#ff6b6b\",\"#c44d58\"],[\"#774f38\",\"#e08e79\",\"#f1d4af\",\"#ece5ce\",\"#c5e0dc\"],[\"#e8ddcb\",\"#cdb380\",\"#036564\",\"#033649\",\"#031634\"],[\"#490a3d\",\"#bd1550\",\"#e97f02\",\"#f8ca00\",\"#8a9b0f\"],[\"#594f4f\",\"#547980\",\"#45ada8\",\"#9de0ad\",\"#e5fcc2\"],[\"#00a0b0\",\"#6a4a3c\",\"#cc333f\",\"#eb6841\",\"#edc951\"],[\"#e94e77\",\"#d68189\",\"#c6a49a\",\"#c6e5d9\",\"#f4ead5\"],[\"#3fb8af\",\"#7fc7af\",\"#dad8a7\",\"#ff9e9d\",\"#ff3d7f\"],[\"#d9ceb2\",\"#948c75\",\"#d5ded9\",\"#7a6a53\",\"#99b2b7\"],[\"#ffffff\",\"#cbe86b\",\"#f2e9e1\",\"#1c140d\",\"#cbe86b\"],[\"#efffcd\",\"#dce9be\",\"#555152\",\"#2e2633\",\"#99173c\"],[\"#343838\",\"#005f6b\",\"#008c9e\",\"#00b4cc\",\"#00dffc\"],[\"#413e4a\",\"#73626e\",\"#b38184\",\"#f0b49e\",\"#f7e4be\"],[\"#ff4e50\",\"#fc913a\",\"#f9d423\",\"#ede574\",\"#e1f5c4\"],[\"#99b898\",\"#fecea8\",\"#ff847c\",\"#e84a5f\",\"#2a363b\"],[\"#655643\",\"#80bca3\",\"#f6f7bd\",\"#e6ac27\",\"#bf4d28\"],[\"#00a8c6\",\"#40c0cb\",\"#f9f2e7\",\"#aee239\",\"#8fbe00\"],[\"#351330\",\"#424254\",\"#64908a\",\"#e8caa4\",\"#cc2a41\"],[\"#554236\",\"#f77825\",\"#d3ce3d\",\"#f1efa5\",\"#60b99a\"],[\"#5d4157\",\"#838689\",\"#a8caba\",\"#cad7b2\",\"#ebe3aa\"],[\"#8c2318\",\"#5e8c6a\",\"#88a65e\",\"#bfb35a\",\"#f2c45a\"],[\"#fad089\",\"#ff9c5b\",\"#f5634a\",\"#ed303c\",\"#3b8183\"],[\"#ff4242\",\"#f4fad2\",\"#d4ee5e\",\"#e1edb9\",\"#f0f2eb\"],[\"#f8b195\",\"#f67280\",\"#c06c84\",\"#6c5b7b\",\"#355c7d\"],[\"#d1e751\",\"#ffffff\",\"#000000\",\"#4dbce9\",\"#26ade4\"],[\"#1b676b\",\"#519548\",\"#88c425\",\"#bef202\",\"#eafde6\"],[\"#5e412f\",\"#fcebb6\",\"#78c0a8\",\"#f07818\",\"#f0a830\"],[\"#bcbdac\",\"#cfbe27\",\"#f27435\",\"#f02475\",\"#3b2d38\"],[\"#452632\",\"#91204d\",\"#e4844a\",\"#e8bf56\",\"#e2f7ce\"],[\"#eee6ab\",\"#c5bc8e\",\"#696758\",\"#45484b\",\"#36393b\"],[\"#f0d8a8\",\"#3d1c00\",\"#86b8b1\",\"#f2d694\",\"#fa2a00\"],[\"#2a044a\",\"#0b2e59\",\"#0d6759\",\"#7ab317\",\"#a0c55f\"],[\"#f04155\",\"#ff823a\",\"#f2f26f\",\"#fff7bd\",\"#95cfb7\"],[\"#b9d7d9\",\"#668284\",\"#2a2829\",\"#493736\",\"#7b3b3b\"],[\"#bbbb88\",\"#ccc68d\",\"#eedd99\",\"#eec290\",\"#eeaa88\"],[\"#b3cc57\",\"#ecf081\",\"#ffbe40\",\"#ef746f\",\"#ab3e5b\"],[\"#a3a948\",\"#edb92e\",\"#f85931\",\"#ce1836\",\"#009989\"],[\"#300030\",\"#480048\",\"#601848\",\"#c04848\",\"#f07241\"],[\"#67917a\",\"#170409\",\"#b8af03\",\"#ccbf82\",\"#e33258\"],[\"#aab3ab\",\"#c4cbb7\",\"#ebefc9\",\"#eee0b7\",\"#e8caaf\"],[\"#e8d5b7\",\"#0e2430\",\"#fc3a51\",\"#f5b349\",\"#e8d5b9\"],[\"#ab526b\",\"#bca297\",\"#c5ceae\",\"#f0e2a4\",\"#f4ebc3\"],[\"#607848\",\"#789048\",\"#c0d860\",\"#f0f0d8\",\"#604848\"],[\"#b6d8c0\",\"#c8d9bf\",\"#dadabd\",\"#ecdbbc\",\"#fedcba\"],[\"#a8e6ce\",\"#dcedc2\",\"#ffd3b5\",\"#ffaaa6\",\"#ff8c94\"],[\"#3e4147\",\"#fffedf\",\"#dfba69\",\"#5a2e2e\",\"#2a2c31\"],[\"#fc354c\",\"#29221f\",\"#13747d\",\"#0abfbc\",\"#fcf7c5\"],[\"#cc0c39\",\"#e6781e\",\"#c8cf02\",\"#f8fcc1\",\"#1693a7\"],[\"#1c2130\",\"#028f76\",\"#b3e099\",\"#ffeaad\",\"#d14334\"],[\"#a7c5bd\",\"#e5ddcb\",\"#eb7b59\",\"#cf4647\",\"#524656\"],[\"#dad6ca\",\"#1bb0ce\",\"#4f8699\",\"#6a5e72\",\"#563444\"],[\"#5c323e\",\"#a82743\",\"#e15e32\",\"#c0d23e\",\"#e5f04c\"],[\"#edebe6\",\"#d6e1c7\",\"#94c7b6\",\"#403b33\",\"#d3643b\"],[\"#fdf1cc\",\"#c6d6b8\",\"#987f69\",\"#e3ad40\",\"#fcd036\"],[\"#230f2b\",\"#f21d41\",\"#ebebbc\",\"#bce3c5\",\"#82b3ae\"],[\"#b9d3b0\",\"#81bda4\",\"#b28774\",\"#f88f79\",\"#f6aa93\"],[\"#3a111c\",\"#574951\",\"#83988e\",\"#bcdea5\",\"#e6f9bc\"],[\"#5e3929\",\"#cd8c52\",\"#b7d1a3\",\"#dee8be\",\"#fcf7d3\"],[\"#1c0113\",\"#6b0103\",\"#a30006\",\"#c21a01\",\"#f03c02\"],[\"#000000\",\"#9f111b\",\"#b11623\",\"#292c37\",\"#cccccc\"],[\"#382f32\",\"#ffeaf2\",\"#fcd9e5\",\"#fbc5d8\",\"#f1396d\"],[\"#e3dfba\",\"#c8d6bf\",\"#93ccc6\",\"#6cbdb5\",\"#1a1f1e\"],[\"#f6f6f6\",\"#e8e8e8\",\"#333333\",\"#990100\",\"#b90504\"],[\"#1b325f\",\"#9cc4e4\",\"#e9f2f9\",\"#3a89c9\",\"#f26c4f\"],[\"#a1dbb2\",\"#fee5ad\",\"#faca66\",\"#f7a541\",\"#f45d4c\"],[\"#c1b398\",\"#605951\",\"#fbeec2\",\"#61a6ab\",\"#accec0\"],[\"#5e9fa3\",\"#dcd1b4\",\"#fab87f\",\"#f87e7b\",\"#b05574\"],[\"#951f2b\",\"#f5f4d7\",\"#e0dfb1\",\"#a5a36c\",\"#535233\"],[\"#8dccad\",\"#988864\",\"#fea6a2\",\"#f9d6ac\",\"#ffe9af\"],[\"#2d2d29\",\"#215a6d\",\"#3ca2a2\",\"#92c7a3\",\"#dfece6\"],[\"#413d3d\",\"#040004\",\"#c8ff00\",\"#fa023c\",\"#4b000f\"],[\"#eff3cd\",\"#b2d5ba\",\"#61ada0\",\"#248f8d\",\"#605063\"],[\"#ffefd3\",\"#fffee4\",\"#d0ecea\",\"#9fd6d2\",\"#8b7a5e\"],[\"#cfffdd\",\"#b4dec1\",\"#5c5863\",\"#a85163\",\"#ff1f4c\"],[\"#9dc9ac\",\"#fffec7\",\"#f56218\",\"#ff9d2e\",\"#919167\"],[\"#4e395d\",\"#827085\",\"#8ebe94\",\"#ccfc8e\",\"#dc5b3e\"],[\"#a8a7a7\",\"#cc527a\",\"#e8175d\",\"#474747\",\"#363636\"],[\"#f8edd1\",\"#d88a8a\",\"#474843\",\"#9d9d93\",\"#c5cfc6\"],[\"#046d8b\",\"#309292\",\"#2fb8ac\",\"#93a42a\",\"#ecbe13\"],[\"#f38a8a\",\"#55443d\",\"#a0cab5\",\"#cde9ca\",\"#f1edd0\"],[\"#a70267\",\"#f10c49\",\"#fb6b41\",\"#f6d86b\",\"#339194\"],[\"#ff003c\",\"#ff8a00\",\"#fabe28\",\"#88c100\",\"#00c176\"],[\"#ffedbf\",\"#f7803c\",\"#f54828\",\"#2e0d23\",\"#f8e4c1\"],[\"#4e4d4a\",\"#353432\",\"#94ba65\",\"#2790b0\",\"#2b4e72\"],[\"#0ca5b0\",\"#4e3f30\",\"#fefeeb\",\"#f8f4e4\",\"#a5b3aa\"],[\"#4d3b3b\",\"#de6262\",\"#ffb88c\",\"#ffd0b3\",\"#f5e0d3\"],[\"#fffbb7\",\"#a6f6af\",\"#66b6ab\",\"#5b7c8d\",\"#4f2958\"],[\"#edf6ee\",\"#d1c089\",\"#b3204d\",\"#412e28\",\"#151101\"],[\"#9d7e79\",\"#ccac95\",\"#9a947c\",\"#748b83\",\"#5b756c\"],[\"#fcfef5\",\"#e9ffe1\",\"#cdcfb7\",\"#d6e6c3\",\"#fafbe3\"],[\"#9cddc8\",\"#bfd8ad\",\"#ddd9ab\",\"#f7af63\",\"#633d2e\"],[\"#30261c\",\"#403831\",\"#36544f\",\"#1f5f61\",\"#0b8185\"],[\"#aaff00\",\"#ffaa00\",\"#ff00aa\",\"#aa00ff\",\"#00aaff\"],[\"#d1313d\",\"#e5625c\",\"#f9bf76\",\"#8eb2c5\",\"#615375\"],[\"#ffe181\",\"#eee9e5\",\"#fad3b2\",\"#ffba7f\",\"#ff9c97\"],[\"#73c8a9\",\"#dee1b6\",\"#e1b866\",\"#bd5532\",\"#373b44\"],[\"#805841\",\"#dcf7f3\",\"#fffcdd\",\"#ffd8d8\",\"#f5a2a2\"]];","import tinycolor from 'tinycolor2';\nimport * as nicepalettes from 'nice-color-palettes';\nimport { oneOf } from './math';\n\nexport const asTinyColor = (arry) => arry.map((c) => tinycolor(c));\n\nexport const palettes = {\n    pop: ['#ed3441', '#ffd630', '#329fe3', '#154296', '#ffffff', '#303030'],\n    '70s': ['#73BFA3', '#F2DBAE', '#F29829', '#D9631E', '#593C2C'],\n    '80s_pastells': ['#FF3F3F', '#FF48C4', '#F3EA5F', '#C04DF9', '#2BD1FC', '#38CEF6'],\n    '80s_pop': ['#FF82E2', '#70BAFF', '#FED715', '#0037B3', '#FE0879'],\n    '90s': ['#42C8B0', '#4575F3', '#6933B0', '#D36F88', '#FC8D45'],\n    retro_sunset: ['#FFD319', '#FF2975', '#F222FF', '#8C1EFF', '#FF901F'],\n    vapor_wave: ['#F6A3EF', '#50D8EC', '#DD6DFB', '#EECD69', '#6FEAE6'],\n    // https://www.colourlovers.com/palette/694737/Thought_Provoking\n    thought_provoking: [\n        'hsl(46, 75%, 70%)',\n        'hsl(10, 66%, 56%)',\n        'hsl(350, 65%, 46%)',\n        'hsl(336, 40%, 24%)',\n        'hsl(185, 19%, 40%)',\n    ],\n};\n\nexport const nicePalette = (_) => nicepalettes[oneOf(Object.keys(nicepalettes))];\nexport const palette = (_) => palettes[oneOf(Object.keys(palettes))];\n","/*\nCanvas animation timeline based on Canvas Sketch time keeping methods\nhttps://github.com/mattdesl/canvas-sketch/blob/master/docs/animated-sketches.md\n */\n\nexport class Timeline {\n    constructor(fps, loop, duration) {\n        this.fps = fps || 30;\n        this.loop = loop || 0; // total loops\n        this.duration = duration || 1; // duration of each loop in seconds\n        this.totalLoopFrames = this.duration ? this.duration * this.fps : 1;\n        this.iterations = 0; // number of times drawn\n        this.time = 0; // elapsed time in seconds\n        this.playhead = 0; // current progress of the loop between 0 and 1\n        this.frame = 1; // frame of the loop\n        this.elapsedLoops = 0;\n        this.startTime = Date.now();\n    }\n\n    get elapsed() {\n        return Date.now() - this.startTime;\n    }\n\n    onFrame() {\n        this.iterations++;\n        // one frame\n        this.frame++;\n        this.playhead = this.frame / this.totalLoopFrames;\n        if (this.iterations % this.fps === 0) {\n            // a second elapsed\n            this.time++;\n            if (this.frame >= this.totalLoopFrames) {\n                // one loop duration passed\n                this.elapsedLoops++;\n                this.playhead = 0;\n                this.frame = 0;\n                if (this.loop && this.elapsedLoops >= this.loop) {\n                    console.log('End of loops');\n                    return -1;\n                }\n            }\n        }\n        return 1;\n    }\n}\n","import { background, drawLineAngle, setStokeColor } from '../lib/canvas';\nimport { nicePalette } from '../lib/palettes';\nimport { create3dNoise, createGridPointsUV, marginify, oneOf, toSinValue, uvFromAngle } from '../lib/math';\nimport { Timeline } from '../lib/Timeline';\n\nexport const windLines = () => {\n    const config = {\n        width: 600,\n        height: 600,\n        fps: 60,\n    };\n\n    let counter = 0;\n    let grid = createGridPointsUV(15, 15);\n\n    const timeline = new Timeline(config.fps, 0, 5);\n\n    const setup = (canvas, context) => {\n        const colors = nicePalette();\n        grid = grid.map((g) => {\n            g.color = oneOf(colors);\n            return g;\n        });\n        background(canvas, context)('rgba(255,255,255,1');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)('rgba(255,255,255,.1');\n\n        grid.forEach(({ position, rotation, color }) => {\n            const [u, v] = position;\n            const { x, y } = marginify({ margin: 100, u, v, width: canvas.width, height: canvas.height });\n            const t = toSinValue(timeline.playhead) * 0.1;\n            const wave = create3dNoise(u, v, counter, 3 * t) * 10;\n            const startvect = uvFromAngle((rotation + wave) * -1).setMag(25);\n            setStokeColor(context)(color);\n            drawLineAngle(context)(x + startvect.x, y + startvect.y, rotation + wave, 25, 4, 'round');\n        });\n\n        counter += 0.01;\n        return timeline.onFrame();\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import tinycolor from 'tinycolor2';\nimport { pointDistance, normalizeInverse, randomNumberBetween, lerp, pointAngleFromVelocity, clamp } from './math';\nimport { Vector } from './Vector';\n\nconst MAX_COORD_HISTORY = 30;\n\nconst limitArrayLen = (arr) => {\n    const arrLength = arr.length;\n    if (arrLength > MAX_COORD_HISTORY) {\n        arr.splice(0, arrLength - MAX_COORD_HISTORY);\n    }\n    return arr;\n};\n\nexport class Particle {\n    #x;\n\n    #y;\n\n    #color;\n\n    constructor(values) {\n        this.initValues(values);\n    }\n\n    initValues({\n        index,\n        x,\n        y,\n        velocityX,\n        velocityY,\n        accelerationX,\n        accelerationY,\n        radius,\n        mass,\n        color,\n        alpha,\n        rotation,\n        lifetime,\n        drawFn,\n        updateFn,\n        colorFn,\n        ...rest\n    }) {\n        this.props = rest;\n        this.index = index || 0;\n        this.#x = x || 0;\n        this.#y = y || 0;\n        this.xHistory = [x];\n        this.yHistory = [y];\n        this.oX = x || this.oX;\n        this.oY = y || this.oY;\n        this.velocityX = velocityX || 0;\n        this.velocityY = velocityY || 0;\n        this.accelerationX = accelerationX || 0;\n        this.accelerationY = accelerationY || 0;\n        // this.oVelocityX = velocityX || 0;\n        // this.oVelocityY = velocityY || 0;\n        this.mass = mass || 1;\n        this.radius = radius || 1;\n        this.#color = color ? tinycolor(color) : tinycolor({ r: 255, g: 255, b: 255 });\n        this.rotation = rotation || 0;\n        this.lifetime = lifetime || 1;\n        this.drawFn = drawFn;\n        this.updateFn = updateFn;\n        // must always return a string\n        this.colorFn = colorFn;\n    }\n\n    get color() {\n        if (this.colorFn) {\n            return tinycolor(this.colorFn(this));\n        }\n        return this.#color;\n    }\n\n    set color(value) {\n        this.#color = tinycolor(value);\n    }\n\n    get colorStr() {\n        if (this.colorFn) {\n            const res = this.colorFn(this);\n            if (typeof res !== 'string') {\n                console.warn('Particle color fn must return a string!');\n                return '#ff0000';\n            }\n            return res;\n        }\n        return this.#color.toRgbString();\n    }\n\n    get x() {\n        return this.#x;\n    }\n\n    set x(value) {\n        this.#x = value;\n        this.xHistory.unshift(value);\n        if (this.xHistory.length > MAX_COORD_HISTORY) {\n            this.xHistory = this.xHistory.slice(0, MAX_COORD_HISTORY);\n        }\n    }\n\n    get y() {\n        return this.#y;\n    }\n\n    set y(value) {\n        this.#y = value;\n        this.yHistory.unshift(value);\n        if (this.yHistory.length > MAX_COORD_HISTORY) {\n            this.yHistory = this.yHistory.slice(0, MAX_COORD_HISTORY);\n        }\n    }\n\n    get vVector() {\n        return new Vector(this.velocityX, this.velocityY, 0);\n    }\n\n    set vVector({ x, y }) {\n        this.velocityX = x;\n        this.velocityY = y;\n    }\n\n    get aVector() {\n        return new Vector(this.accelerationX, this.accelerationY, 0);\n    }\n\n    set aVector({ x, y }) {\n        this.accelerationX = x;\n        this.accelerationY = y;\n    }\n\n    // Rotation angle to point in direction of velocity\n    get heading() {\n        return pointAngleFromVelocity(this);\n    }\n\n    draw() {\n        this.drawFn(this);\n    }\n\n    update() {\n        this.updateFn(this);\n        this.draw(this);\n    }\n}\n\nexport const pixel = (x, y, color, radius) => new Particle({ x, y, color, radius });\n\nexport const psCanvasRandom = (canvas) => ({\n    x: randomNumberBetween(0, canvas.width),\n    y: randomNumberBetween(0, canvas.height),\n});\n\nexport const createRandomParticleValues = (canvas) => {\n    const vel = 2;\n    const radius = randomNumberBetween(5, 10);\n    const coords = psCanvasRandom(canvas);\n    return {\n        radius,\n        x: coords.x,\n        y: coords.y,\n        mass: randomNumberBetween(1, 10),\n        velocityX: randomNumberBetween(-vel, vel),\n        velocityY: randomNumberBetween(-vel, vel),\n        accelerationX: 0,\n        accelerationY: 0,\n        rotation: randomNumberBetween(-180, 180),\n        // color: { r: randomNumberBetween(100, 255), g: randomNumberBetween(100, 255), b: randomNumberBetween(100, 255) },\n        color: {\n            r: lerp(0, 255, coords.x / canvas.width),\n            g: randomNumberBetween(100, 255),\n            b: lerp(0, 255, coords.y / canvas.height),\n        },\n    };\n};\n\nexport const updatePosWithVelocity = (particle) => {\n    particle.x += particle.vVector.x;\n    particle.y += particle.vVector.y;\n};\n\n// https://www.youtube.com/watch?v=L7CECWLdTmo\nexport const applyForce = (fVect, particle) => {\n    const fV = fVect.div(particle.mass);\n    const aV = particle.aVector.add(fV);\n    const pV = particle.vVector.add(aV);\n    particle.aVector = aV;\n    particle.vVector = pV;\n};\n\n// https://www.youtube.com/watch?v=WBdhAuWS6X8\nexport const friction = (particle, mu = 0.1) => {\n    const normal = particle.mass;\n    const vfriction = particle.vVector\n        .normalize()\n        .mult(-1)\n        .setMag(mu * normal);\n    applyForce(vfriction, particle);\n};\n\n// https://www.youtube.com/watch?v=DxFDgOYEoy8\nexport const drag = (particle, coefficent = 0.1) => {\n    const area = 1; // particle.radius;\n    const velUnit = particle.vVector.normalize().mult(-1);\n    const speed = particle.vVector.magSq() * area * coefficent;\n    const vdrag = velUnit.setMag(speed);\n    applyForce(vdrag, particle);\n};\n\n// https://www.youtube.com/watch?v=EpgB3cNhKPM\n// mode 1 is attract, -1 is repel\n// const attractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 50, g: 1 };\nexport const attract = ({ x, y, mass, g }, particle, mode = 1, affectDist = 1000) => {\n    if (pointDistance({ x, y }, { x: particle.x, y: particle.y }) < affectDist) {\n        g = g || 1;\n        const dir = new Vector(x, y).sub(new Vector(particle.x, particle.y));\n        const distanceSq = clamp(50, 5000, dir.magSq());\n        const strength = (mode * (g * (mass * particle.mass))) / distanceSq;\n        const force = dir.setMag(strength);\n        applyForce(force, particle);\n    }\n};\n\nexport const edgeBounce = ({ width, height }, particle) => {\n    // if (particle.x + particle.radius > width || particle.x - particle.radius < 0) {\n    //     particle.velocityX *= -1;\n    // }\n    // if (particle.y + particle.radius > height || particle.y - particle.radius < 0) {\n    //     particle.velocityY *= -1;\n    // }\n    if (particle.x + particle.radius > width) {\n        particle.velocityX *= -1;\n        particle.x = width - particle.radius;\n    }\n    if (particle.x - particle.radius < 0) {\n        particle.velocityX *= -1;\n        particle.x = particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.velocityY *= -1;\n        particle.y = height - particle.radius;\n    }\n    if (particle.y - particle.radius < 0) {\n        particle.velocityY *= -1;\n        particle.y = particle.radius;\n    }\n};\n\nexport const edgeWrap = ({ width, height }, particle) => {\n    if (particle.x + particle.radius > width) {\n        particle.x = 0 + particle.radius;\n    } else if (particle.x - particle.radius < 0) {\n        particle.x = width - particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.y = 0 + particle.radius;\n    } else if (particle.y - particle.radius < 0) {\n        particle.y = height - particle.radius;\n    }\n};\n\nexport const gravityPoint = (mult = 0.2, f = 1) => (x, y, radius, particle) => {\n    const distance = pointDistance({ x, y }, particle);\n    if (distance < radius) {\n        const dx = x - particle.x;\n        const dy = y - particle.y;\n        const forceDirectionX = dx / distance;\n        const forceDirectionY = dy / distance;\n        const force = normalizeInverse(0, radius, distance) * f * mult;\n        const tempX = forceDirectionX * force * particle.radius * 2;\n        const tempY = forceDirectionY * force * particle.radius * 2;\n        particle.x += tempX;\n        particle.y += tempY;\n    }\n};\n\n// for moving points, push away/around from point\nexport const avoidPoint = (point, particle, f = 1) => {\n    gravityPoint(1, (f *= -1))(point.x, point.y, point.radius, particle);\n};\n\n// for moving points, pull towards point\nexport const attractPoint = (point, particle, f = 1) => {\n    gravityPoint(1, f)(point.x, point.y, point.radius, particle);\n};\n\n// for moving static, push away/outward from point\nexport const pointPush = (point, particle, f = 1) => {\n    const dx = point.x - particle.x;\n    const dy = point.y - particle.y;\n    const distance = pointDistance(point, particle);\n    const forceDirectionX = dx / distance;\n    const forceDirectionY = dy / distance;\n    const force = normalizeInverse(0, point.radius, distance) * f;\n    particle.velocityX = forceDirectionX * force * particle.mass * 0.8;\n    particle.velocityY = forceDirectionY * force * particle.mass * 0.8;\n\n    if (distance < point.radius) {\n        particle.x -= particle.velocityX;\n        particle.y -= particle.velocityY;\n    } else {\n        // TODO if < 1 then snap to 0\n        if (particle.x !== particle.oX) {\n            particle.x -= (particle.x - particle.oX) * 0.1;\n        }\n        if (particle.y !== particle.oY) {\n            particle.y -= (particle.y - particle.oY) * 0.1;\n        }\n    }\n};\n","import sourcePng from '../../hi1.png';\nimport {\n    clearCanvas,\n    drawSquareFilled,\n    background,\n    getImageDataFromImage,\n    getImageDataColor,\n    connectParticles,\n    drawParticlePoint,\n} from '../lib/canvas';\nimport { createRandomParticleValues, edgeWrap, Particle, drag, updatePosWithVelocity } from '../lib/Particle';\nimport { createGridPointsXY, createRandomNumberArray, mapRange, randomNumberBetween } from '../lib/math';\n\nexport const hiImage01 = (_) => {\n    const config = {\n        width: 600,\n        height: 600,\n    };\n\n    const numParticles = 500;\n    let imageZoomFactor;\n    const png = new Image();\n    png.src = sourcePng;\n    const particlesArray = [];\n    let imageData;\n    const particleColor = { r: 252, g: 3, b: 152 };\n    // let imageColorData;\n\n    // const createColorArrayFromImageData = (imageData) => {\n    //     const data = [];\n    //     for (let y = 0, { height } = imageData; y < height; y++) {\n    //         for (let x = 0, { width } = imageData; x < width; x++) {\n    //             data.push({ x, y, ...getImageColor(imageData, x, y) });\n    //         }\n    //     }\n    //     return data;\n    // };\n\n    const setup = (canvas, context) => {\n        imageData = getImageDataFromImage(context)(png);\n        clearCanvas(canvas, context)();\n\n        imageZoomFactor = canvas.width / imageData.width;\n\n        // imageColorData = createColorArrayFromImageData(imageData);\n\n        // const gridPoints = createGridPoints(\n        //     canvas.width,\n        //     canvas.height,\n        //     100,\n        //     100,\n        //     canvas.width / 50,\n        //     canvas.height / 50\n        // );\n        // numParticles = gridPoints.length;\n        // for (let i = 0; i < numParticles; i++) {\n        //     const props = createRandomParticleValues(canvas);\n        //     props.x = gridPoints[i][0];\n        //     props.y = gridPoints[i][1];\n        //     props.radius = randomNumberBetween(1, 5);\n        //     props.color = particleColor;\n        //     particlesArray.push(new Particle(props));\n        // }\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = randomNumberBetween(1, 5);\n            props.color = particleColor;\n            if (i % 2) {\n                props.x = 0;\n            } else {\n                props.x = canvas.width;\n            }\n            particlesArray.push(new Particle(props));\n        }\n\n        background(canvas, context)({ r: 255, g: 255, b: 0 });\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 255, g: 255, b: 0, a: 0.004 });\n\n        for (let i = 0; i < numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeWrap(canvas, particlesArray[i]);\n\n            const pxColor = getImageDataColor(\n                imageData,\n                Math.round(particlesArray[i].x / imageZoomFactor),\n                Math.round(particlesArray[i].y / imageZoomFactor)\n            );\n\n            if (pxColor.r > 250) {\n                drag(particlesArray[i], 0.001);\n                particlesArray[i].color = { r: 3, g: 227, b: 252 };\n            } else {\n                particlesArray[i].color = particleColor;\n            }\n\n            drawParticlePoint(context)(particlesArray[i]);\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n} from '../lib/Particle';\nimport { clearCanvas, connectParticles, drawMouse, drawParticlePoint, drawPointTrail, fillCanvas } from '../lib/canvas';\n\n// Based on https://www.youtube.com/watch?v=d620nV6bp0A\nexport const variation1 = () => {\n    const numParticles = 100;\n    const particlesArray = [];\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = 5;\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)();\n\n        for (let i = 0; i < numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            avoidPoint({ radius: centerRadius, x: canvasCenterX, y: canvasCenterY }, particlesArray[i], 4);\n            attractPoint(mouse, particlesArray[i], mouse.isDown ? -1 : 1);\n            drawParticlePoint(context)(particlesArray[i]);\n            drawPointTrail(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 200);\n        drawMouse(context)(mouse);\n    };\n\n    return {\n        setup,\n        draw,\n    };\n};\n","import { avoidPoint, Particle, createRandomParticleValues } from '../lib/Particle';\nimport { clearCanvas, connectParticles, drawMouse, drawParticlePoint } from '../lib/canvas';\nimport { randomNumberBetween } from '../lib/math';\n\n// Based on https://www.youtube.com/watch?v=j_BgnpMPxzM\nexport const variation2 = () => {\n    const config = {\n        friction: 0.8,\n        gravity: 1,\n        decay: 0.05,\n        tweenDamp: 0.1,\n        margin: 50,\n        intensity: 0,\n        numParticles: 200,\n    };\n\n    const particlesArray = [];\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            particlesArray.push(new Particle(createRandomParticleValues(canvas)));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        clearCanvas(canvas, context)();\n\n        for (let i = 0; i < config.numParticles; i++) {\n            particlesArray[i].radius -= config.decay;\n            if (particlesArray[i].radius <= 0) {\n                const newValues = createRandomParticleValues(canvas);\n                const newCoords = mouse;\n                newValues.x = newCoords.x + randomNumberBetween(-10, 10);\n                newValues.y = newCoords.y + randomNumberBetween(-10, 10);\n                particlesArray[i].initValues(newValues);\n            }\n            particlesArray[i].y += particlesArray[i].mass * (mouse.isDown ? 1 : 0.2);\n            particlesArray[i].mass += 0.2 * config.gravity;\n            if (\n                particlesArray[i].y + particlesArray[i].radius > canvas.height ||\n                particlesArray[i].y - particlesArray[i].radius < 0\n            ) {\n                particlesArray[i].mass *= -1;\n            }\n\n            avoidPoint(mouse, particlesArray[i]);\n            // attractPoint(psMouseCoords(), particlesArray[i]);\n            drawParticlePoint(context)(particlesArray[i]);\n            // drawPointTrail(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 100);\n        drawMouse(context)(mouse);\n\n        return 1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import domokunPng from '../../domokun.png';\nimport {\n    clearCanvas,\n    drawMouse,\n    drawSquareFilled,\n    background,\n    getImageDataFromImage,\n    getImageDataColor,\n} from '../lib/canvas';\nimport { randomNumberBetween, scalePointToCanvas } from '../lib/math';\nimport { Particle, pointPush } from '../lib/Particle';\n\n// Based on https://www.youtube.com/watch?v=afdHgwn1XCY\nexport const domokun = (_) => {\n    const config = {\n        width: 600,\n        height: 600,\n    };\n\n    let numParticles;\n    const imageSize = 100; // square\n    const png = new Image();\n    png.src = domokunPng;\n    const particlesArray = [];\n\n    const setup = (canvas, context) => {\n        const imageData = getImageDataFromImage(context)(png);\n        clearCanvas(canvas, context)();\n\n        const imageZoomFactor = canvas.width / imageSize;\n        const cropColor = 255 / 2;\n\n        for (let y = 0, { height } = imageData; y < height; y++) {\n            for (let x = 0, { width } = imageData; x < width; x++) {\n                const pxColor = getImageDataColor(imageData, x, y);\n                if (pxColor.a > cropColor) {\n                    const points = scalePointToCanvas(\n                        canvas.width,\n                        canvas.height,\n                        imageData.width,\n                        imageData.height,\n                        imageZoomFactor,\n                        x,\n                        y\n                    );\n                    const pX = points.x;\n                    const pY = points.y;\n                    const mass = randomNumberBetween(2, 12);\n                    const color = pxColor;\n                    const radius = imageZoomFactor;\n                    particlesArray.push(new Particle({ x: pX, y: pY, mass, color, radius }));\n                }\n            }\n        }\n\n        numParticles = particlesArray.length;\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)('yellow');\n\n        for (let i = 0; i < numParticles; i++) {\n            pointPush(mouse, particlesArray[i], mouse.isDown ? -1 : 1);\n            drawSquareFilled(context)(\n                particlesArray[i].x,\n                particlesArray[i].y,\n                particlesArray[i].radius,\n                particlesArray[i].color\n            );\n        }\n        // drawMouse(context)(mouse);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import { createRandomParticleValues, Particle, pointPush } from '../lib/Particle';\nimport { connectParticles, drawParticlePoint, fillCanvas } from '../lib/canvas';\n\nexport const variation4 = () => {\n    const config = {\n        numParticles: 0,\n    };\n\n    const particlesArray = [];\n    const circles = [];\n\n    const setup = (canvas, context) => {\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const diameter = canvas.height / 4;\n        const steps = 10;\n\n        for (let theta = 0; theta < 360; theta += steps) {\n            const rad = theta * (Math.PI / 180);\n            const x = Math.cos(rad) * diameter + centerX;\n            const y = Math.sin(rad) * diameter + centerY;\n            circles.push([x, y]);\n            const props = createRandomParticleValues(canvas);\n            props.x = x;\n            props.y = y;\n            props.radius = 1;\n            props.color = { r: 0, g: 0, b: 0 };\n            props.index = circles.length - 1;\n            particlesArray.push(new Particle(props));\n        }\n        config.numParticles = particlesArray.length;\n        fillCanvas(canvas, context)(1, '255,255,255');\n    };\n\n    // will run every frame\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)(0.005, '255,255,255');\n        for (let i = 0; i < config.numParticles; i++) {\n            pointPush(mouse, particlesArray[i], mouse.isDown ? -1 : 5);\n            drawParticlePoint(context)(particlesArray[i]);\n            // let index = particlesArray[i].index + 1;\n            // if(index === circles.length) {\n            //     index = 0;\n            // }\n            // particlesArray[i].x = circles[index][0];\n            // particlesArray[i].y = circles[index][1];\n            // particlesArray.index = index;\n        }\n        connectParticles(context)(particlesArray, 200);\n        return 1; // -1 to exit animation loop\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n} from '../lib/Particle';\nimport { clearCanvas, connectParticles, drawMouse, drawParticlePoint, drawPointTrail, fillCanvas } from '../lib/canvas';\nimport { randomNumberBetween } from '../lib/math';\n\nexport const variation5 = () => {\n    const config = {\n        numParticles: 50,\n    };\n\n    const particlesArray = [];\n    const circles = [];\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = canvas.width / 2;\n            props.y = canvas.height / 2;\n            props.color = { r: 0, g: 0, b: 0 };\n            props.radius = 0.5;\n            particlesArray.push(new Particle(props));\n        }\n        const centerX = canvas.width / 2;\n        const centerY = canvas.height / 2;\n        const diameter = canvas.height / 4;\n        const steps = 30;\n        for (let theta = 0; theta < 360; theta += steps) {\n            const rad = theta * (Math.PI / 180);\n            const x = Math.cos(rad) * diameter + centerX;\n            const y = Math.sin(rad) * diameter + centerY;\n            circles.push([x, y, randomNumberBetween(20, 100)]);\n        }\n        fillCanvas(canvas, context)(1, '255,255,255');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        // fillCanvas(canvas, context)(.005,'255,255,255');\n        for (let i = 0; i < config.numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            for (let c = 0; c < circles.length; c++) {\n                avoidPoint({ radius: circles[c][2], x: circles[c][0], y: circles[c][1] }, particlesArray[i], 4);\n            }\n            drawParticlePoint(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 50);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {\n    avoidPoint,\n    Particle,\n    createRandomParticleValues,\n    updatePosWithVelocity,\n    edgeBounce,\n    gravityPoint,\n} from '../lib/Particle';\nimport { fillCanvas, connectParticles, drawMouse, drawParticlePoint } from '../lib/canvas';\nimport { mapRange, randomNumberBetween } from '../lib/math';\n\n// Based on https://www.youtube.com/watch?v=j_BgnpMPxzM\nexport const variation6 = () => {\n    const numParticles = 200;\n    const particlesArray = [];\n    let hue = 0;\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < numParticles; i++) {\n            const initValues = createRandomParticleValues(canvas);\n            initValues.color = { r: 255, g: 255, b: 255 };\n            particlesArray.push(new Particle(initValues));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)(0.08);\n        if (hue++ > 361) hue = 0;\n        for (let i = 0; i < numParticles; i++) {\n            particlesArray[i].radius -= 0.05;\n            if (particlesArray[i].radius <= 0) {\n                const initValues = createRandomParticleValues(canvas);\n                initValues.x = mouse.x ? mouse.x : canvas.width / 2;\n                initValues.y = mouse.y ? mouse.y : canvas.height / 2;\n                // let h = lerpRange(0,canvas.width,100,200,initValues.x);\n                const s = mapRange(0, 10, 0, 100, initValues.radius);\n                const l = mapRange(0, 10, 25, 75, initValues.radius);\n                initValues.color = `hsl(${hue},${s}%,${l}%)`;\n                particlesArray[i].initValues(initValues);\n            }\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n\n            gravityPoint()(canvas.width / 2, canvas.height, 2000, particlesArray[i]);\n            // gravityPoint({x:canvas.width/2, y:canvas.height}, particlesArray[i])\n            drawParticlePoint(context)(particlesArray[i]);\n        }\n        // connectParticles(context)(particlesArray, 100);\n        return 1;\n    };\n\n    return {\n        setup,\n        draw,\n    };\n};\n","import { edgeBounce, Particle, updatePosWithVelocity, createRandomParticleValues, attract } from '../lib/Particle';\nimport { drawRotatedParticle, background, drawRake } from '../lib/canvas';\n\nexport const rainbowRakeOrbit = () => {\n    const config = {\n        // width: 700,\n        // height: 700,\n        // fps: 30,\n    };\n\n    const numParticles = 50;\n    const particlesArray = [];\n\n    const attractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 100, g: 20 };\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = 1; // Math.sqrt(props.mass);\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    // const targetX = mouse.x ? mouse.x : canvas.width / 2;\n    // const targetY = mouse.y ? mouse.y : canvas.height / 2;\n    // accelerateToPoint(targetX, targetY, particlesArray[i]);\n    // https://www.youtube.com/watch?v=T84AWnntxZA\n    // const accelerateToPoint = (targetX, targetY, particle) => {\n    //     const magnitude = 0.001;\n    //     const vLimit = 5;\n    //     const accX = ((targetX - particle.x) * magnitude) / particle.mass;\n    //     const accY = ((targetY - particle.y) * magnitude) / particle.mass;\n    //     particle.velocityX += accX;\n    //     particle.velocityY += accY;\n    //     particle.velocityX = clamp(-vLimit, vLimit, particle.velocityX);\n    //     particle.velocityY = clamp(-vLimit, vLimit, particle.velocityY);\n    // };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 0, g: 0, b: 50, a: 0.01 });\n\n        let mode = 1;\n\n        attractor.x = mouse.x ? mouse.x : canvasCenterX;\n        attractor.y = mouse.y ? mouse.y : canvasCenterY;\n\n        for (let i = 0; i < numParticles; i++) {\n            if (mouse.isDown) {\n                mode = -1;\n            } else {\n                mode = 1;\n            }\n            attract(attractor, particlesArray[i], mode, 2000);\n            particlesArray[i].vVector = particlesArray[i].vVector.limit(20);\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            drawRotatedParticle(context, drawRake, particlesArray[i]);\n            particlesArray[i].aVector = { x: 0, y: 0 };\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import { createRandomNumberArray, pointOnCircle, randomNumberBetween, createGridPointsXY, mapRange } from '../lib/math';\nimport {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n    edgeWrap,\n    attract,\n} from '../lib/Particle';\nimport {\n    background,\n    clearCanvas,\n    connectParticles,\n    drawMouse,\n    drawLine,\n    drawParticlePoint,\n    drawPointTrail,\n    fillCanvas,\n    drawSpikeCircle,\n    drawAttractor,\n} from '../lib/canvas';\n\nexport const threeAttractors = () => {\n    const config = {\n        // width: 500,\n        // height: 500,\n        // fps: 24,\n    };\n\n    let numParticles;\n    const particlesArray = [];\n    let gridPoints = [];\n    const hue = 0;\n\n    let attractorDist;\n\n    let leftattractor;\n    let midattractor;\n    let rightattractor;\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        attractorDist = canvas.width / 0.7;\n\n        leftattractor = { x: 0, y: canvas.height / 2, mass: 10, g: 3 };\n        midattractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 50, g: 10 };\n        rightattractor = { x: canvas.width, y: canvas.height / 2, mass: 10, g: 3 };\n\n        gridPoints = createGridPointsXY(canvas.width, canvas.height, 100, 100, canvas.width / 50, canvas.height / 50);\n        numParticles = gridPoints.length;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = gridPoints[i][0];\n            props.y = gridPoints[i][1];\n            props.velocityX = 0;\n            props.velocityY = 0;\n            props.mass = 1;\n            props.radius = 1; // randomNumberBetween(10, 30);\n            props.spikes = createRandomNumberArray(20, 0, 360);\n\n            const h = mapRange(0, canvas.width, 0, 90, props.x);\n            const s = 100; // lerpRange(0,10,0,100,prop.radius);\n            const l = 50; // lerpRange(0,10,25,75,prop.radius);\n            props.color = `hsla(${h},${s}%,${l}%,0.1)`;\n\n            // props.color = { r: 0, g: 0, b: 0, a: 0.1 };\n\n            particlesArray.push(new Particle(props));\n        }\n\n        background(canvas, context)('white');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        // background(canvas, context)({ r: 255, g: 255, b: 255, a: 0.001 });\n        for (let i = 0; i < numParticles; i++) {\n            attract(leftattractor, particlesArray[i], -1, attractorDist);\n            attract(midattractor, particlesArray[i], 1, attractorDist);\n            attract(rightattractor, particlesArray[i], -1, attractorDist);\n\n            particlesArray[i].vVector = particlesArray[i].vVector.limit(10);\n\n            updatePosWithVelocity(particlesArray[i]);\n            // edgeBounce(canvas, particlesArray[i]);\n            drawParticlePoint(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 50, false);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","/*\nExplorations with generative code\n*/\n\nimport normliaze from 'normalize.css';\n\nimport { sketch } from './lib/sketch';\nimport { getRandomSeed } from './lib/math';\n// import { forcesDev } from './experiments/forcesDev';\n// import { forcesDevGravity } from './experiments/forcesDevGravity';\n// import { testGrid } from './experiments/test-grid';\n// import { blackhole } from './experiments/blackhole';\n// import { parametric01 } from './experiments/parametric01';\nimport { lissajous01 } from './experiments/lissajous01';\n\nimport { waves01 } from './released/waves01';\nimport { windLines } from './released/windLines';\nimport { hiImage01 } from './released/hiImage01';\nimport { variation1 } from './released/variation1';\nimport { variation2 } from './released/variation2';\nimport { domokun } from './released/domokun';\nimport { variation4 } from './released/variation4';\nimport { variation5 } from './released/variation5';\nimport { variation6 } from './released/variation6';\nimport { rainbowRakeOrbit } from './released/rainbow-rake-orbit-mouse';\nimport { threeAttractors } from './released/threeAttractors';\n\nconst s = sketch();\n\nconst DEBUG = lissajous01;\n\n// TODO append random seed value\nconst saveCanvasCapture = (_) => {\n    console.log('Saving capture');\n    const imageURI = s.canvas().toDataURL('image/png');\n    document.getElementById('download').setAttribute('download', `canvas-${getRandomSeed()}.png`);\n    document.getElementById('download').href = imageURI;\n};\n\ndocument.getElementById('download').addEventListener('click', saveCanvasCapture);\nwindow.addEventListener('keydown', (e) => {\n    if (e.key === 's') {\n        document.getElementById('download').click();\n    }\n});\n\nconst setNote = (note) => (document.getElementById('note').innerText = note);\n\nconst getQueryVariable = (variable) => {\n    const query = window.location.search.substring(1);\n    const vars = query.split('&');\n    for (let i = 0; i < vars.length; i++) {\n        const pair = vars[i].split('=');\n        if (pair[0] === variable) {\n            return pair[1];\n        }\n    }\n    return false;\n};\n\nlet variationKey = getQueryVariable('variation');\nvariationKey = variationKey || '11';\n\nconst variations = {\n    1: {\n        note: 'Particles are attracted to the pointer. Press to repel.',\n        sketch: variation1,\n    },\n    2: {\n        note: 'Press to increase speed.',\n        sketch: variation2,\n    },\n    3: {\n        note: 'Particles are repelled from the pointer. Press to attract.',\n        sketch: domokun,\n    },\n    4: {\n        note: 'Particles are repelled from the pointer. Press to attract.',\n        sketch: variation4,\n    },\n    5: {\n        note: 'Sit back and watch.',\n        sketch: variation5,\n    },\n    6: {\n        note: 'Move the mouse',\n        sketch: variation6,\n    },\n    7: {\n        note: 'Rakes orbit center and the mouse. Click to repel.',\n        sketch: rainbowRakeOrbit,\n    },\n    8: {\n        note: 'One attractor in the center, two on the sides.',\n        sketch: threeAttractors,\n    },\n    9: {\n        note: 'Say Hi',\n        sketch: hiImage01,\n    },\n    10: {\n        note: 'In the breeze',\n        sketch: windLines,\n    },\n    11: {\n        note: 'Inspired by Churn, Kenny Vaden https://www.reddit.com/r/generative/comments/lq8r11/churn_r_code/',\n        sketch: waves01,\n    },\n};\n\nif (variations.hasOwnProperty(variationKey) && DEBUG === undefined) {\n    const vToRun = variations[variationKey];\n    setNote(vToRun.note);\n    s.run(vToRun.sketch());\n} else {\n    setNote('Not a valid variation!');\n}\n\nif (DEBUG) {\n    s.run(DEBUG());\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}