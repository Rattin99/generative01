{"version":3,"sources":["node_modules/tinycolor2/tinycolor.js","node_modules/seed-random/index.js","node_modules/simplex-noise/simplex-noise.js","node_modules/defined/index.js","node_modules/canvas-sketch-util/random.js","scripts/lib/math.js","scripts/lib/canvas.js","scripts/lib/sketch.js","scripts/lib/vector.js","scripts/lib/particle.js","scripts/forcesDev.js","scripts/forcesDevGravity.js","scripts/test-grid.js","node_modules/nice-color-palettes/100.json","scripts/lib/palettes.js","scripts/timebased-template.js","scripts/hiImage01.js","scripts/variation1.js","scripts/variation2.js","scripts/domokun.js","scripts/variation4.js","scripts/variation5.js","scripts/variation6.js","scripts/rainbow-rake-orbit-mouse.js","scripts/threeAttractors.js","scripts/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["random","setSeed","getRandomSeed","console","log","getSeed","TAU","Math","PI","setRandomSeed","s","randomNumberBetween","min","max","value","randomNumberBetweenMid","randomSign","round","oneOf","arry","i","length","createRandomNumberArray","len","arr","push","pointOnCircle","x","y","r","d","sin","cos","normalize","val","normalizeInverse","lerp","a","clamp","invlerp","lerpRange","x1","y1","x2","y2","toSinValue","abs","marginify","margin","u","v","width","height","pointDistance","pointA","pointB","dx","dy","sqrt","pointRotateCoord","point","angle","pointAngleFromVelocity","velocityX","velocityY","atan2","radiansToDegrees","rad","scalePointToCanvas","cwidth","cheight","zoomFactor","particleXOffset","particleYOffset","createCirclePoints","centerX","centerY","diameter","steps","sx","sy","points","theta","radius","createGridPoints","xMargin","yMargin","columns","rows","gridPoints","colStep","rowStep","col","row","createGridPoints2dNoise","cols","noise2D","rotation","position","resizeCanvas","canvas","getImageDataFromImage","context","image","drawImage","getImageData","getColorAverageGrey","g","b","getImageColor","imageData","data","clearCanvas","_","clearRect","fillCanvas","opacity","color","fillStyle","fillRect","background","toRgbString","resetStyles","strokeStyle","lineWidth","setLineDash","lineCap","drawRotatedParticle","ctx","drawFn","particle","pSaveX","pSaveY","save","translate","rotate","heading","args","restore","drawPoint","beginPath","arc","fill","drawTestPoint","stroke","drawLine","drawRake","spacing","drawRect","w","h","drawSquare","drawTriangle","half","moveTo","lineTo","strokeWidth","drawThickLine","drawCircle","drawCircleFilled","drawParticleVectors","vmult","amult","vel","acc","vVector","aVector","drawSpikeCircle","spikes","spikeLength","circleStroke","spikeStroke","connectParticles","pArray","proximity","useAlpha","pA","pB","distance","pColor","setAlpha","toHslString","drawPointTrail","trailLen","xHistory","aFade","alpha","sFade","startX","startY","yHistory","drawMouse","undefined","drawAttractor","mode","mass","sketch","mouse","isDown","fps","currentVariation","canvasSizeFraction","document","getElementById","getContext","window","innerWidth","innerHeight","getCanvas","getMouse","mouseDown","evt","mouseMove","canvasFrame","getBoundingClientRect","mouseUp","mouseOut","windowResize","addEventListener","run","variation","backgroundColor","hasOwnProperty","config","removeEventListener","rendering","targetFpsInterval","lastAnimationFrameTime","startSketch","setup","render","result","draw","requestAnimationFrame","renderAtFps","now","Date","elapsed","Vector","z","prototype","negative","add","sub","mult","div","equals","dot","cross","mag","magSq","m","setMag","c","unit","divide","limit","cm","toAngles","phi","asin","angleTo","acos","toArray","n","slice","clone","init","subtract","multiply","fromAngles","randomDirection","fraction","fromArray","angleBetween","MAX_COORD_HISTORY","limitArrayLen","arrLength","splice","Particle","values","initValues","index","accelerationX","accelerationY","lifetime","updateFn","colorFn","rest","props","_x","_y","oX","oY","_color","unshift","pixel","psCanvasRandom","createRandomParticleValues","coords","updatePosWithVelocity","applyForce","fVect","fV","aV","pV","friction","mu","normal","vfriction","drag","coefficent","area","velUnit","speed","vdrag","attract","affectDist","dir","distanceSq","strength","force","edgeBounce","edgeWrap","gravityPoint","f","forceDirectionX","forceDirectionY","tempX","tempY","avoidPoint","attractPoint","pointPush","forcesDev","numParticles","particlesArray","canvasCenterX","canvasCenterY","centerRadius","gravity","wind","weight","forcesDevGravity","attractor","testGrid","hue","attractorDist","leftattractor","midattractor","rightattractor","l","palettes","pop","retro_sunset","vapor_wave","nicePalette","nicepalettes","Object","keys","palette","timebasedTemplate","counter","grid","loop","duration","totalLoopFrames","drawLoopIterations","time","playhead","frame","elapsedLoops","updateTimeProps","colors","map","forEach","t","noise3D","end","hiImage01","imageZoomFactor","png","Image","src","sourcePng","particleColor","pxColor","variation1","variation2","decay","tweenDamp","intensity","newValues","newCoords","domokun","imageSize","domokunPng","cropColor","pX","pY","variation4","circles","variation5","variation6","rainbowRakeOrbit","threeAttractors","DEBUG","saveCanvasCapture","imageURI","toDataURL","setAttribute","href","e","key","click","setNote","note","innerText","getQueryVariable","variable","query","location","search","substring","vars","split","pair","variationKey","variations","vToRun","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","appendChild","createElement","stackTrace","innerHTML","getParents","modules","parents","k","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A0BAA,IAAI6a,SAAS,GAAG,IAAhB;;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAGE,YAAY,EAAxB;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIC,OAAO,GAAG,CAAC,KAAKD,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,UAAU,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBC,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWC,OAAX,CAAmB,sEAAnB,EAA2F,IAA3F,IAAmG,GAA1G;AACD;;AAEDC,OAAO,CAACT,YAAR,GAAuBD,kBAAvB;AACAU,OAAO,CAACH,UAAR,GAAqBA,UAArB;;AC5BA,IAAII,MAAM,GAAGC,OAAO,CAAC,cAAD,CAApB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,OAAO,GAAGD,IAAI,CAACE,SAAL,EAAd;;AACAD,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,IAAAA,IAAI,CAACI,MAAL;AACD,GAFD;;AAGAH,EAAAA,OAAO,CAACnC,IAAR,GAAekC,IAAI,CAAClC,IAAL,CAAUc,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgC5L,IAAI,CAACD,GAAL,EAA/C;AACAiN,EAAAA,IAAI,CAACK,UAAL,CAAgBC,YAAhB,CAA6BL,OAA7B,EAAsCD,IAAI,CAACO,WAA3C;AACD;;AAED,IAAIC,UAAU,GAAG,IAAjB;;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,EAAAA,UAAU,GAAGE,UAAU,CAAC,YAAY;AAClC,QAAIC,KAAK,GAAG7P,QAAQ,CAAC8P,gBAAT,CAA0B,wBAA1B,CAAZ;;AACA,SAAK,IAAIpb,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmb,KAAK,CAAClb,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,UAAIqa,MAAM,CAACJ,UAAP,CAAkBkB,KAAK,CAACnb,CAAD,CAAL,CAASsY,IAA3B,MAAqC+B,MAAM,CAACV,YAAP,EAAzC,EAAgE;AAC9DY,QAAAA,UAAU,CAACY,KAAK,CAACnb,CAAD,CAAN,CAAV;AACD;AACF;;AAEDgb,IAAAA,UAAU,GAAG,IAAb;AACD,GATsB,EASpB,EAToB,CAAvB;AAUD;;AAEDK,MAAM,CAACjB,OAAP,GAAiBa,SAAjB;;;;;;;;;A3B7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3qCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzdA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACzTA;;;;AAfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIArc,gBAAOC,OAAP,CAAeD,gBAAOE,aAAP,EAAf;;AACAC,OAAO,CAACC,GAAR,sBAA0BJ,gBAAOK,OAAP,EAA1B;AAEO,IAAMC,GAAG,GAAGC,IAAI,CAACC,EAAL,GAAU,CAAtB;;;AAEA,IAAMN,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAMF,gBAAOK,OAAP,EAAN;AAAA,CAAtB;;;;AACA,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACC,CAAD;AAAA,SAAOV,gBAAOS,aAAP,CAAqBC,CAArB,CAAP;AAAA,CAAtB;;;;AAEA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,GAAD,EAAMC,GAAN;AAAA,SAAcb,gBAAOc,KAAP,MAAkBD,GAAG,GAAGD,GAAxB,IAA+BA,GAA7C;AAAA,CAA5B;;;;AACA,IAAMG,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACH,GAAD,EAAMC,GA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","file":"scripts.bcf3243b.js","sourceRoot":"..","sourcesContent":["// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","'use strict';\r\n\r\nvar width = 256;// each RC4 output is 0 <= x < 256\r\nvar chunks = 6;// at least six RC4 outputs for each double\r\nvar digits = 52;// there are 52 significant digits in a double\r\nvar pool = [];// pool: entropy pool starts empty\r\nvar GLOBAL = typeof global === 'undefined' ? window : global;\r\n\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\nvar startdenom = Math.pow(width, chunks),\r\n    significance = Math.pow(2, digits),\r\n    overflow = significance * 2,\r\n    mask = width - 1;\r\n\r\n\r\nvar oldRandom = Math.random;\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\nmodule.exports = function(seed, options) {\r\n  if (options && options.global === true) {\r\n    options.global = false;\r\n    Math.random = module.exports(seed, options);\r\n    options.global = true;\r\n    return Math.random;\r\n  }\r\n  var use_entropy = (options && options.entropy) || false;\r\n  var key = [];\r\n\r\n  // Flatten the seed string or build one from local entropy if needed.\r\n  var shortseed = mixkey(flatten(\r\n    use_entropy ? [seed, tostring(pool)] :\r\n    0 in arguments ? seed : autoseed(), 3), key);\r\n\r\n  // Use the seed to initialize an ARC4 generator.\r\n  var arc4 = new ARC4(key);\r\n\r\n  // Mix the randomness into accumulated entropy.\r\n  mixkey(tostring(arc4.S), pool);\r\n\r\n  // Override Math.random\r\n\r\n  // This function returns a random double in [0, 1) that contains\r\n  // randomness in every bit of the mantissa of the IEEE 754 value.\r\n\r\n  return function() {         // Closure to return a random double:\r\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n        x = 0;                          //   and no 'extra last byte'.\r\n    while (n < significance) {          // Fill up all significant digits by\r\n      n = (n + x) * width;              //   shifting numerator and\r\n      d *= width;                       //   denominator and generating a\r\n      x = arc4.g(1);                    //   new least-significant-byte.\r\n    }\r\n    while (n >= overflow) {             // To avoid rounding up, before adding\r\n      n /= 2;                           //   last byte, shift everything\r\n      d /= 2;                           //   right using integer Math until\r\n      x >>>= 1;                         //   we have exactly the desired bits.\r\n    }\r\n    return (n + x) / d;                 // Form the number within [0, 1).\r\n  };\r\n};\r\n\r\nmodule.exports.resetGlobal = function () {\r\n  Math.random = oldRandom;\r\n};\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n/** @constructor */\r\nfunction ARC4(key) {\r\n  var t, keylen = key.length,\r\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n  // The empty key [] is treated as [0].\r\n  if (!keylen) { key = [keylen++]; }\r\n\r\n  // Set up S using the standard key scheduling algorithm.\r\n  while (i < width) {\r\n    s[i] = i++;\r\n  }\r\n  for (i = 0; i < width; i++) {\r\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n    s[j] = t;\r\n  }\r\n\r\n  // The \"g\" method returns the next (count) outputs as one number.\r\n  (me.g = function(count) {\r\n    // Using instance members instead of closure state nearly doubles speed.\r\n    var t, r = 0,\r\n        i = me.i, j = me.j, s = me.S;\r\n    while (count--) {\r\n      t = s[i = mask & (i + 1)];\r\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n    }\r\n    me.i = i; me.j = j;\r\n    return r;\r\n    // For robust unpredictability discard an initial batch of values.\r\n    // See http://www.rsa.com/rsalabs/node.asp?id=2009\r\n  })(width);\r\n}\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\nfunction flatten(obj, depth) {\r\n  var result = [], typ = (typeof obj)[0], prop;\r\n  if (depth && typ == 'o') {\r\n    for (prop in obj) {\r\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n    }\r\n  }\r\n  return (result.length ? result : typ == 's' ? obj : obj + '\\0');\r\n}\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\nfunction mixkey(seed, key) {\r\n  var stringseed = seed + '', smear, j = 0;\r\n  while (j < stringseed.length) {\r\n    key[mask & j] =\r\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n  }\r\n  return tostring(key);\r\n}\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto if available.\r\n//\r\n/** @param {Uint8Array=} seed */\r\nfunction autoseed(seed) {\r\n  try {\r\n    GLOBAL.crypto.getRandomValues(seed = new Uint8Array(width));\r\n    return tostring(seed);\r\n  } catch (e) {\r\n    return [+new Date, GLOBAL, GLOBAL.navigator && GLOBAL.navigator.plugins,\r\n            GLOBAL.screen, tostring(pool)];\r\n  }\r\n}\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\nfunction tostring(a) {\r\n  return String.fromCharCode.apply(0, a);\r\n}\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to intefere with determinstic PRNG state later,\r\n// seedrandom will not call Math.random on its own again after\r\n// initialization.\r\n//\r\nmixkey(Math.random(), pool);\r\n","/*\n * A fast javascript implementation of simplex noise by Jonas Wagner\n\nBased on a speed-improved simplex noise algorithm for 2D, 3D and 4D in Java.\nWhich is based on example code by Stefan Gustavson (stegu@itn.liu.se).\nWith Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\nBetter rank ordering method by Stefan Gustavson in 2012.\n\n\n Copyright (c) 2018 Jonas Wagner\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n(function() {\n  'use strict';\n\n  var F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\n  var G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n  var F3 = 1.0 / 3.0;\n  var G3 = 1.0 / 6.0;\n  var F4 = (Math.sqrt(5.0) - 1.0) / 4.0;\n  var G4 = (5.0 - Math.sqrt(5.0)) / 20.0;\n\n  function SimplexNoise(randomOrSeed) {\n    var random;\n    if (typeof randomOrSeed == 'function') {\n      random = randomOrSeed;\n    }\n    else if (randomOrSeed) {\n      random = alea(randomOrSeed);\n    } else {\n      random = Math.random;\n    }\n    this.p = buildPermutationTable(random);\n    this.perm = new Uint8Array(512);\n    this.permMod12 = new Uint8Array(512);\n    for (var i = 0; i < 512; i++) {\n      this.perm[i] = this.p[i & 255];\n      this.permMod12[i] = this.perm[i] % 12;\n    }\n\n  }\n  SimplexNoise.prototype = {\n    grad3: new Float32Array([1, 1, 0,\n      -1, 1, 0,\n      1, -1, 0,\n\n      -1, -1, 0,\n      1, 0, 1,\n      -1, 0, 1,\n\n      1, 0, -1,\n      -1, 0, -1,\n      0, 1, 1,\n\n      0, -1, 1,\n      0, 1, -1,\n      0, -1, -1]),\n    grad4: new Float32Array([0, 1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1,\n      0, -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1,\n      1, 0, 1, 1, 1, 0, 1, -1, 1, 0, -1, 1, 1, 0, -1, -1,\n      -1, 0, 1, 1, -1, 0, 1, -1, -1, 0, -1, 1, -1, 0, -1, -1,\n      1, 1, 0, 1, 1, 1, 0, -1, 1, -1, 0, 1, 1, -1, 0, -1,\n      -1, 1, 0, 1, -1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, -1,\n      1, 1, 1, 0, 1, 1, -1, 0, 1, -1, 1, 0, 1, -1, -1, 0,\n      -1, 1, 1, 0, -1, 1, -1, 0, -1, -1, 1, 0, -1, -1, -1, 0]),\n    noise2D: function(xin, yin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0 = 0; // Noise contributions from the three corners\n      var n1 = 0;\n      var n2 = 0;\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin) * F2; // Hairy factor for 2D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var t = (i + j) * G2;\n      var X0 = i - t; // Unskew the cell origin back to (x,y) space\n      var Y0 = j - t;\n      var x0 = xin - X0; // The x,y distances from the cell origin\n      var y0 = yin - Y0;\n      // For the 2D case, the simplex shape is an equilateral triangle.\n      // Determine which simplex we are in.\n      var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n      if (x0 > y0) {\n        i1 = 1;\n        j1 = 0;\n      } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n      else {\n        i1 = 0;\n        j1 = 1;\n      } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n      // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n      // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n      // c = (3-sqrt(3))/6\n      var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n      var y1 = y0 - j1 + G2;\n      var x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n      var y2 = y0 - 1.0 + 2.0 * G2;\n      // Work out the hashed gradient indices of the three simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      // Calculate the contribution from the three corners\n      var t0 = 0.5 - x0 * x0 - y0 * y0;\n      if (t0 >= 0) {\n        var gi0 = permMod12[ii + perm[jj]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n      }\n      var t1 = 0.5 - x1 * x1 - y1 * y1;\n      if (t1 >= 0) {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n      }\n      var t2 = 0.5 - x2 * x2 - y2 * y2;\n      if (t2 >= 0) {\n        var gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to return values in the interval [-1,1].\n      return 70.0 * (n0 + n1 + n2);\n    },\n    // 3D simplex noise\n    noise3D: function(xin, yin, zin) {\n      var permMod12 = this.permMod12;\n      var perm = this.perm;\n      var grad3 = this.grad3;\n      var n0, n1, n2, n3; // Noise contributions from the four corners\n      // Skew the input space to determine which simplex cell we're in\n      var s = (xin + yin + zin) * F3; // Very nice and simple skew factor for 3D\n      var i = Math.floor(xin + s);\n      var j = Math.floor(yin + s);\n      var k = Math.floor(zin + s);\n      var t = (i + j + k) * G3;\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var x0 = xin - X0; // The x,y,z distances from the cell origin\n      var y0 = yin - Y0;\n      var z0 = zin - Z0;\n      // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n      // Determine which simplex we are in.\n      var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n      var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n      if (x0 >= y0) {\n        if (y0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // X Y Z order\n        else if (x0 >= z0) {\n          i1 = 1;\n          j1 = 0;\n          k1 = 0;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // X Z Y order\n        else {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 1;\n          j2 = 0;\n          k2 = 1;\n        } // Z X Y order\n      }\n      else { // x0<y0\n        if (y0 < z0) {\n          i1 = 0;\n          j1 = 0;\n          k1 = 1;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Z Y X order\n        else if (x0 < z0) {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 0;\n          j2 = 1;\n          k2 = 1;\n        } // Y Z X order\n        else {\n          i1 = 0;\n          j1 = 1;\n          k1 = 0;\n          i2 = 1;\n          j2 = 1;\n          k2 = 0;\n        } // Y X Z order\n      }\n      // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n      // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n      // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n      // c = 1/6.\n      var x1 = x0 - i1 + G3; // Offsets for second corner in (x,y,z) coords\n      var y1 = y0 - j1 + G3;\n      var z1 = z0 - k1 + G3;\n      var x2 = x0 - i2 + 2.0 * G3; // Offsets for third corner in (x,y,z) coords\n      var y2 = y0 - j2 + 2.0 * G3;\n      var z2 = z0 - k2 + 2.0 * G3;\n      var x3 = x0 - 1.0 + 3.0 * G3; // Offsets for last corner in (x,y,z) coords\n      var y3 = y0 - 1.0 + 3.0 * G3;\n      var z3 = z0 - 1.0 + 3.0 * G3;\n      // Work out the hashed gradient indices of the four simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      // Calculate the contribution from the four corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = permMod12[ii + perm[jj + perm[kk]]] * 3;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0 + grad3[gi0 + 2] * z0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = permMod12[ii + i1 + perm[jj + j1 + perm[kk + k1]]] * 3;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1 + grad3[gi1 + 2] * z1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = permMod12[ii + i2 + perm[jj + j2 + perm[kk + k2]]] * 3;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2 + grad3[gi2 + 2] * z2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = permMod12[ii + 1 + perm[jj + 1 + perm[kk + 1]]] * 3;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad3[gi3] * x3 + grad3[gi3 + 1] * y3 + grad3[gi3 + 2] * z3);\n      }\n      // Add contributions from each corner to get the final noise value.\n      // The result is scaled to stay just inside [-1,1]\n      return 32.0 * (n0 + n1 + n2 + n3);\n    },\n    // 4D simplex noise, better simplex rank ordering method 2012-03-09\n    noise4D: function(x, y, z, w) {\n      var perm = this.perm;\n      var grad4 = this.grad4;\n\n      var n0, n1, n2, n3, n4; // Noise contributions from the five corners\n      // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n      var s = (x + y + z + w) * F4; // Factor for 4D skewing\n      var i = Math.floor(x + s);\n      var j = Math.floor(y + s);\n      var k = Math.floor(z + s);\n      var l = Math.floor(w + s);\n      var t = (i + j + k + l) * G4; // Factor for 4D unskewing\n      var X0 = i - t; // Unskew the cell origin back to (x,y,z,w) space\n      var Y0 = j - t;\n      var Z0 = k - t;\n      var W0 = l - t;\n      var x0 = x - X0; // The x,y,z,w distances from the cell origin\n      var y0 = y - Y0;\n      var z0 = z - Z0;\n      var w0 = w - W0;\n      // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n      // To find out which of the 24 possible simplices we're in, we need to\n      // determine the magnitude ordering of x0, y0, z0 and w0.\n      // Six pair-wise comparisons are performed between each possible pair\n      // of the four coordinates, and the results are used to rank the numbers.\n      var rankx = 0;\n      var ranky = 0;\n      var rankz = 0;\n      var rankw = 0;\n      if (x0 > y0) rankx++;\n      else ranky++;\n      if (x0 > z0) rankx++;\n      else rankz++;\n      if (x0 > w0) rankx++;\n      else rankw++;\n      if (y0 > z0) ranky++;\n      else rankz++;\n      if (y0 > w0) ranky++;\n      else rankw++;\n      if (z0 > w0) rankz++;\n      else rankw++;\n      var i1, j1, k1, l1; // The integer offsets for the second simplex corner\n      var i2, j2, k2, l2; // The integer offsets for the third simplex corner\n      var i3, j3, k3, l3; // The integer offsets for the fourth simplex corner\n      // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n      // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n      // impossible. Only the 24 indices which have non-zero entries make any sense.\n      // We use a thresholding to set the coordinates in turn from the largest magnitude.\n      // Rank 3 denotes the largest coordinate.\n      i1 = rankx >= 3 ? 1 : 0;\n      j1 = ranky >= 3 ? 1 : 0;\n      k1 = rankz >= 3 ? 1 : 0;\n      l1 = rankw >= 3 ? 1 : 0;\n      // Rank 2 denotes the second largest coordinate.\n      i2 = rankx >= 2 ? 1 : 0;\n      j2 = ranky >= 2 ? 1 : 0;\n      k2 = rankz >= 2 ? 1 : 0;\n      l2 = rankw >= 2 ? 1 : 0;\n      // Rank 1 denotes the second smallest coordinate.\n      i3 = rankx >= 1 ? 1 : 0;\n      j3 = ranky >= 1 ? 1 : 0;\n      k3 = rankz >= 1 ? 1 : 0;\n      l3 = rankw >= 1 ? 1 : 0;\n      // The fifth corner has all coordinate offsets = 1, so no need to compute that.\n      var x1 = x0 - i1 + G4; // Offsets for second corner in (x,y,z,w) coords\n      var y1 = y0 - j1 + G4;\n      var z1 = z0 - k1 + G4;\n      var w1 = w0 - l1 + G4;\n      var x2 = x0 - i2 + 2.0 * G4; // Offsets for third corner in (x,y,z,w) coords\n      var y2 = y0 - j2 + 2.0 * G4;\n      var z2 = z0 - k2 + 2.0 * G4;\n      var w2 = w0 - l2 + 2.0 * G4;\n      var x3 = x0 - i3 + 3.0 * G4; // Offsets for fourth corner in (x,y,z,w) coords\n      var y3 = y0 - j3 + 3.0 * G4;\n      var z3 = z0 - k3 + 3.0 * G4;\n      var w3 = w0 - l3 + 3.0 * G4;\n      var x4 = x0 - 1.0 + 4.0 * G4; // Offsets for last corner in (x,y,z,w) coords\n      var y4 = y0 - 1.0 + 4.0 * G4;\n      var z4 = z0 - 1.0 + 4.0 * G4;\n      var w4 = w0 - 1.0 + 4.0 * G4;\n      // Work out the hashed gradient indices of the five simplex corners\n      var ii = i & 255;\n      var jj = j & 255;\n      var kk = k & 255;\n      var ll = l & 255;\n      // Calculate the contribution from the five corners\n      var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0;\n      if (t0 < 0) n0 = 0.0;\n      else {\n        var gi0 = (perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32) * 4;\n        t0 *= t0;\n        n0 = t0 * t0 * (grad4[gi0] * x0 + grad4[gi0 + 1] * y0 + grad4[gi0 + 2] * z0 + grad4[gi0 + 3] * w0);\n      }\n      var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1;\n      if (t1 < 0) n1 = 0.0;\n      else {\n        var gi1 = (perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32) * 4;\n        t1 *= t1;\n        n1 = t1 * t1 * (grad4[gi1] * x1 + grad4[gi1 + 1] * y1 + grad4[gi1 + 2] * z1 + grad4[gi1 + 3] * w1);\n      }\n      var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2;\n      if (t2 < 0) n2 = 0.0;\n      else {\n        var gi2 = (perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32) * 4;\n        t2 *= t2;\n        n2 = t2 * t2 * (grad4[gi2] * x2 + grad4[gi2 + 1] * y2 + grad4[gi2 + 2] * z2 + grad4[gi2 + 3] * w2);\n      }\n      var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3;\n      if (t3 < 0) n3 = 0.0;\n      else {\n        var gi3 = (perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32) * 4;\n        t3 *= t3;\n        n3 = t3 * t3 * (grad4[gi3] * x3 + grad4[gi3 + 1] * y3 + grad4[gi3 + 2] * z3 + grad4[gi3 + 3] * w3);\n      }\n      var t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4;\n      if (t4 < 0) n4 = 0.0;\n      else {\n        var gi4 = (perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32) * 4;\n        t4 *= t4;\n        n4 = t4 * t4 * (grad4[gi4] * x4 + grad4[gi4 + 1] * y4 + grad4[gi4 + 2] * z4 + grad4[gi4 + 3] * w4);\n      }\n      // Sum up and scale the result to cover the range [-1,1]\n      return 27.0 * (n0 + n1 + n2 + n3 + n4);\n    }\n  };\n\n  function buildPermutationTable(random) {\n    var i;\n    var p = new Uint8Array(256);\n    for (i = 0; i < 256; i++) {\n      p[i] = i;\n    }\n    for (i = 0; i < 255; i++) {\n      var r = i + ~~(random() * (256 - i));\n      var aux = p[i];\n      p[i] = p[r];\n      p[r] = aux;\n    }\n    return p;\n  }\n  SimplexNoise._buildPermutationTable = buildPermutationTable;\n\n  function alea() {\n    // Johannes Baage <baagoe@baagoe.com>, 2010\n    var s0 = 0;\n    var s1 = 0;\n    var s2 = 0;\n    var c = 1;\n\n    var mash = masher();\n    s0 = mash(' ');\n    s1 = mash(' ');\n    s2 = mash(' ');\n\n    for (var i = 0; i < arguments.length; i++) {\n      s0 -= mash(arguments[i]);\n      if (s0 < 0) {\n        s0 += 1;\n      }\n      s1 -= mash(arguments[i]);\n      if (s1 < 0) {\n        s1 += 1;\n      }\n      s2 -= mash(arguments[i]);\n      if (s2 < 0) {\n        s2 += 1;\n      }\n    }\n    mash = null;\n    return function() {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n      s0 = s1;\n      s1 = s2;\n      return s2 = t - (c = t | 0);\n    };\n  }\n  function masher() {\n    var n = 0xefc8249d;\n    return function(data) {\n      data = data.toString();\n      for (var i = 0; i < data.length; i++) {\n        n += data.charCodeAt(i);\n        var h = 0.02519603282416938 * n;\n        n = h >>> 0;\n        h -= n;\n        h *= n;\n        n = h >>> 0;\n        h -= n;\n        n += h * 0x100000000; // 2^32\n      }\n      return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n  }\n\n  // amd\n  if (typeof define !== 'undefined' && define.amd) define(function() {return SimplexNoise;});\n  // common js\n  if (typeof exports !== 'undefined') exports.SimplexNoise = SimplexNoise;\n  // browser\n  else if (typeof window !== 'undefined') window.SimplexNoise = SimplexNoise;\n  // nodejs\n  if (typeof module !== 'undefined') {\n    module.exports = SimplexNoise;\n  }\n\n})();\n","module.exports = function () {\n    for (var i = 0; i < arguments.length; i++) {\n        if (arguments[i] !== undefined) return arguments[i];\n    }\n};\n","var seedRandom = require('seed-random');\nvar SimplexNoise = require('simplex-noise');\nvar defined = require('defined');\n\nfunction createRandom (defaultSeed) {\n  defaultSeed = defined(defaultSeed, null);\n  var defaultRandom = Math.random;\n  var currentSeed;\n  var currentRandom;\n  var noiseGenerator;\n  var _nextGaussian = null;\n  var _hasNextGaussian = false;\n\n  setSeed(defaultSeed);\n\n  return {\n    value: value,\n    createRandom: function (defaultSeed) {\n      return createRandom(defaultSeed);\n    },\n    setSeed: setSeed,\n    getSeed: getSeed,\n    getRandomSeed: getRandomSeed,\n    valueNonZero: valueNonZero,\n    permuteNoise: permuteNoise,\n    noise1D: noise1D,\n    noise2D: noise2D,\n    noise3D: noise3D,\n    noise4D: noise4D,\n    sign: sign,\n    boolean: boolean,\n    chance: chance,\n    range: range,\n    rangeFloor: rangeFloor,\n    pick: pick,\n    shuffle: shuffle,\n    onCircle: onCircle,\n    insideCircle: insideCircle,\n    onSphere: onSphere,\n    insideSphere: insideSphere,\n    quaternion: quaternion,\n    weighted: weighted,\n    weightedSet: weightedSet,\n    weightedSetIndex: weightedSetIndex,\n    gaussian: gaussian\n  };\n\n  function setSeed (seed, opt) {\n    if (typeof seed === 'number' || typeof seed === 'string') {\n      currentSeed = seed;\n      currentRandom = seedRandom(currentSeed, opt);\n    } else {\n      currentSeed = undefined;\n      currentRandom = defaultRandom;\n    }\n    noiseGenerator = createNoise();\n    _nextGaussian = null;\n    _hasNextGaussian = false;\n  }\n\n  function value () {\n    return currentRandom();\n  }\n\n  function valueNonZero () {\n    var u = 0;\n    while (u === 0) u = value();\n    return u;\n  }\n\n  function getSeed () {\n    return currentSeed;\n  }\n\n  function getRandomSeed () {\n    var seed = String(Math.floor(Math.random() * 1000000));\n    return seed;\n  }\n\n  function createNoise () {\n    return new SimplexNoise(currentRandom);\n  }\n\n  function permuteNoise () {\n    noiseGenerator = createNoise();\n  }\n\n  function noise1D (x, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise2D(x * frequency, 0);\n  }\n\n  function noise2D (x, y, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise2D(x * frequency, y * frequency);\n  }\n\n  function noise3D (x, y, z, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    if (!isFinite(z)) throw new TypeError('z component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise3D(\n      x * frequency,\n      y * frequency,\n      z * frequency\n    );\n  }\n\n  function noise4D (x, y, z, w, frequency, amplitude) {\n    if (!isFinite(x)) throw new TypeError('x component for noise() must be finite');\n    if (!isFinite(y)) throw new TypeError('y component for noise() must be finite');\n    if (!isFinite(z)) throw new TypeError('z component for noise() must be finite');\n    if (!isFinite(w)) throw new TypeError('w component for noise() must be finite');\n    frequency = defined(frequency, 1);\n    amplitude = defined(amplitude, 1);\n    return amplitude * noiseGenerator.noise4D(\n      x * frequency,\n      y * frequency,\n      z * frequency,\n      w * frequency\n    );\n  }\n\n  function sign () {\n    return boolean() ? 1 : -1;\n  }\n\n  function boolean () {\n    return value() > 0.5;\n  }\n\n  function chance (n) {\n    n = defined(n, 0.5);\n    if (typeof n !== 'number') throw new TypeError('expected n to be a number');\n    return value() < n;\n  }\n\n  function range (min, max) {\n    if (max === undefined) {\n      max = min;\n      min = 0;\n    }\n\n    if (typeof min !== 'number' || typeof max !== 'number') {\n      throw new TypeError('Expected all arguments to be numbers');\n    }\n\n    return value() * (max - min) + min;\n  }\n\n  function rangeFloor (min, max) {\n    if (max === undefined) {\n      max = min;\n      min = 0;\n    }\n\n    if (typeof min !== 'number' || typeof max !== 'number') {\n      throw new TypeError('Expected all arguments to be numbers');\n    }\n\n    return Math.floor(range(min, max));\n  }\n\n  function pick (array) {\n    if (array.length === 0) return undefined;\n    return array[rangeFloor(0, array.length)];\n  }\n\n  function shuffle (arr) {\n    if (!Array.isArray(arr)) {\n      throw new TypeError('Expected Array, got ' + typeof arr);\n    }\n\n    var rand;\n    var tmp;\n    var len = arr.length;\n    var ret = arr.slice();\n    while (len) {\n      rand = Math.floor(value() * len--);\n      tmp = ret[len];\n      ret[len] = ret[rand];\n      ret[rand] = tmp;\n    }\n    return ret;\n  }\n\n  function onCircle (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var theta = value() * 2.0 * Math.PI;\n    out[0] = radius * Math.cos(theta);\n    out[1] = radius * Math.sin(theta);\n    return out;\n  }\n\n  function insideCircle (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    onCircle(1, out);\n    var r = radius * Math.sqrt(value());\n    out[0] *= r;\n    out[1] *= r;\n    return out;\n  }\n\n  function onSphere (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var u = value() * Math.PI * 2;\n    var v = value() * 2 - 1;\n    var phi = u;\n    var theta = Math.acos(v);\n    out[0] = radius * Math.sin(theta) * Math.cos(phi);\n    out[1] = radius * Math.sin(theta) * Math.sin(phi);\n    out[2] = radius * Math.cos(theta);\n    return out;\n  }\n\n  function insideSphere (radius, out) {\n    radius = defined(radius, 1);\n    out = out || [];\n    var u = value() * Math.PI * 2;\n    var v = value() * 2 - 1;\n    var k = value();\n\n    var phi = u;\n    var theta = Math.acos(v);\n    var r = radius * Math.cbrt(k);\n    out[0] = r * Math.sin(theta) * Math.cos(phi);\n    out[1] = r * Math.sin(theta) * Math.sin(phi);\n    out[2] = r * Math.cos(theta);\n    return out;\n  }\n\n  function quaternion (out) {\n    out = out || [];\n    var u1 = value();\n    var u2 = value();\n    var u3 = value();\n\n    var sq1 = Math.sqrt(1 - u1);\n    var sq2 = Math.sqrt(u1);\n\n    var theta1 = Math.PI * 2 * u2;\n    var theta2 = Math.PI * 2 * u3;\n\n    var x = Math.sin(theta1) * sq1;\n    var y = Math.cos(theta1) * sq1;\n    var z = Math.sin(theta2) * sq2;\n    var w = Math.cos(theta2) * sq2;\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n  }\n\n  function weightedSet (set) {\n    set = set || [];\n    if (set.length === 0) return null;\n    return set[weightedSetIndex(set)].value;\n  }\n\n  function weightedSetIndex (set) {\n    set = set || [];\n    if (set.length === 0) return -1;\n    return weighted(set.map(function (s) {\n      return s.weight;\n    }));\n  }\n\n  function weighted (weights) {\n    weights = weights || [];\n    if (weights.length === 0) return -1;\n    var totalWeight = 0;\n    var i;\n\n    for (i = 0; i < weights.length; i++) {\n      totalWeight += weights[i];\n    }\n\n    if (totalWeight <= 0) throw new Error('Weights must sum to > 0');\n\n    var random = value() * totalWeight;\n    for (i = 0; i < weights.length; i++) {\n      if (random < weights[i]) {\n        return i;\n      }\n      random -= weights[i];\n    }\n    return 0;\n  }\n\n  function gaussian (mean, standardDerivation) {\n    mean = defined(mean, 0);\n    standardDerivation = defined(standardDerivation, 1);\n\n    // https://github.com/openjdk-mirror/jdk7u-jdk/blob/f4d80957e89a19a29bb9f9807d2a28351ed7f7df/src/share/classes/java/util/Random.java#L496\n    if (_hasNextGaussian) {\n      _hasNextGaussian = false;\n      var result = _nextGaussian;\n      _nextGaussian = null;\n      return mean + standardDerivation * result;\n    } else {\n      var v1 = 0;\n      var v2 = 0;\n      var s = 0;\n      do {\n        v1 = value() * 2 - 1; // between -1 and 1\n        v2 = value() * 2 - 1; // between -1 and 1\n        s = v1 * v1 + v2 * v2;\n      } while (s >= 1 || s === 0);\n      var multiplier = Math.sqrt(-2 * Math.log(s) / s);\n      _nextGaussian = (v2 * multiplier);\n      _hasNextGaussian = true;\n      return mean + standardDerivation * (v1 * multiplier);\n    }\n  }\n}\n\nmodule.exports = createRandom();\n","/*\n  // Math aliases\n  var  = Math.PI\n  var random = Math.random\n  var round = Math.round\n  var floor = Math.floor\n  var abs = Math.abs\n  var sin = Math.sin\n  var cos = Math.cos\n  var tan = Math.tan\n\n  Math Snippets\n  https://github.com/terkelg/math\n*/\n\nimport random from 'canvas-sketch-util/random';\n\nrandom.setSeed(random.getRandomSeed());\nconsole.log(`Using seed ${random.getSeed()}`);\n\nexport const TAU = Math.PI * 2;\n\nexport const getRandomSeed = () => random.getSeed();\nexport const setRandomSeed = (s) => random.setRandomSeed(s);\n\nexport const randomNumberBetween = (min, max) => random.value() * (max - min) + min;\nexport const randomNumberBetweenMid = (min, max) => randomNumberBetween(min, max) - max / 2;\n\nexport const randomSign = () => (Math.round(random.value()) == 1 ? 1 : -1);\n\nexport const oneOf = (arry) => {\n    const i = Math.round(randomNumberBetween(0, arry.length - 1));\n    return arry[i];\n};\n\nexport const createRandomNumberArray = (len, min, max) => {\n    const arr = [];\n    for (let i = 0; i < len; i++) {\n        arr.push(randomNumberBetween(min, max));\n    }\n    return arr;\n};\n\nexport const pointOnCircle = (x, y, r, d) => ({ x: r * Math.sin(d) + x, y: r * Math.cos(d) + y });\n\n// returns value between 0-1, 250,500,0 => .5\nexport const normalize = (min, max, val) => (val - min) / (max - min);\nexport const normalizeInverse = (min, max, val) => 1 - normalize(min, max, val);\n\n// https://twitter.com/mattdesl/status/1031305279227478016\n// https://www.trysmudford.com/blog/linear-interpolation-functions/\n// lerp(20, 80, 0.5) // 40\nexport const lerp = (x, y, a) => x * (1 - a) + y * a;\nexport const clamp = (min = 0, max = 1, a) => Math.min(max, Math.max(min, a));\n// invlerp(50, 100, 75)  // 0.5\nexport const invlerp = (x, y, a) => clamp(0, 1, (a - x) / (y - x));\n// a is point in 1 and converts to point in 2\n// range(10, 100, 2000, 20000, 50) // 10000\nexport const lerpRange = (x1, y1, x2, y2, a) => lerp(x2, y2, invlerp(x1, y1, a));\n\n// Accepts a value 0-1 and returns a value 0-1 in a sin wave\nexport const toSinValue = (value) => Math.abs(Math.sin(value * TAU));\n\nexport const marginify = ({ margin, u, v, width, height }) => ({\n    x: lerp(margin, width - margin, u),\n    y: lerp(margin, height - margin, v),\n});\n\nexport const pointDistance = (pointA, pointB) => {\n    const dx = pointA.x - pointB.x;\n    const dy = pointA.y - pointB.y;\n    return Math.sqrt(dx * dx + dy * dy);\n};\n\n// https://stackoverflow.com/questions/13043945/how-do-i-calculate-the-position-of-a-point-in-html5-canvas-after-rotation\nexport const pointRotateCoord = (point, angle) => ({\n    x: point.x * cos(angle) - point.y * sin(angle),\n    y: point.y * cos(angle) + point.x * sin(angle),\n});\n\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-angular-movement/a/pointing-towards-movement\nexport const pointAngleFromVelocity = ({ velocityX, velocityY }) => Math.atan2(velocityY, velocityX);\n\nexport const radiansToDegrees = (rad) => (rad * 180) / Math.PI;\n\n// Scale up point grid and center in the canvas\nexport const scalePointToCanvas = (cwidth, cheight, width, height, zoomFactor, x, y) => {\n    const particleXOffset = cwidth / 2 - (width * zoomFactor) / 2;\n    const particleYOffset = cheight / 2 - (height * zoomFactor) / 2;\n    return {\n        x: x * zoomFactor + particleXOffset,\n        y: y * zoomFactor + particleYOffset,\n    };\n};\n\n// [[x,y], ...]\nexport const createCirclePoints = (centerX, centerY, diameter, steps, sx = 1, sy = 1) => {\n    const points = [];\n    for (let theta = 0; theta < 360; theta += steps) {\n        const radius = theta * (Math.PI / 180);\n        const x = Math.cos(radius) * diameter + sx + centerX;\n        const y = Math.sin(radius) * diameter + sy + centerY;\n        points.push([x, y]);\n    }\n    return points;\n};\n\nexport const createGridPoints = (width, height, xMargin, yMargin, columns, rows) => {\n    const gridPoints = [];\n\n    const colStep = (width - xMargin * 2) / (columns - 1);\n    const rowStep = (height - yMargin * 2) / (rows - 1);\n\n    for (let col = 0; col < columns; col++) {\n        const x = xMargin + col * colStep;\n        for (let row = 0; row < rows; row++) {\n            const y = yMargin + row * rowStep;\n            gridPoints.push([x, y]);\n        }\n    }\n\n    return gridPoints;\n};\n\nexport const createGridPoints2dNoise = (cols, rows) => {\n    rows = rows || cols;\n    const points = [];\n    for (let x = 0; x < cols; x++) {\n        for (let y = 0; y < rows; y++) {\n            const u = cols <= 1 ? 0.5 : x / (cols - 1);\n            const v = cols <= 1 ? 0.5 : y / (rows - 1);\n            // const radius = Math.abs(random.gaussian() * 0.02);\n            const radius = Math.abs(random.noise2D(u, v)) * 0.1;\n            const rotation = Math.abs(random.noise2D(u, v)) * 0.5;\n            points.push({\n                radius,\n                rotation,\n                position: [u, v],\n            });\n        }\n    }\n    return points;\n};\n","import tinycolor from 'tinycolor2';\n\nimport { radiansToDegrees, pointAngleFromVelocity, pointDistance, normalizeInverse, pointOnCircle } from './math';\n\nexport const resizeCanvas = (canvas, width, height) => {\n    canvas.width = width;\n    canvas.height = height;\n};\n\nexport const getImageDataFromImage = (context) => (image) => {\n    context.drawImage(image, 0, 0);\n    return context.getImageData(0, 0, image.width, image.width);\n};\n\n/*\nGray = 0.21R + 0.72G + 0.07B // Luminosity\nGray = (R + G + B)  3 // Average Brightness\nGray = 0.299R + 0.587G + 0.114B // rec601 standard\nGray = 0.2126R + 0.7152G + 0.0722B // ITU-R BT.709 standard\nGray = 0.2627R + 0.6780G + 0.0593B // ITU-R BT.2100 standard\n */\n// https://sighack.com/post/averaging-rgb-colors-the-right-way\nexport const getColorAverageGrey = ({ r, g, b }) => Math.sqrt((r * r + g * g + b * b) / 3);\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Pixel_manipulation_with_canvas\nexport const getImageColor = (imageData, x, y) => ({\n    r: imageData.data[y * 4 * imageData.width + x * 4],\n    g: imageData.data[y * 4 * imageData.width + x * 4 + 1],\n    b: imageData.data[y * 4 * imageData.width + x * 4 + 2],\n    a: imageData.data[y * 4 * imageData.width + x * 4 + 3],\n});\n\nexport const clearCanvas = (canvas, context) => (_) => context.clearRect(0, 0, canvas.width, canvas.height);\n\nexport const fillCanvas = (canvas, context) => (opacity = 1, color = '0,0,0') => {\n    context.fillStyle = `rgba(${color},${opacity})`;\n    context.fillRect(0, 0, canvas.width, canvas.height);\n};\n\nexport const background = (canvas, context) => (color = 'black') => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fillRect(0, 0, canvas.width, canvas.height);\n};\n\n// context.save() and context.restore() may be slow, just reset what i'm using\nexport const resetStyles = (context) => {\n    context.strokeStyle = '#000';\n    context.fillStyle = '#fff';\n    context.lineWidth = 1;\n    context.setLineDash([]);\n    context.lineCap = 'butt';\n};\n\nexport const drawRotatedParticle = (ctx, drawFn, particle, ...args) => {\n    const pSaveX = particle.x;\n    const pSaveY = particle.y;\n    particle.x = 0;\n    particle.y = 0;\n    ctx.save();\n    ctx.translate(pSaveX, pSaveY);\n    ctx.rotate(particle.heading);\n    drawFn(ctx)(particle, args);\n    ctx.restore();\n    particle.x = pSaveX;\n    particle.y = pSaveY;\n};\n\nexport const drawPoint = (context) => ({ x, y, radius, color }) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n};\n\nexport const drawTestPoint = (context) => ({ x, y, radius, color }) => {\n    context.strokeStyle = color.toRgbString();\n    context.lineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(255,255,255,.1)';\n    context.fill();\n    context.stroke();\n    drawLine(context)(1, x, y, x + radius, y);\n};\n\n// TODO center it\nexport const drawRake = (context) => ({ x, y, radius, color }, spacing) => {\n    const points = 5;\n    spacing |= radius * 3;\n    for (let i = 0; i < points; i++) {\n        drawPoint(context)({ x: x + spacing * i, y, radius, color });\n    }\n};\n\nexport const drawRect = (context) => (x, y, w, h, color = 'white') => {\n    context.fillStyle = tinycolor(color).toRgbString();\n    context.fillRect(x, y, w, h);\n};\n\nexport const drawSquare = (context) => ({ x, y, radius, color }) => {\n    drawRect(context)(x, y, radius, radius, color);\n};\n\nexport const drawTriangle = (context) => ({ x, y, radius, color }) => {\n    const half = radius / 2;\n    context.beginPath();\n    context.moveTo(x - half, y - half);\n    context.lineTo(x + half, y);\n    context.lineTo(x - half, y + half);\n    context.fillStyle = color.toRgbString();\n    context.fill();\n\n    // context.beginPath();\n    // context.arc(x+half, y, 3, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgb(255,0,0)';\n    // context.fill();\n};\n\nexport const drawLine = (context) => (strokeWidth, x1, y1, x2, y2) => {\n    context.lineWidth = strokeWidth;\n    context.beginPath();\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n};\n\nexport const drawThickLine = (context) => (strokeWidth, x1, y1, x2, y2) => {\n    context.lineWidth = strokeWidth;\n    context.lineCap = 'round';\n    context.beginPath();\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.stroke();\n};\n\nexport const drawCircle = (context) => (strokeWidth, x, y, radius) => {\n    // context.strokeStyle = 'rgba(255,255,255,.25)';\n    context.lineWidth = strokeWidth;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgba(255,255,255,.1)';\n    // context.fill();\n    context.stroke();\n};\n\nexport const drawCircleFilled = (context) => (color, x, y, radius) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = color;\n    context.fill();\n};\n\nexport const drawParticleVectors = (context) => (particle) => {\n    const vmult = 5;\n    const amult = 100;\n    const vel = 'green';\n    const acc = 'yellow';\n    const { vVector } = particle;\n    const { aVector } = particle;\n\n    context.strokeStyle = tinycolor(vel).toRgbString();\n    drawLine(context)(1, particle.x, particle.y, particle.x + vVector.x * vmult, particle.y + vVector.y * vmult);\n\n    context.strokeStyle = tinycolor(acc).toRgbString();\n    drawLine(context)(1, particle.x, particle.y, particle.x + aVector.x * amult, particle.y + aVector.y * amult);\n};\n\n// Spikes is an array of angles\nexport const drawSpikeCircle = (context) => ({ x, y, radius, color }, spikes, spikeLength = 5) => {\n    const circleStroke = 1;\n    const spikeStroke = 2;\n    context.strokeStyle = color.toRgbString();\n    context.lineWidth = circleStroke;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    // context.fillStyle = 'rgba(255,255,255,.1)';\n    // context.fill();\n    context.stroke();\n    for (let s = 0; s < spikes.length; s++) {\n        const pointA = pointOnCircle(x, y, radius, spikes[s]);\n        const pointB = pointOnCircle(x, y, radius + spikeLength, spikes[s]);\n        context.strokeStyle = color.toRgbString();\n        drawLine(context)(spikeStroke, pointA.x, pointA.y, pointB.x, pointB.y);\n    }\n};\n\nexport const connectParticles = (context) => (pArray, proximity, useAlpha = true) => {\n    const len = pArray.length;\n    for (let a = 0; a < len; a++) {\n        // all consecutive particles\n        for (let b = a; b < len; b++) {\n            const pA = pArray[a];\n            const pB = pArray[b];\n            const distance = pointDistance(pA, pB);\n            if (distance < proximity) {\n                const pColor = pA.color;\n                if (useAlpha) {\n                    pColor.setAlpha(normalizeInverse(0, proximity, distance));\n                }\n                context.strokeStyle = pColor.toHslString();\n                drawLine(context)(0.5, pA.x, pA.y, pB.x, pB.y);\n            }\n        }\n    }\n    resetStyles(context);\n};\n\nexport const drawPointTrail = (context) => (particle) => {\n    const trailLen = particle.xHistory.length;\n    context.lineWidth = particle.radius;\n    const pColor = particle.color;\n    const aFade = (100 / trailLen) * 0.01;\n    let alpha = 1;\n    const sFade = (particle.radius * 2) / trailLen;\n    let stroke = particle.radius * 2;\n    for (let i = 0; i < trailLen; i++) {\n        const startX = i === 0 ? particle.x : particle.xHistory[i - 1];\n        const startY = i === 0 ? particle.y : particle.yHistory[i - 1];\n        drawLine(context)(stroke, startX, startY, particle.xHistory[i], particle.yHistory[i]);\n        pColor.setAlpha(alpha);\n        context.strokeStyle = pColor.toRgbString();\n        alpha -= aFade;\n        stroke -= sFade;\n    }\n    //\n};\n\nexport const drawMouse = (context) => ({ x, y, radius }) => {\n    if (x === undefined || y === undefined) return;\n    context.strokeStyle = 'rgba(255,255,255,.25)';\n    context.lineWidth = 1;\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(255,255,255,.1)';\n    context.fill();\n    context.stroke();\n};\n\nexport const drawAttractor = (context) => ({ x, y, mass, g }, mode, radius) => {\n    context.beginPath();\n    context.arc(x, y, radius, 0, Math.PI * 2, false);\n    context.fillStyle = 'rgba(0,0,0,.1)';\n    context.fill();\n\n    context.beginPath();\n    context.arc(x, y, Math.sqrt(mass) * g, 0, Math.PI * 2, false);\n    context.fillStyle = mode === 1 ? 'rgba(0,255,0,.25)' : 'rgba(255,0,0,.25)';\n    context.fill();\n};\n","/*\nConvenience canvas sketch runner. Based on p5js\n\n\nconst variation = () => {\n    const config = {};\n\n    const setup = (canvas, context) => {\n        // create initial state\n    };\n\n    // will run every frame\n    const draw = (canvas, context, mouse) => {\n        // draw on every frame\n        return 1; // -1 to exit animation loop\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n*/\n\nimport { fillCanvas, resizeCanvas } from './canvas';\n\nexport const sketch = () => {\n    const mouse = {\n        x: undefined,\n        y: undefined,\n        isDown: false,\n        radius: 100,\n    };\n\n    let fps = 0;\n\n    let currentVariation;\n\n    const canvasSizeFraction = 0.85;\n    const canvas = document.getElementById('canvas');\n    const context = canvas.getContext('2d');\n    canvas.width = window.innerWidth * canvasSizeFraction;\n    canvas.height = window.innerHeight * canvasSizeFraction;\n\n    const getCanvas = (_) => canvas;\n    const getContext = (_) => context;\n    const getMouse = (_) => mouse;\n\n    const mouseDown = (evt) => {\n        mouse.isDown = true;\n    };\n\n    const mouseMove = (evt) => {\n        const canvasFrame = canvas.getBoundingClientRect();\n        mouse.x = evt.x - canvasFrame.x;\n        mouse.y = evt.y - canvasFrame.y;\n    };\n\n    const mouseUp = (evt) => {\n        mouse.isDown = false;\n    };\n\n    const mouseOut = (evt) => {\n        mouse.x = undefined;\n        mouse.y = undefined;\n        mouse.isDown = false;\n    };\n\n    const windowResize = (evt) =>\n        resizeCanvas(canvas, window.innerWidth * canvasSizeFraction, window.innerHeight * canvasSizeFraction);\n\n    window.addEventListener('mousedown', mouseDown);\n    window.addEventListener('touchstart', mouseDown);\n\n    window.addEventListener('mousemove', mouseMove);\n    window.addEventListener('touchmove', mouseMove);\n\n    window.addEventListener('mouseup', mouseUp);\n    window.addEventListener('touchend', mouseUp);\n\n    window.addEventListener('mouseout', mouseOut);\n    window.addEventListener('touchcancel', mouseOut);\n\n    window.addEventListener('resize', windowResize);\n\n    const run = (variation) => {\n        currentVariation = variation;\n\n        let backgroundColor = '0,0,0';\n\n        if (variation.hasOwnProperty('config')) {\n            const { config } = variation;\n            console.log('Sketch config:', variation.config);\n            if (config.width && config.height) {\n                window.removeEventListener('resize', windowResize);\n                resizeCanvas(canvas, config.width, config.height);\n            }\n            if (config.background) {\n                backgroundColor = config.background;\n            }\n            if (config.fps) {\n                fps = config.fps;\n            }\n        }\n\n        let rendering = true;\n        const targetFpsInterval = 1000 / fps;\n        let lastAnimationFrameTime;\n\n        const startSketch = () => {\n            window.removeEventListener('load', startSketch);\n            variation.setup(canvas, context);\n\n            // fillCanvas(canvas, context)(1,backgroundColor);\n\n            const render = () => {\n                const result = variation.draw(canvas, context, mouse);\n                if (result !== -1) {\n                    requestAnimationFrame(render);\n                }\n            };\n\n            // https://stackoverflow.com/questions/19764018/controlling-fps-with-requestanimationframe\n            const renderAtFps = () => {\n                if (rendering) {\n                    requestAnimationFrame(renderAtFps);\n                }\n\n                const now = Date.now();\n                const elapsed = now - lastAnimationFrameTime;\n\n                if (elapsed > targetFpsInterval) {\n                    lastAnimationFrameTime = now - (elapsed % targetFpsInterval);\n                    const result = variation.draw(canvas, context, mouse);\n                    if (result === -1) {\n                        rendering = false;\n                    }\n                }\n            };\n\n            if (!fps) {\n                requestAnimationFrame(render);\n            } else {\n                lastAnimationFrameTime = Date.now();\n                requestAnimationFrame(renderAtFps);\n            }\n        };\n\n        window.addEventListener('load', startSketch);\n    };\n\n    return {\n        canvas: getCanvas,\n        context: getContext,\n        mouse: getMouse,\n        run,\n    };\n};\n","// Vector class originally from https://evanw.github.io/lightgl.js/docs/vector.html\n// Edited and expanded to match p5's vectors\n// ref - p5 vector https://p5js.org/reference/#/p5.Vector\n// https://www.khanacademy.org/computing/computer-programming/programming-natural-simulations/programming-vectors/a/more-vector-math\n\nexport function Vector(x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n}\nVector.prototype = {\n    negative() {\n        return new Vector(-this.x, -this.y, -this.z);\n    },\n    add(v) {\n        if (v instanceof Vector) return new Vector(this.x + v.x, this.y + v.y, this.z + v.z);\n        return new Vector(this.x + v, this.y + v, this.z + v);\n    },\n    sub(v) {\n        if (v instanceof Vector) return new Vector(this.x - v.x, this.y - v.y, this.z - v.z);\n        return new Vector(this.x - v, this.y - v, this.z - v);\n    },\n    mult(v) {\n        if (v instanceof Vector) return new Vector(this.x * v.x, this.y * v.y, this.z * v.z);\n        return new Vector(this.x * v, this.y * v, this.z * v);\n    },\n    div(v) {\n        if (v instanceof Vector) return new Vector(this.x / v.x, this.y / v.y, this.z / v.z);\n        return new Vector(this.x / v, this.y / v, this.z / v);\n    },\n    equals(v) {\n        return this.x === v.x && this.y === v.y && this.z === v.z;\n    },\n    dot(v) {\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n    },\n    cross(v) {\n        return new Vector(this.y * v.z - this.z * v.y, this.z * v.x - this.x * v.z, this.x * v.y - this.y * v.x);\n    },\n    length() {\n        return Math.sqrt(this.dot(this));\n    },\n    mag() {\n        return this.length();\n    },\n    magSq() {\n        const m = this.length();\n        return m * m;\n    },\n    setMag(m) {\n        const c = this.mag();\n        const r = m / c;\n        return this.mult(r);\n    },\n    normalize() {\n        let mag = this.mag();\n        mag = mag || 1;\n        return this.div(mag);\n    },\n    unit() {\n        return this.divide(this.length());\n    },\n    min() {\n        return Math.min(Math.min(this.x, this.y), this.z);\n    },\n    max() {\n        return Math.max(Math.max(this.x, this.y), this.z);\n    },\n    limit(v) {\n        const cm = this.mag();\n        if (cm > v) {\n            return this.setMag(v);\n        }\n        return this;\n    },\n    // clamp(min, max) {\n    //     // export const clamp = (min = 0, max = 1, a) => Math.min(max, Math.max(min, a));\n    // },\n    toAngles() {\n        return {\n            theta: Math.atan2(this.z, this.x),\n            phi: Math.asin(this.y / this.length()),\n        };\n    },\n    angleTo(a) {\n        return Math.acos(this.dot(a) / (this.length() * a.length()));\n    },\n    toArray(n) {\n        return [this.x, this.y, this.z].slice(0, n || 3);\n    },\n    clone() {\n        return new Vector(this.x, this.y, this.z);\n    },\n    init(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    },\n};\nVector.negative = function (a, b) {\n    b.x = -a.x;\n    b.y = -a.y;\n    b.z = -a.z;\n    return b;\n};\nVector.add = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x + b.x;\n        c.y = a.y + b.y;\n        c.z = a.z + b.z;\n    } else {\n        c.x = a.x + b;\n        c.y = a.y + b;\n        c.z = a.z + b;\n    }\n    return c;\n};\nVector.subtract = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x - b.x;\n        c.y = a.y - b.y;\n        c.z = a.z - b.z;\n    } else {\n        c.x = a.x - b;\n        c.y = a.y - b;\n        c.z = a.z - b;\n    }\n    return c;\n};\nVector.multiply = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x * b.x;\n        c.y = a.y * b.y;\n        c.z = a.z * b.z;\n    } else {\n        c.x = a.x * b;\n        c.y = a.y * b;\n        c.z = a.z * b;\n    }\n    return c;\n};\nVector.divide = function (a, b, c) {\n    if (b instanceof Vector) {\n        c.x = a.x / b.x;\n        c.y = a.y / b.y;\n        c.z = a.z / b.z;\n    } else {\n        c.x = a.x / b;\n        c.y = a.y / b;\n        c.z = a.z / b;\n    }\n    return c;\n};\nVector.cross = function (a, b, c) {\n    c.x = a.y * b.z - a.z * b.y;\n    c.y = a.z * b.x - a.x * b.z;\n    c.z = a.x * b.y - a.y * b.x;\n    return c;\n};\nVector.unit = function (a, b) {\n    const length = a.length();\n    b.x = a.x / length;\n    b.y = a.y / length;\n    b.z = a.z / length;\n    return b;\n};\nVector.fromAngles = function (theta, phi) {\n    return new Vector(Math.cos(theta) * Math.cos(phi), Math.sin(phi), Math.sin(theta) * Math.cos(phi));\n};\nVector.randomDirection = function () {\n    return Vector.fromAngles(Math.random() * Math.PI * 2, Math.asin(Math.random() * 2 - 1));\n};\nVector.min = function (a, b) {\n    return new Vector(Math.min(a.x, b.x), Math.min(a.y, b.y), Math.min(a.z, b.z));\n};\nVector.max = function (a, b) {\n    return new Vector(Math.max(a.x, b.x), Math.max(a.y, b.y), Math.max(a.z, b.z));\n};\nVector.lerp = function (a, b, fraction) {\n    return b.subtract(a).multiply(fraction).add(a);\n};\nVector.fromArray = function (a) {\n    return new Vector(a[0], a[1], a[2]);\n};\nVector.angleBetween = function (a, b) {\n    return a.angleTo(b);\n};\n","import tinycolor from 'tinycolor2';\nimport { pointDistance, normalizeInverse, randomNumberBetween, lerp, pointAngleFromVelocity, clamp } from './math';\nimport { Vector } from './vector';\n\nconst MAX_COORD_HISTORY = 30;\n\nconst limitArrayLen = (arr) => {\n    const arrLength = arr.length;\n    if (arrLength > MAX_COORD_HISTORY) {\n        arr.splice(0, arrLength - MAX_COORD_HISTORY);\n    }\n    return arr;\n};\n\nexport class Particle {\n    constructor(values) {\n        this.initValues(values);\n    }\n\n    initValues({\n        index,\n        x,\n        y,\n        velocityX,\n        velocityY,\n        accelerationX,\n        accelerationY,\n        radius,\n        mass,\n        color,\n        alpha,\n        rotation,\n        lifetime,\n        drawFn,\n        updateFn,\n        colorFn,\n        ...rest\n    }) {\n        this.props = rest;\n        this.index = index || 0;\n        this._x = x || 0;\n        this._y = y || 0;\n        this.xHistory = [x];\n        this.yHistory = [y];\n        this.oX = x || this.oX;\n        this.oY = y || this.oY;\n        this.velocityX = velocityX || 0;\n        this.velocityY = velocityY || 0;\n        this.accelerationX = accelerationX || 0;\n        this.accelerationY = accelerationY || 0;\n        // this.oVelocityX = velocityX || 0;\n        // this.oVelocityY = velocityY || 0;\n        this.mass = mass || 1;\n        this.radius = radius || 1;\n        this._color = color ? tinycolor(color) : tinycolor({ r: 255, g: 255, b: 255 });\n        this.rotation = rotation || 0;\n        this.lifetime = lifetime || 1;\n        this.drawFn = drawFn;\n        this.updateFn = updateFn;\n        // always return a string\n        this.colorFn = colorFn;\n    }\n\n    get color() {\n        if (this.colorFn) {\n            return tinycolor(this.colorFn(this));\n        }\n        return this._color;\n    }\n\n    set color(value) {\n        this._color = tinycolor(value);\n    }\n\n    get colorStr() {\n        if (this.colorFn) {\n            return this.colorFn(this);\n        }\n        return this._color.toRgbString();\n    }\n\n    get x() {\n        return this._x;\n    }\n\n    set x(value) {\n        this._x = value;\n        this.xHistory.unshift(value);\n        if (this.xHistory.length > MAX_COORD_HISTORY) {\n            this.xHistory = this.xHistory.slice(0, MAX_COORD_HISTORY);\n        }\n    }\n\n    get y() {\n        return this._y;\n    }\n\n    set y(value) {\n        this._y = value;\n        this.yHistory.unshift(value);\n        if (this.yHistory.length > MAX_COORD_HISTORY) {\n            this.yHistory = this.yHistory.slice(0, MAX_COORD_HISTORY);\n        }\n    }\n\n    get vVector() {\n        return new Vector(this.velocityX, this.velocityY, 0);\n    }\n\n    set vVector({ x, y }) {\n        this.velocityX = x;\n        this.velocityY = y;\n    }\n\n    get aVector() {\n        return new Vector(this.accelerationX, this.accelerationY, 0);\n    }\n\n    set aVector({ x, y }) {\n        this.accelerationX = x;\n        this.accelerationY = y;\n    }\n\n    // Rotation angle to point in direction of velocity\n    get heading() {\n        return pointAngleFromVelocity(this);\n    }\n\n    draw() {\n        this.drawFn(this);\n    }\n\n    update() {\n        this.updateFn(this);\n        this.draw(this);\n    }\n}\n\nexport const pixel = (x, y, color, radius) => new Particle({ x, y, color, radius });\n\nexport const psCanvasRandom = (canvas) => ({\n    x: randomNumberBetween(0, canvas.width),\n    y: randomNumberBetween(0, canvas.height),\n});\n\nexport const createRandomParticleValues = (canvas) => {\n    const vel = 2;\n    const radius = randomNumberBetween(5, 10);\n    const coords = psCanvasRandom(canvas);\n    return {\n        radius,\n        x: coords.x,\n        y: coords.y,\n        mass: randomNumberBetween(1, 10),\n        velocityX: randomNumberBetween(-vel, vel),\n        velocityY: randomNumberBetween(-vel, vel),\n        accelerationX: 0,\n        accelerationY: 0,\n        rotation: randomNumberBetween(-180, 180),\n        // color: { r: randomNumberBetween(100, 255), g: randomNumberBetween(100, 255), b: randomNumberBetween(100, 255) },\n        color: {\n            r: lerp(0, 255, coords.x / canvas.width),\n            g: randomNumberBetween(100, 255),\n            b: lerp(0, 255, coords.y / canvas.height),\n        },\n    };\n};\n\nexport const updatePosWithVelocity = (particle) => {\n    particle.x += particle.vVector.x;\n    particle.y += particle.vVector.y;\n};\n\n// https://www.youtube.com/watch?v=L7CECWLdTmo\nexport const applyForce = (fVect, particle) => {\n    const fV = fVect.div(particle.mass);\n    const aV = particle.aVector.add(fV);\n    const pV = particle.vVector.add(aV);\n    particle.aVector = aV;\n    particle.vVector = pV;\n};\n\n// https://www.youtube.com/watch?v=WBdhAuWS6X8\nexport const friction = (particle, mu = 0.1) => {\n    const normal = particle.mass;\n    const vfriction = particle.vVector\n        .normalize()\n        .mult(-1)\n        .setMag(mu * normal);\n    applyForce(vfriction, particle);\n};\n\n// https://www.youtube.com/watch?v=DxFDgOYEoy8\nexport const drag = (particle, coefficent = 0.1) => {\n    const area = 1; // particle.radius;\n    const velUnit = particle.vVector.normalize().mult(-1);\n    const speed = particle.vVector.magSq() * area * coefficent;\n    const vdrag = velUnit.setMag(speed);\n    applyForce(vdrag, particle);\n};\n\n// https://www.youtube.com/watch?v=EpgB3cNhKPM\n// mode 1 is attract, -1 is repel\n// const attractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 50, g: 1 };\nexport const attract = ({ x, y, mass, g }, particle, mode = 1, affectDist = 1000) => {\n    if (pointDistance({ x, y }, { x: particle.x, y: particle.y }) < affectDist) {\n        g = g || 1;\n        const dir = new Vector(x, y).sub(new Vector(particle.x, particle.y));\n        const distanceSq = clamp(50, 5000, dir.magSq());\n        const strength = (mode * (g * (mass * particle.mass))) / distanceSq;\n        const force = dir.setMag(strength);\n        applyForce(force, particle);\n    }\n};\n\nexport const edgeBounce = ({ width, height }, particle) => {\n    // if (particle.x + particle.radius > width || particle.x - particle.radius < 0) {\n    //     particle.velocityX *= -1;\n    // }\n    // if (particle.y + particle.radius > height || particle.y - particle.radius < 0) {\n    //     particle.velocityY *= -1;\n    // }\n    if (particle.x + particle.radius > width) {\n        particle.velocityX *= -1;\n        particle.x = width - particle.radius;\n    }\n    if (particle.x - particle.radius < 0) {\n        particle.velocityX *= -1;\n        particle.x = particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.velocityY *= -1;\n        particle.y = height - particle.radius;\n    }\n    if (particle.y - particle.radius < 0) {\n        particle.velocityY *= -1;\n        particle.y = particle.radius;\n    }\n};\n\nexport const edgeWrap = ({ width, height }, particle) => {\n    if (particle.x + particle.radius > width) {\n        particle.x = 0 + particle.radius;\n    } else if (particle.x - particle.radius < 0) {\n        particle.x = width - particle.radius;\n    }\n    if (particle.y + particle.radius > height) {\n        particle.y = 0 + particle.radius;\n    } else if (particle.y - particle.radius < 0) {\n        particle.y = height - particle.radius;\n    }\n};\n\nexport const gravityPoint = (mult = 0.2, f = 1) => (x, y, radius, particle) => {\n    const distance = pointDistance({ x, y }, particle);\n    if (distance < radius) {\n        const dx = x - particle.x;\n        const dy = y - particle.y;\n        const forceDirectionX = dx / distance;\n        const forceDirectionY = dy / distance;\n        const force = normalizeInverse(0, radius, distance) * f * mult;\n        const tempX = forceDirectionX * force * particle.radius * 2;\n        const tempY = forceDirectionY * force * particle.radius * 2;\n        particle.x += tempX;\n        particle.y += tempY;\n    }\n};\n\n// for moving points, push away/around from point\nexport const avoidPoint = (point, particle, f = 1) => {\n    gravityPoint(1, (f *= -1))(point.x, point.y, point.radius, particle);\n};\n\n// for moving points, pull towards point\nexport const attractPoint = (point, particle, f = 1) => {\n    gravityPoint(1, f)(point.x, point.y, point.radius, particle);\n};\n\n// for moving static, push away/outward from point\nexport const pointPush = (point, particle, f = 1) => {\n    const dx = point.x - particle.x;\n    const dy = point.y - particle.y;\n    const distance = pointDistance(point, particle);\n    const forceDirectionX = dx / distance;\n    const forceDirectionY = dy / distance;\n    const force = normalizeInverse(0, point.radius, distance) * f;\n    particle.velocityX = forceDirectionX * force * particle.mass * 0.8;\n    particle.velocityY = forceDirectionY * force * particle.mass * 0.8;\n\n    if (distance < point.radius) {\n        particle.x -= particle.velocityX;\n        particle.y -= particle.velocityY;\n    } else {\n        // TODO if < 1 then snap to 0\n        if (particle.x !== particle.oX) {\n            particle.x -= (particle.x - particle.oX) * 0.1;\n        }\n        if (particle.y !== particle.oY) {\n            particle.y -= (particle.y - particle.oY) * 0.1;\n        }\n    }\n};\n","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n    edgeWrap,\n    applyForce,\n    friction,\n    drag,\n} from './lib/particle';\nimport {\n    clearCanvas,\n    connectParticles,\n    drawMouse,\n    drawPoint,\n    drawPointTrail,\n    drawRotatedParticle,\n    drawTestPoint,\n    drawTriangle,\n    background,\n    drawRake,\n    drawParticleVectors,\n    drawRect,\n} from './lib/canvas';\nimport { clamp } from './lib/math';\nimport { Vector } from './lib/vector';\n\nexport const forcesDev = () => {\n    const config = {\n        width: 700,\n        height: 700,\n        // fps: 30,\n    };\n\n    const numParticles = 10;\n    const particlesArray = [];\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n\n            // props.color = 'white';\n            // props.mass = 1;\n            props.radius = Math.sqrt(props.mass) * 10;\n            props.y = 0;\n            props.velocityX = 0;\n            props.velocityY = 0;\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 0, g: 0, b: 50, a: 0.5 });\n        drawRect(context)(0, canvas.height / 2, canvas.width, canvas.height / 2, 'rgba(255,255,255,.1');\n        for (let i = 0; i < numParticles; i++) {\n            const gravity = new Vector(0, 0.25);\n            const wind = new Vector(1, 0);\n\n            const weight = gravity.mult(particlesArray[i].mass);\n\n            if (mouse.isDown) {\n                applyForce(wind, particlesArray[i]);\n            }\n\n            applyForce(weight, particlesArray[i]);\n\n            if (particlesArray[i].y + particlesArray[i].radius >= canvas.height) {\n                friction(particlesArray[i]);\n            }\n\n            if (particlesArray[i].y + particlesArray[i].radius >= canvas.height / 2) {\n                drag(particlesArray[i]);\n            }\n\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            drawRotatedParticle(context, drawTestPoint, particlesArray[i]);\n            drawParticleVectors(context)(particlesArray[i]);\n            particlesArray[i].aVector = { x: 0, y: 0 };\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n    edgeWrap,\n    applyForce,\n    friction,\n    drag,\n    attract,\n} from './lib/particle';\nimport {\n    clearCanvas,\n    connectParticles,\n    drawMouse,\n    drawPoint,\n    drawPointTrail,\n    drawRotatedParticle,\n    drawTestPoint,\n    drawTriangle,\n    background,\n    drawRake,\n    drawParticleVectors,\n    drawRect,\n} from './lib/canvas';\n\nexport const forcesDevGravity = () => {\n    const config = {\n        // width: 700,\n        // height: 700,\n        // fps: 30,\n    };\n\n    const numParticles = 50;\n    const particlesArray = [];\n\n    const attractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 100, g: 20 };\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = Math.sqrt(props.mass);\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    // const targetX = mouse.x ? mouse.x : canvas.width / 2;\n    // const targetY = mouse.y ? mouse.y : canvas.height / 2;\n    // accelerateToPoint(targetX, targetY, particlesArray[i]);\n    // https://www.youtube.com/watch?v=T84AWnntxZA\n    // const accelerateToPoint = (targetX, targetY, particle) => {\n    //     const magnitude = 0.001;\n    //     const vLimit = 5;\n    //     const accX = ((targetX - particle.x) * magnitude) / particle.mass;\n    //     const accY = ((targetY - particle.y) * magnitude) / particle.mass;\n    //     particle.velocityX += accX;\n    //     particle.velocityY += accY;\n    //     particle.velocityX = clamp(-vLimit, vLimit, particle.velocityX);\n    //     particle.velocityY = clamp(-vLimit, vLimit, particle.velocityY);\n    // };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 0, g: 0, b: 50, a: 0.01 });\n\n        let mode = 1;\n\n        attractor.x = mouse.x ? mouse.x : canvasCenterX;\n        attractor.y = mouse.y ? mouse.y : canvasCenterY;\n\n        for (let i = 0; i < numParticles; i++) {\n            if (mouse.isDown) {\n                mode = -1;\n            } else {\n                mode = 1;\n            }\n            attract(attractor, particlesArray[i], mode, 2000);\n            particlesArray[i].vVector = particlesArray[i].vVector.limit(20);\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            drawRotatedParticle(context, drawRake, particlesArray[i]);\n            particlesArray[i].aVector = { x: 0, y: 0 };\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import { createRandomNumberArray, pointOnCircle, randomNumberBetween, createGridPoints, lerpRange } from './lib/math';\nimport {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n    edgeWrap,\n    attract,\n} from './lib/particle';\nimport {\n    background,\n    clearCanvas,\n    connectParticles,\n    drawMouse,\n    drawLine,\n    drawPoint,\n    drawPointTrail,\n    fillCanvas,\n    drawSpikeCircle,\n    drawAttractor,\n} from './lib/canvas';\n\nexport const testGrid = () => {\n    const config = {\n        // width: 500,\n        // height: 500,\n        // fps: 24,\n    };\n\n    let numParticles;\n    const particlesArray = [];\n    let gridPoints = [];\n    const hue = 0;\n\n    let attractorDist;\n\n    let leftattractor;\n    let midattractor;\n    let rightattractor;\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        attractorDist = canvas.width / 0.7;\n\n        leftattractor = { x: 0, y: canvas.height / 2, mass: 10, g: 3 };\n        midattractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 50, g: 10 };\n        rightattractor = { x: canvas.width, y: canvas.height / 2, mass: 10, g: 3 };\n\n        gridPoints = createGridPoints(canvas.width, canvas.height, 100, 100, canvas.width / 50, canvas.height / 50);\n        numParticles = gridPoints.length;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = gridPoints[i][0];\n            props.y = gridPoints[i][1];\n            props.velocityX = 0;\n            props.velocityY = 0;\n            props.mass = 1;\n            props.radius = 1; // randomNumberBetween(10, 30);\n            props.spikes = createRandomNumberArray(20, 0, 360);\n\n            const h = lerpRange(0, canvas.width, 0, 90, props.x);\n            const s = 100; // lerpRange(0,10,0,100,prop.radius);\n            const l = 50; // lerpRange(0,10,25,75,prop.radius);\n            props.color = `hsla(${h},${s}%,${l}%,0.1)`;\n\n            // props.color = { r: 0, g: 0, b: 0, a: 0.1 };\n\n            particlesArray.push(new Particle(props));\n        }\n\n        background(canvas, context)('white');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        // background(canvas, context)({ r: 255, g: 255, b: 255, a: 0.001 });\n\n        // let mode = 1;\n\n        // attractor.x = mouse.x ? mouse.x : canvasCenterX;\n        // attractor.y = mouse.y ? mouse.y : canvasCenterY;\n\n        for (let i = 0; i < numParticles; i++) {\n            // if (mouse.isDown) {\n            //     mode = -1;\n            // } else {\n            //     mode = 1;\n            // }\n            attract(leftattractor, particlesArray[i], -1, attractorDist);\n            attract(midattractor, particlesArray[i], 1, attractorDist);\n            attract(rightattractor, particlesArray[i], -1, attractorDist);\n\n            particlesArray[i].vVector = particlesArray[i].vVector.limit(10);\n\n            updatePosWithVelocity(particlesArray[i]);\n            // edgeBounce(canvas, particlesArray[i]);\n            // edgeWrap(canvas, particlesArray[i]);\n            drawPoint(context)(particlesArray[i]);\n\n            // drawSpikeCircle(context)(particlesArray[i], particlesArray[i].props.spikes);\n        }\n        connectParticles(context)(particlesArray, 50, false);\n        // drawAttractor(context)(leftattractor, -1, attractorDist);\n        // drawAttractor(context)(midattractor, 1, attractorDist);\n        // drawAttractor(context)(rightattractor, -1, attractorDist);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","module.exports = [[\"#69d2e7\",\"#a7dbd8\",\"#e0e4cc\",\"#f38630\",\"#fa6900\"],[\"#fe4365\",\"#fc9d9a\",\"#f9cdad\",\"#c8c8a9\",\"#83af9b\"],[\"#ecd078\",\"#d95b43\",\"#c02942\",\"#542437\",\"#53777a\"],[\"#556270\",\"#4ecdc4\",\"#c7f464\",\"#ff6b6b\",\"#c44d58\"],[\"#774f38\",\"#e08e79\",\"#f1d4af\",\"#ece5ce\",\"#c5e0dc\"],[\"#e8ddcb\",\"#cdb380\",\"#036564\",\"#033649\",\"#031634\"],[\"#490a3d\",\"#bd1550\",\"#e97f02\",\"#f8ca00\",\"#8a9b0f\"],[\"#594f4f\",\"#547980\",\"#45ada8\",\"#9de0ad\",\"#e5fcc2\"],[\"#00a0b0\",\"#6a4a3c\",\"#cc333f\",\"#eb6841\",\"#edc951\"],[\"#e94e77\",\"#d68189\",\"#c6a49a\",\"#c6e5d9\",\"#f4ead5\"],[\"#3fb8af\",\"#7fc7af\",\"#dad8a7\",\"#ff9e9d\",\"#ff3d7f\"],[\"#d9ceb2\",\"#948c75\",\"#d5ded9\",\"#7a6a53\",\"#99b2b7\"],[\"#ffffff\",\"#cbe86b\",\"#f2e9e1\",\"#1c140d\",\"#cbe86b\"],[\"#efffcd\",\"#dce9be\",\"#555152\",\"#2e2633\",\"#99173c\"],[\"#343838\",\"#005f6b\",\"#008c9e\",\"#00b4cc\",\"#00dffc\"],[\"#413e4a\",\"#73626e\",\"#b38184\",\"#f0b49e\",\"#f7e4be\"],[\"#ff4e50\",\"#fc913a\",\"#f9d423\",\"#ede574\",\"#e1f5c4\"],[\"#99b898\",\"#fecea8\",\"#ff847c\",\"#e84a5f\",\"#2a363b\"],[\"#655643\",\"#80bca3\",\"#f6f7bd\",\"#e6ac27\",\"#bf4d28\"],[\"#00a8c6\",\"#40c0cb\",\"#f9f2e7\",\"#aee239\",\"#8fbe00\"],[\"#351330\",\"#424254\",\"#64908a\",\"#e8caa4\",\"#cc2a41\"],[\"#554236\",\"#f77825\",\"#d3ce3d\",\"#f1efa5\",\"#60b99a\"],[\"#5d4157\",\"#838689\",\"#a8caba\",\"#cad7b2\",\"#ebe3aa\"],[\"#8c2318\",\"#5e8c6a\",\"#88a65e\",\"#bfb35a\",\"#f2c45a\"],[\"#fad089\",\"#ff9c5b\",\"#f5634a\",\"#ed303c\",\"#3b8183\"],[\"#ff4242\",\"#f4fad2\",\"#d4ee5e\",\"#e1edb9\",\"#f0f2eb\"],[\"#f8b195\",\"#f67280\",\"#c06c84\",\"#6c5b7b\",\"#355c7d\"],[\"#d1e751\",\"#ffffff\",\"#000000\",\"#4dbce9\",\"#26ade4\"],[\"#1b676b\",\"#519548\",\"#88c425\",\"#bef202\",\"#eafde6\"],[\"#5e412f\",\"#fcebb6\",\"#78c0a8\",\"#f07818\",\"#f0a830\"],[\"#bcbdac\",\"#cfbe27\",\"#f27435\",\"#f02475\",\"#3b2d38\"],[\"#452632\",\"#91204d\",\"#e4844a\",\"#e8bf56\",\"#e2f7ce\"],[\"#eee6ab\",\"#c5bc8e\",\"#696758\",\"#45484b\",\"#36393b\"],[\"#f0d8a8\",\"#3d1c00\",\"#86b8b1\",\"#f2d694\",\"#fa2a00\"],[\"#2a044a\",\"#0b2e59\",\"#0d6759\",\"#7ab317\",\"#a0c55f\"],[\"#f04155\",\"#ff823a\",\"#f2f26f\",\"#fff7bd\",\"#95cfb7\"],[\"#b9d7d9\",\"#668284\",\"#2a2829\",\"#493736\",\"#7b3b3b\"],[\"#bbbb88\",\"#ccc68d\",\"#eedd99\",\"#eec290\",\"#eeaa88\"],[\"#b3cc57\",\"#ecf081\",\"#ffbe40\",\"#ef746f\",\"#ab3e5b\"],[\"#a3a948\",\"#edb92e\",\"#f85931\",\"#ce1836\",\"#009989\"],[\"#300030\",\"#480048\",\"#601848\",\"#c04848\",\"#f07241\"],[\"#67917a\",\"#170409\",\"#b8af03\",\"#ccbf82\",\"#e33258\"],[\"#aab3ab\",\"#c4cbb7\",\"#ebefc9\",\"#eee0b7\",\"#e8caaf\"],[\"#e8d5b7\",\"#0e2430\",\"#fc3a51\",\"#f5b349\",\"#e8d5b9\"],[\"#ab526b\",\"#bca297\",\"#c5ceae\",\"#f0e2a4\",\"#f4ebc3\"],[\"#607848\",\"#789048\",\"#c0d860\",\"#f0f0d8\",\"#604848\"],[\"#b6d8c0\",\"#c8d9bf\",\"#dadabd\",\"#ecdbbc\",\"#fedcba\"],[\"#a8e6ce\",\"#dcedc2\",\"#ffd3b5\",\"#ffaaa6\",\"#ff8c94\"],[\"#3e4147\",\"#fffedf\",\"#dfba69\",\"#5a2e2e\",\"#2a2c31\"],[\"#fc354c\",\"#29221f\",\"#13747d\",\"#0abfbc\",\"#fcf7c5\"],[\"#cc0c39\",\"#e6781e\",\"#c8cf02\",\"#f8fcc1\",\"#1693a7\"],[\"#1c2130\",\"#028f76\",\"#b3e099\",\"#ffeaad\",\"#d14334\"],[\"#a7c5bd\",\"#e5ddcb\",\"#eb7b59\",\"#cf4647\",\"#524656\"],[\"#dad6ca\",\"#1bb0ce\",\"#4f8699\",\"#6a5e72\",\"#563444\"],[\"#5c323e\",\"#a82743\",\"#e15e32\",\"#c0d23e\",\"#e5f04c\"],[\"#edebe6\",\"#d6e1c7\",\"#94c7b6\",\"#403b33\",\"#d3643b\"],[\"#fdf1cc\",\"#c6d6b8\",\"#987f69\",\"#e3ad40\",\"#fcd036\"],[\"#230f2b\",\"#f21d41\",\"#ebebbc\",\"#bce3c5\",\"#82b3ae\"],[\"#b9d3b0\",\"#81bda4\",\"#b28774\",\"#f88f79\",\"#f6aa93\"],[\"#3a111c\",\"#574951\",\"#83988e\",\"#bcdea5\",\"#e6f9bc\"],[\"#5e3929\",\"#cd8c52\",\"#b7d1a3\",\"#dee8be\",\"#fcf7d3\"],[\"#1c0113\",\"#6b0103\",\"#a30006\",\"#c21a01\",\"#f03c02\"],[\"#000000\",\"#9f111b\",\"#b11623\",\"#292c37\",\"#cccccc\"],[\"#382f32\",\"#ffeaf2\",\"#fcd9e5\",\"#fbc5d8\",\"#f1396d\"],[\"#e3dfba\",\"#c8d6bf\",\"#93ccc6\",\"#6cbdb5\",\"#1a1f1e\"],[\"#f6f6f6\",\"#e8e8e8\",\"#333333\",\"#990100\",\"#b90504\"],[\"#1b325f\",\"#9cc4e4\",\"#e9f2f9\",\"#3a89c9\",\"#f26c4f\"],[\"#a1dbb2\",\"#fee5ad\",\"#faca66\",\"#f7a541\",\"#f45d4c\"],[\"#c1b398\",\"#605951\",\"#fbeec2\",\"#61a6ab\",\"#accec0\"],[\"#5e9fa3\",\"#dcd1b4\",\"#fab87f\",\"#f87e7b\",\"#b05574\"],[\"#951f2b\",\"#f5f4d7\",\"#e0dfb1\",\"#a5a36c\",\"#535233\"],[\"#8dccad\",\"#988864\",\"#fea6a2\",\"#f9d6ac\",\"#ffe9af\"],[\"#2d2d29\",\"#215a6d\",\"#3ca2a2\",\"#92c7a3\",\"#dfece6\"],[\"#413d3d\",\"#040004\",\"#c8ff00\",\"#fa023c\",\"#4b000f\"],[\"#eff3cd\",\"#b2d5ba\",\"#61ada0\",\"#248f8d\",\"#605063\"],[\"#ffefd3\",\"#fffee4\",\"#d0ecea\",\"#9fd6d2\",\"#8b7a5e\"],[\"#cfffdd\",\"#b4dec1\",\"#5c5863\",\"#a85163\",\"#ff1f4c\"],[\"#9dc9ac\",\"#fffec7\",\"#f56218\",\"#ff9d2e\",\"#919167\"],[\"#4e395d\",\"#827085\",\"#8ebe94\",\"#ccfc8e\",\"#dc5b3e\"],[\"#a8a7a7\",\"#cc527a\",\"#e8175d\",\"#474747\",\"#363636\"],[\"#f8edd1\",\"#d88a8a\",\"#474843\",\"#9d9d93\",\"#c5cfc6\"],[\"#046d8b\",\"#309292\",\"#2fb8ac\",\"#93a42a\",\"#ecbe13\"],[\"#f38a8a\",\"#55443d\",\"#a0cab5\",\"#cde9ca\",\"#f1edd0\"],[\"#a70267\",\"#f10c49\",\"#fb6b41\",\"#f6d86b\",\"#339194\"],[\"#ff003c\",\"#ff8a00\",\"#fabe28\",\"#88c100\",\"#00c176\"],[\"#ffedbf\",\"#f7803c\",\"#f54828\",\"#2e0d23\",\"#f8e4c1\"],[\"#4e4d4a\",\"#353432\",\"#94ba65\",\"#2790b0\",\"#2b4e72\"],[\"#0ca5b0\",\"#4e3f30\",\"#fefeeb\",\"#f8f4e4\",\"#a5b3aa\"],[\"#4d3b3b\",\"#de6262\",\"#ffb88c\",\"#ffd0b3\",\"#f5e0d3\"],[\"#fffbb7\",\"#a6f6af\",\"#66b6ab\",\"#5b7c8d\",\"#4f2958\"],[\"#edf6ee\",\"#d1c089\",\"#b3204d\",\"#412e28\",\"#151101\"],[\"#9d7e79\",\"#ccac95\",\"#9a947c\",\"#748b83\",\"#5b756c\"],[\"#fcfef5\",\"#e9ffe1\",\"#cdcfb7\",\"#d6e6c3\",\"#fafbe3\"],[\"#9cddc8\",\"#bfd8ad\",\"#ddd9ab\",\"#f7af63\",\"#633d2e\"],[\"#30261c\",\"#403831\",\"#36544f\",\"#1f5f61\",\"#0b8185\"],[\"#aaff00\",\"#ffaa00\",\"#ff00aa\",\"#aa00ff\",\"#00aaff\"],[\"#d1313d\",\"#e5625c\",\"#f9bf76\",\"#8eb2c5\",\"#615375\"],[\"#ffe181\",\"#eee9e5\",\"#fad3b2\",\"#ffba7f\",\"#ff9c97\"],[\"#73c8a9\",\"#dee1b6\",\"#e1b866\",\"#bd5532\",\"#373b44\"],[\"#805841\",\"#dcf7f3\",\"#fffcdd\",\"#ffd8d8\",\"#f5a2a2\"]];","import * as nicepalettes from 'nice-color-palettes';\nimport { oneOf } from './math';\n\nexport const palettes = {\n    pop: ['#ed3441', '#ffd630', '#329fe3', '#154296', '#ffffff', '#303030'],\n    '70s': ['#73BFA3', '#F2DBAE', '#F29829', '#D9631E', '#593C2C'],\n    '80s_pastells': ['#FF3F3F', '#FF48C4', '#F3EA5F', '#C04DF9', '#2BD1FC', '#38CEF6'],\n    '80s_pop': ['#FF82E2', '#70BAFF', '#FED715', '#0037B3', '#FE0879'],\n    '90s': ['#42C8B0', '#4575F3', '#6933B0', '#D36F88', '#FC8D45'],\n    retro_sunset: ['#FFD319', '#FF2975', '#F222FF', '#8C1EFF', '#FF901F'],\n    vapor_wave: ['#F6A3EF', '#50D8EC', '#DD6DFB', '#EECD69', '#6FEAE6'],\n};\n\nexport const nicePalette = (_) => nicepalettes[oneOf(Object.keys(nicepalettes))];\nexport const palette = (_) => palettes[oneOf(Object.keys(palettes))];\n","import random from 'canvas-sketch-util/random';\nimport { background, drawCircleFilled } from './lib/canvas';\nimport { nicePalette } from './lib/palettes';\nimport { createGridPoints2dNoise, marginify, oneOf, toSinValue } from './lib/math';\n\nexport const timebasedTemplate = () => {\n    const config = {\n        width: 600,\n        height: 600,\n        fps: 60,\n    };\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n    let counter = 0;\n    let grid = createGridPoints2dNoise(15, 15);\n\n    // FPS must be defined\n    const loop = 0; // total loops\n    const duration = 5; // duration of each loop in seconds\n    const totalLoopFrames = duration ? duration * config.fps : 1;\n    let drawLoopIterations = 0; // number of times drawn\n    let time = 0; // elapsed time in seconds\n    let playhead = 0; // current progress of the loop between 0 and 1\n    let frame = 1; // frame of the loop\n    let elapsedLoops = 0;\n\n    const updateTimeProps = () => {\n        drawLoopIterations++;\n        if (config.fps) {\n            // one frame\n            frame++;\n            playhead = frame / totalLoopFrames;\n            if (drawLoopIterations % config.fps === 0) {\n                // a second elapsed\n                time++;\n                if (frame >= totalLoopFrames) {\n                    // one loop duration passed\n                    // console.log('Looping');\n                    elapsedLoops++;\n                    playhead = 0;\n                    frame = 0;\n                    if (loop && elapsedLoops >= loop) {\n                        console.log('End of loops');\n                        return -1;\n                    }\n                }\n            }\n        }\n        return 1;\n    };\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n        const colors = nicePalette();\n        grid = grid.map((g) => {\n            g.color = oneOf(colors);\n            return g;\n        });\n        background(canvas, context)('rgba(255,255,255,1');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)('rgba(255,255,255,.1');\n\n        grid.forEach(({ position, color }) => {\n            const [u, v] = position;\n            const { x, y } = marginify({ margin: 100, u, v, width: canvas.width, height: canvas.height });\n            const t = toSinValue(playhead) * 0.1;\n            const radius = Math.abs(random.noise3D(u, v, counter) * 3) * t;\n            drawCircleFilled(context)(color, x, y, radius * 50);\n        });\n\n        counter += 0.01;\n        const end = updateTimeProps();\n        return end;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import sourcePng from '../hi1.png';\nimport {\n    clearCanvas,\n    drawSquare,\n    background,\n    getImageDataFromImage,\n    getImageColor,\n    connectParticles,\n    drawPoint,\n} from './lib/canvas';\nimport { createRandomParticleValues, edgeWrap, Particle, drag, updatePosWithVelocity } from './lib/particle';\nimport { createGridPoints, createRandomNumberArray, lerpRange, randomNumberBetween } from './lib/math';\n\nexport const hiImage01 = (_) => {\n    const config = {\n        width: 600,\n        height: 600,\n    };\n\n    const numParticles = 500;\n    let imageZoomFactor;\n    const png = new Image();\n    png.src = sourcePng;\n    const particlesArray = [];\n    let imageData;\n    const particleColor = { r: 252, g: 3, b: 152 };\n    // let imageColorData;\n\n    // const createColorArrayFromImageData = (imageData) => {\n    //     const data = [];\n    //     for (let y = 0, { height } = imageData; y < height; y++) {\n    //         for (let x = 0, { width } = imageData; x < width; x++) {\n    //             data.push({ x, y, ...getImageColor(imageData, x, y) });\n    //         }\n    //     }\n    //     return data;\n    // };\n\n    const setup = (canvas, context) => {\n        imageData = getImageDataFromImage(context)(png);\n        clearCanvas(canvas, context)();\n\n        imageZoomFactor = canvas.width / imageData.width;\n\n        // imageColorData = createColorArrayFromImageData(imageData);\n\n        // const gridPoints = createGridPoints(\n        //     canvas.width,\n        //     canvas.height,\n        //     100,\n        //     100,\n        //     canvas.width / 50,\n        //     canvas.height / 50\n        // );\n        // numParticles = gridPoints.length;\n        // for (let i = 0; i < numParticles; i++) {\n        //     const props = createRandomParticleValues(canvas);\n        //     props.x = gridPoints[i][0];\n        //     props.y = gridPoints[i][1];\n        //     props.radius = randomNumberBetween(1, 5);\n        //     props.color = particleColor;\n        //     particlesArray.push(new Particle(props));\n        // }\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = randomNumberBetween(1, 5);\n            props.color = particleColor;\n            if (i % 2) {\n                props.x = 0;\n            } else {\n                props.x = canvas.width;\n            }\n            particlesArray.push(new Particle(props));\n        }\n\n        background(canvas, context)({ r: 255, g: 255, b: 0 });\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 255, g: 255, b: 0, a: 0.004 });\n\n        for (let i = 0; i < numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeWrap(canvas, particlesArray[i]);\n\n            const pxColor = getImageColor(\n                imageData,\n                Math.round(particlesArray[i].x / imageZoomFactor),\n                Math.round(particlesArray[i].y / imageZoomFactor)\n            );\n\n            if (pxColor.r > 250) {\n                drag(particlesArray[i], 0.001);\n                particlesArray[i].color = { r: 3, g: 227, b: 252 };\n            } else {\n                particlesArray[i].color = particleColor;\n            }\n\n            drawPoint(context)(particlesArray[i]);\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n} from './lib/particle';\nimport {clearCanvas, connectParticles, drawMouse, drawPoint, drawPointTrail, fillCanvas} from './lib/canvas';\n\n// Based on https://www.youtube.com/watch?v=d620nV6bp0A\nexport const variation1 = () => {\n    const numParticles= 100;\n    const particlesArray = [];\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width/2;\n        canvasCenterY = canvas.height/2;\n        centerRadius = canvas.height/4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = 5;\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)();\n\n        for (let i = 0; i < numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            avoidPoint({ radius: centerRadius, x:canvasCenterX, y:canvasCenterY }, particlesArray[i], 4);\n            attractPoint(mouse, particlesArray[i], mouse.isDown ? -1 : 1);\n            drawPoint(context)(particlesArray[i]);\n            drawPointTrail(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 200);\n        drawMouse(context)(mouse);\n    };\n\n    return {\n        setup,\n        draw,\n    };\n};\n","import { avoidPoint, Particle, createRandomParticleValues } from './lib/particle';\nimport { clearCanvas, connectParticles, drawMouse, drawPoint } from './lib/canvas';\nimport { randomNumberBetween } from './lib/math';\n\n// Based on https://www.youtube.com/watch?v=j_BgnpMPxzM\nexport const variation2 = () => {\n    const config = {\n        friction: 0.8,\n        gravity: 1,\n        decay: 0.05,\n        tweenDamp: 0.1,\n        margin: 50,\n        intensity: 0,\n        numParticles: 200,\n    };\n\n    const particlesArray = [];\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            particlesArray.push(new Particle(createRandomParticleValues(canvas)));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        clearCanvas(canvas, context)();\n\n        for (let i = 0; i < config.numParticles; i++) {\n            particlesArray[i].radius -= config.decay;\n            if (particlesArray[i].radius <= 0) {\n                const newValues = createRandomParticleValues(canvas);\n                const newCoords = mouse;\n                newValues.x = newCoords.x + randomNumberBetween(-10, 10);\n                newValues.y = newCoords.y + randomNumberBetween(-10, 10);\n                particlesArray[i].initValues(newValues);\n            }\n            particlesArray[i].y += particlesArray[i].mass * (mouse.isDown ? 1 : 0.2);\n            particlesArray[i].mass += 0.2 * config.gravity;\n            if (\n                particlesArray[i].y + particlesArray[i].radius > canvas.height ||\n                particlesArray[i].y - particlesArray[i].radius < 0\n            ) {\n                particlesArray[i].mass *= -1;\n            }\n\n            avoidPoint(mouse, particlesArray[i]);\n            // attractPoint(psMouseCoords(), particlesArray[i]);\n            drawPoint(context)(particlesArray[i]);\n            // drawPointTrail(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 100);\n        drawMouse(context)(mouse);\n\n        return 1;\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import domokunPng from '../domokun.png';\nimport { clearCanvas, drawMouse, drawSquare, background, getImageDataFromImage, getImageColor } from './lib/canvas';\nimport { randomNumberBetween, scalePointToCanvas } from './lib/math';\nimport { Particle, pointPush } from './lib/particle';\n\n// Based on https://www.youtube.com/watch?v=afdHgwn1XCY\nexport const domokun = (_) => {\n    const config = {\n        width: 600,\n        height: 600,\n    };\n\n    let numParticles;\n    const imageSize = 100; // square\n    const png = new Image();\n    png.src = domokunPng;\n    const particlesArray = [];\n\n    const setup = (canvas, context) => {\n        const imageData = getImageDataFromImage(context)(png);\n        clearCanvas(canvas, context)();\n\n        const imageZoomFactor = canvas.width / imageSize;\n        const cropColor = 255 / 2;\n\n        for (let y = 0, { height } = imageData; y < height; y++) {\n            for (let x = 0, { width } = imageData; x < width; x++) {\n                const pxColor = getImageColor(imageData, x, y);\n                if (pxColor.a > cropColor) {\n                    const points = scalePointToCanvas(\n                        canvas.width,\n                        canvas.height,\n                        imageData.width,\n                        imageData.height,\n                        imageZoomFactor,\n                        x,\n                        y\n                    );\n                    const pX = points.x;\n                    const pY = points.y;\n                    const mass = randomNumberBetween(2, 12);\n                    const color = pxColor;\n                    const radius = imageZoomFactor;\n                    particlesArray.push(new Particle({ x: pX, y: pY, mass, color, radius }));\n                }\n            }\n        }\n\n        numParticles = particlesArray.length;\n    };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)('yellow');\n\n        for (let i = 0; i < numParticles; i++) {\n            pointPush(mouse, particlesArray[i], mouse.isDown ? -1 : 1);\n            drawSquare(context)(particlesArray[i]);\n        }\n        // drawMouse(context)(mouse);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {createRandomParticleValues, Particle, pointPush} from \"./lib/particle\";\nimport {connectParticles, drawPoint, fillCanvas} from \"./lib/canvas\";\n\nexport const variation4 = () => {\n    const config = {\n        numParticles:0\n    };\n\n    const particlesArray = [];\n    const circles = [];\n\n    const setup = (canvas, context) => {\n        const centerX = canvas.width/2;\n        const centerY = canvas.height/2;\n        const diameter = canvas.height/4;\n        const steps = 10;\n\n        for(let theta = 0; theta < 360; theta += steps) {\n            const rad = theta*(Math.PI/180);\n            const x = (Math.cos(rad)*diameter)+centerX;\n            const y = (Math.sin(rad)*diameter)+centerY;\n            circles.push([x, y]);\n            const props = createRandomParticleValues(canvas);\n            props.x = x;\n            props.y = y;\n            props.radius=1;\n            props.color = {r:0,g:0,b:0}\n            props.index = circles.length-1;\n            particlesArray.push(new Particle(props));\n        }\n        config.numParticles = particlesArray.length;\n        fillCanvas(canvas, context)(1,'255,255,255');\n    };\n\n    // will run every frame\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)(0.005,'255,255,255');\n        for (let i = 0; i < config.numParticles; i++) {\n            pointPush(mouse, particlesArray[i], mouse.isDown ? -1 : 5);\n            drawPoint(context)(particlesArray[i]);\n            // let index = particlesArray[i].index + 1;\n            // if(index === circles.length) {\n            //     index = 0;\n            // }\n            // particlesArray[i].x = circles[index][0];\n            // particlesArray[i].y = circles[index][1];\n            // particlesArray.index = index;\n        }\n        connectParticles(context)(particlesArray, 200);\n        return 1; // -1 to exit animation loop\n\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};","import {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n} from './lib/particle';\nimport {clearCanvas, connectParticles, drawMouse, drawPoint, drawPointTrail, fillCanvas} from './lib/canvas';\nimport {randomNumberBetween} from \"./lib/math\";\n\n\nexport const variation5 = () => {\n    const config = {\n        numParticles: 50,\n    };\n\n    const particlesArray = [];\n    const circles = [];\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < config.numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = canvas.width / 2;\n            props.y = canvas.height / 2;\n            props.color = {r:0,g:0,b:0}\n            props.radius = .5;\n            particlesArray.push(new Particle(props));\n        }\n        const centerX = canvas.width/2;\n        const centerY = canvas.height/2;\n        const diameter = canvas.height/4;\n        const steps = 30;\n        for(let theta = 0; theta < 360; theta += steps) {\n            const rad = theta*(Math.PI/180);\n            const x = (Math.cos(rad)*diameter)+centerX;\n            const y = (Math.sin(rad)*diameter)+centerY;\n            circles.push([x, y, randomNumberBetween(20,100)]);\n        }\n        fillCanvas(canvas, context)(1,'255,255,255');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        // fillCanvas(canvas, context)(.005,'255,255,255');\n        for (let i = 0; i < config.numParticles; i++) {\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            for(let c=0;c<circles.length; c++) {\n                avoidPoint({ radius: circles[c][2],  x:circles[c][0],y:circles[c][1]}, particlesArray[i], 4);\n            }\n            drawPoint(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 50);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import {avoidPoint, Particle, createRandomParticleValues, updatePosWithVelocity, edgeBounce, gravityPoint} from './lib/particle';\nimport { fillCanvas, connectParticles, drawMouse, drawPoint } from './lib/canvas';\nimport {lerpRange, randomNumberBetween} from './lib/math';\n\n// Based on https://www.youtube.com/watch?v=j_BgnpMPxzM\nexport const variation6 = () => {\n\n    const numParticles = 200;\n    const particlesArray = [];\n    let hue=0;\n\n    const setup = (canvas, context) => {\n        for (let i = 0; i < numParticles; i++) {\n            const initValues = createRandomParticleValues(canvas);\n            initValues.color = {r:255,g:255,b:255};\n            particlesArray.push(new Particle(initValues));\n        }\n    };\n\n    const draw = (canvas, context, mouse) => {\n        fillCanvas(canvas, context)(.08);\n        if(hue++ > 361) hue = 0;\n        for (let i = 0; i < numParticles; i++) {\n            particlesArray[i].radius -= 0.05;\n            if (particlesArray[i].radius <= 0) {\n                const initValues = createRandomParticleValues(canvas);\n                initValues.x = mouse.x ? mouse.x : canvas.width/2;\n                initValues.y = mouse.y ? mouse.y : canvas.height/2;\n                // let h = lerpRange(0,canvas.width,100,200,initValues.x);\n                let s = lerpRange(0,10,0,100,initValues.radius);\n                let l = lerpRange(0,10,25,75,initValues.radius);\n                initValues.color = `hsl(${hue},${s}%,${l}%)`\n                particlesArray[i].initValues(initValues);\n            }\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n\n            gravityPoint()(canvas.width/2, canvas.height, 2000, particlesArray[i]);\n            // gravityPoint({x:canvas.width/2, y:canvas.height}, particlesArray[i])\n            drawPoint(context)(particlesArray[i]);\n        }\n        // connectParticles(context)(particlesArray, 100);\n        return 1;\n    };\n\n    return {\n        setup,\n        draw,\n    };\n};\n","import { edgeBounce, Particle, updatePosWithVelocity, createRandomParticleValues, attract } from './lib/particle';\nimport { drawRotatedParticle, background, drawRake } from './lib/canvas';\n\nexport const rainbowRakeOrbit = () => {\n    const config = {\n        // width: 700,\n        // height: 700,\n        // fps: 30,\n    };\n\n    const numParticles = 50;\n    const particlesArray = [];\n\n    const attractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 100, g: 20 };\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.radius = 1; // Math.sqrt(props.mass);\n            particlesArray.push(new Particle(props));\n        }\n    };\n\n    // const targetX = mouse.x ? mouse.x : canvas.width / 2;\n    // const targetY = mouse.y ? mouse.y : canvas.height / 2;\n    // accelerateToPoint(targetX, targetY, particlesArray[i]);\n    // https://www.youtube.com/watch?v=T84AWnntxZA\n    // const accelerateToPoint = (targetX, targetY, particle) => {\n    //     const magnitude = 0.001;\n    //     const vLimit = 5;\n    //     const accX = ((targetX - particle.x) * magnitude) / particle.mass;\n    //     const accY = ((targetY - particle.y) * magnitude) / particle.mass;\n    //     particle.velocityX += accX;\n    //     particle.velocityY += accY;\n    //     particle.velocityX = clamp(-vLimit, vLimit, particle.velocityX);\n    //     particle.velocityY = clamp(-vLimit, vLimit, particle.velocityY);\n    // };\n\n    const draw = (canvas, context, mouse) => {\n        background(canvas, context)({ r: 0, g: 0, b: 50, a: 0.01 });\n\n        let mode = 1;\n\n        attractor.x = mouse.x ? mouse.x : canvasCenterX;\n        attractor.y = mouse.y ? mouse.y : canvasCenterY;\n\n        for (let i = 0; i < numParticles; i++) {\n            if (mouse.isDown) {\n                mode = -1;\n            } else {\n                mode = 1;\n            }\n            attract(attractor, particlesArray[i], mode, 2000);\n            particlesArray[i].vVector = particlesArray[i].vVector.limit(20);\n            updatePosWithVelocity(particlesArray[i]);\n            edgeBounce(canvas, particlesArray[i]);\n            drawRotatedParticle(context, drawRake, particlesArray[i]);\n            particlesArray[i].aVector = { x: 0, y: 0 };\n        }\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","import { createRandomNumberArray, pointOnCircle, randomNumberBetween, createGridPoints, lerpRange } from './lib/math';\nimport {\n    attractPoint,\n    avoidPoint,\n    edgeBounce,\n    Particle,\n    updatePosWithVelocity,\n    createRandomParticleValues,\n    edgeWrap,\n    attract,\n} from './lib/particle';\nimport {\n    background,\n    clearCanvas,\n    connectParticles,\n    drawMouse,\n    drawLine,\n    drawPoint,\n    drawPointTrail,\n    fillCanvas,\n    drawSpikeCircle,\n    drawAttractor,\n} from './lib/canvas';\n\nexport const threeAttractors = () => {\n    const config = {\n        // width: 500,\n        // height: 500,\n        // fps: 24,\n    };\n\n    let numParticles;\n    const particlesArray = [];\n    let gridPoints = [];\n    const hue = 0;\n\n    let attractorDist;\n\n    let leftattractor;\n    let midattractor;\n    let rightattractor;\n\n    let canvasCenterX;\n    let canvasCenterY;\n    let centerRadius;\n\n    const setup = (canvas, context) => {\n        canvasCenterX = canvas.width / 2;\n        canvasCenterY = canvas.height / 2;\n        centerRadius = canvas.height / 4;\n\n        attractorDist = canvas.width / 0.7;\n\n        leftattractor = { x: 0, y: canvas.height / 2, mass: 10, g: 3 };\n        midattractor = { x: canvas.width / 2, y: canvas.height / 2, mass: 50, g: 10 };\n        rightattractor = { x: canvas.width, y: canvas.height / 2, mass: 10, g: 3 };\n\n        gridPoints = createGridPoints(canvas.width, canvas.height, 100, 100, canvas.width / 50, canvas.height / 50);\n        numParticles = gridPoints.length;\n\n        for (let i = 0; i < numParticles; i++) {\n            const props = createRandomParticleValues(canvas);\n            props.x = gridPoints[i][0];\n            props.y = gridPoints[i][1];\n            props.velocityX = 0;\n            props.velocityY = 0;\n            props.mass = 1;\n            props.radius = 1; // randomNumberBetween(10, 30);\n            props.spikes = createRandomNumberArray(20, 0, 360);\n\n            const h = lerpRange(0, canvas.width, 0, 90, props.x);\n            const s = 100; // lerpRange(0,10,0,100,prop.radius);\n            const l = 50; // lerpRange(0,10,25,75,prop.radius);\n            props.color = `hsla(${h},${s}%,${l}%,0.1)`;\n\n            // props.color = { r: 0, g: 0, b: 0, a: 0.1 };\n\n            particlesArray.push(new Particle(props));\n        }\n\n        background(canvas, context)('white');\n    };\n\n    const draw = (canvas, context, mouse) => {\n        // background(canvas, context)({ r: 255, g: 255, b: 255, a: 0.001 });\n        for (let i = 0; i < numParticles; i++) {\n            attract(leftattractor, particlesArray[i], -1, attractorDist);\n            attract(midattractor, particlesArray[i], 1, attractorDist);\n            attract(rightattractor, particlesArray[i], -1, attractorDist);\n\n            particlesArray[i].vVector = particlesArray[i].vVector.limit(10);\n\n            updatePosWithVelocity(particlesArray[i]);\n            // edgeBounce(canvas, particlesArray[i]);\n            drawPoint(context)(particlesArray[i]);\n        }\n        connectParticles(context)(particlesArray, 50, false);\n    };\n\n    return {\n        config,\n        setup,\n        draw,\n    };\n};\n","/*\nExplorations with generative code\n*/\n\nimport normliaze from 'normalize.css';\n\nimport { sketch } from './lib/sketch';\nimport { getRandomSeed } from './lib/math';\nimport { forcesDev } from './forcesDev';\nimport { forcesDevGravity } from './forcesDevGravity';\nimport { testGrid } from './test-grid';\nimport { timebasedTemplate } from './timebased-template';\nimport { hiImage01 } from './hiImage01';\nimport { variation1 } from './variation1';\nimport { variation2 } from './variation2';\nimport { domokun } from './domokun';\nimport { variation4 } from './variation4';\nimport { variation5 } from './variation5';\nimport { variation6 } from './variation6';\nimport { rainbowRakeOrbit } from './rainbow-rake-orbit-mouse';\nimport { threeAttractors } from './threeAttractors';\n\nconst s = sketch();\n\nconst DEBUG = true;\n\n// TODO append random seed value\nconst saveCanvasCapture = (_) => {\n    console.log('Saving capture');\n    const imageURI = s.canvas().toDataURL('image/png');\n    document.getElementById('download').setAttribute('download', `canvas-${getRandomSeed()}.png`);\n    document.getElementById('download').href = imageURI;\n};\n\ndocument.getElementById('download').addEventListener('click', saveCanvasCapture);\nwindow.addEventListener('keydown', (e) => {\n    if (e.key === 's') {\n        document.getElementById('download').click();\n    }\n});\n\nconst setNote = (note) => (document.getElementById('note').innerText = note);\n\nconst getQueryVariable = (variable) => {\n    const query = window.location.search.substring(1);\n    const vars = query.split('&');\n    for (let i = 0; i < vars.length; i++) {\n        const pair = vars[i].split('=');\n        if (pair[0] === variable) {\n            return pair[1];\n        }\n    }\n    return false;\n};\n\nlet variationKey = getQueryVariable('variation');\nvariationKey = variationKey || '1';\n\nconst variations = {\n    1: {\n        note: 'Particles are attracted to the pointer. Press to repel.',\n        sketch: variation1,\n    },\n    2: {\n        note: 'Press to increase speed.',\n        sketch: variation2,\n    },\n    3: {\n        note: 'Particles are repelled from the pointer. Press to attract.',\n        sketch: domokun,\n    },\n    4: {\n        note: 'Particles are repelled from the pointer. Press to attract.',\n        sketch: variation4,\n    },\n    5: {\n        note: 'Sit back and watch.',\n        sketch: variation5,\n    },\n    6: {\n        note: 'Move the mouse',\n        sketch: variation6,\n    },\n    7: {\n        note: 'Rakes orbit center and the mouse. Click to repel.',\n        sketch: rainbowRakeOrbit,\n    },\n    8: {\n        note: 'One attractor in the center, two on the sides.',\n        sketch: threeAttractors,\n    },\n    9: {\n        note: 'Say Hi',\n        sketch: hiImage01,\n    },\n};\n\nif (variations.hasOwnProperty(variationKey) & !DEBUG) {\n    const vToRun = variations[variationKey];\n    setNote(vToRun.note);\n    s.run(vToRun.sketch());\n} else {\n    setNote('Not a valid variation!');\n}\n\nif (DEBUG) {\n    // s.run(forcesDev());\n    // s.run(testGrid());\n    s.run(timebasedTemplate());\n}\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}